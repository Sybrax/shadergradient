var zt=Object.create;var Ee=Object.defineProperty,Ht=Object.defineProperties,qt=Object.getOwnPropertyDescriptor,jt=Object.getOwnPropertyDescriptors,Vt=Object.getOwnPropertyNames,ce=Object.getOwnPropertySymbols,Wt=Object.getPrototypeOf,Ne=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable;var Ge=(e,t,n)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||={})Ne.call(t,n)&&Ge(e,n,t[n]);if(ce)for(var n of ce(t))ze.call(t,n)&&Ge(e,n,t[n]);return e},y=(e,t)=>Ht(e,jt(t));var B=(e,t)=>{var n={};for(var r in e)Ne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ce)for(var r of ce(e))t.indexOf(r)<0&&ze.call(e,r)&&(n[r]=e[r]);return n};var ie=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Yt=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Vt(t))!Ne.call(e,i)&&i!==n&&Ee(e,i,{get:()=>t[i],enumerable:!(r=qt(t,i))||r.enumerable});return e};var Te=(e,t,n)=>(n=e!=null?zt(Wt(e)):{},Yt(t||!e||!e.__esModule?Ee(n,"default",{value:e,enumerable:!0}):n,e));var A=(e,t,n)=>new Promise((r,i)=>{var o=d=>{try{s(n.next(d))}catch(u){i(u)}},a=d=>{try{s(n.throw(d))}catch(u){i(u)}},s=d=>d.done?r(d.value):Promise.resolve(d.value).then(o,a);s((n=n.apply(e,t)).next())});var qe=ie((_n,He)=>{"use strict";He.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var Ze=ie((kn,Ye)=>{"use strict";var We="%[a-f0-9]{2}",je=new RegExp("("+We+")|([^%]+?)","gi"),Ve=new RegExp("("+We+")+","gi");function Ae(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],Ae(n),Ae(r))}function Zt(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(je)||[],n=1;n<t.length;n++)e=Ae(t,n).join(""),t=e.match(je)||[];return e}}function Xt(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},n=Ve.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{var r=Zt(n[0]);r!==n[0]&&(t[n[0]]=r)}n=Ve.exec(e)}t["%C2"]="\uFFFD";for(var i=Object.keys(t),o=0;o<i.length;o++){var a=i[o];e=e.replace(new RegExp(a,"g"),t[a])}return e}Ye.exports=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return Xt(e)}}});var Qe=ie((Un,Xe)=>{"use strict";Xe.exports=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];let n=e.indexOf(t);return n===-1?[e]:[e.slice(0,n),e.slice(n+t.length)]}});var Ke=ie((Gn,$e)=>{"use strict";$e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),o=0;o<r.length;o++){var a=r[o],s=e[a];(i?t.indexOf(a)!==-1:t(a,s,e))&&(n[a]=s)}return n}});var ue=ie(D=>{"use strict";var Qt=qe(),$t=Ze(),et=Qe(),Kt=Ke(),Jt=e=>e==null,we=Symbol("encodeFragmentIdentifier");function en(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{let i=n.length;return r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[P(t,e),"[",i,"]"].join("")]:[...n,[P(t,e),"[",P(i,e),"]=",P(r,e)].join("")]};case"bracket":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[P(t,e),"[]"].join("")]:[...n,[P(t,e),"[]=",P(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[P(t,e),":list="].join("")]:[...n,[P(t,e),":list=",P(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t=e.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?r:(i=i===null?"":i,r.length===0?[[P(n,e),t,P(i,e)].join("")]:[[r,P(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,P(t,e)]:[...n,[P(t,e),"=",P(r,e)].join("")]}}function tn(e){let t;switch(e.arrayFormat){case"index":return(n,r,i)=>{if(t=/\[(\d*)\]$/.exec(n),n=n.replace(/\[\d*\]$/,""),!t){i[n]=r;return}i[n]===void 0&&(i[n]={}),i[n][t[1]]=r};case"bracket":return(n,r,i)=>{if(t=/(\[\])$/.exec(n),n=n.replace(/\[\]$/,""),!t){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[].concat(i[n],r)};case"colon-list-separator":return(n,r,i)=>{if(t=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!t){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[].concat(i[n],r)};case"comma":case"separator":return(n,r,i)=>{let o=typeof r=="string"&&r.includes(e.arrayFormatSeparator),a=typeof r=="string"&&!o&&z(r,e).includes(e.arrayFormatSeparator);r=a?z(r,e):r;let s=o||a?r.split(e.arrayFormatSeparator).map(d=>z(d,e)):r===null?r:z(r,e);i[n]=s};case"bracket-separator":return(n,r,i)=>{let o=/(\[\])$/.test(n);if(n=n.replace(/\[\]$/,""),!o){i[n]=r&&z(r,e);return}let a=r===null?[]:r.split(e.arrayFormatSeparator).map(s=>z(s,e));if(i[n]===void 0){i[n]=a;return}i[n]=[].concat(i[n],a)};default:return(n,r,i)=>{if(i[n]===void 0){i[n]=r;return}i[n]=[].concat(i[n],r)}}}function tt(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function P(e,t){return t.encode?t.strict?Qt(e):encodeURIComponent(e):e}function z(e,t){return t.decode?$t(e):e}function nt(e){return Array.isArray(e)?e.sort():typeof e=="object"?nt(Object.keys(e)).sort((t,n)=>Number(t)-Number(n)).map(t=>e[t]):e}function rt(e){let t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function nn(e){let t="",n=e.indexOf("#");return n!==-1&&(t=e.slice(n)),t}function it(e){e=rt(e);let t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function Je(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function ot(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),tt(t.arrayFormatSeparator);let n=tn(t),r=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return r;for(let i of e.split("&")){if(i==="")continue;let[o,a]=et(t.decode?i.replace(/\+/g," "):i,"=");a=a===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:z(a,t),n(z(o,t),a,r)}for(let i of Object.keys(r)){let o=r[i];if(typeof o=="object"&&o!==null)for(let a of Object.keys(o))o[a]=Je(o[a],t);else r[i]=Je(o,t)}return t.sort===!1?r:(t.sort===!0?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((i,o)=>{let a=r[o];return Boolean(a)&&typeof a=="object"&&!Array.isArray(a)?i[o]=nt(a):i[o]=a,i},Object.create(null))}D.extract=it;D.parse=ot;D.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),tt(t.arrayFormatSeparator);let n=a=>t.skipNull&&Jt(e[a])||t.skipEmptyString&&e[a]==="",r=en(t),i={};for(let a of Object.keys(e))n(a)||(i[a]=e[a]);let o=Object.keys(i);return t.sort!==!1&&o.sort(t.sort),o.map(a=>{let s=e[a];return s===void 0?"":s===null?P(a,t):Array.isArray(s)?s.length===0&&t.arrayFormat==="bracket-separator"?P(a,t)+"[]":s.reduce(r(a),[]).join("&"):P(a,t)+"="+P(s,t)}).filter(a=>a.length>0).join("&")};D.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[n,r]=et(e,"#");return Object.assign({url:n.split("?")[0]||"",query:ot(it(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:z(r,t)}:{})};D.stringifyUrl=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[we]:!0},t);let n=rt(e.url).split("?")[0]||"",r=D.extract(e.url),i=D.parse(r,{sort:!1}),o=Object.assign(i,e.query),a=D.stringify(o,t);a&&(a=`?${a}`);let s=nn(e.url);return e.fragmentIdentifier&&(s=`#${t[we]?P(e.fragmentIdentifier,t):e.fragmentIdentifier}`),`${n}${a}${s}`};D.pick=(e,t,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[we]:!1},n);let{url:r,query:i,fragmentIdentifier:o}=D.parseUrl(e,n);return D.stringifyUrl({url:r,query:Kt(i,t),fragmentIdentifier:o},n)};D.exclude=(e,t,n)=>{let r=Array.isArray(t)?i=>!t.includes(i):(i,o)=>!t(i,o);return D.pick(e,r,n)}});var Ot=Te(ue());import{useEffect as $,useLayoutEffect as In,useState as k}from"react";import Cn from"react";import{useAnimationControls as Pn}from"framer-motion";var dt=Te(ue());import ee from"zustand";import{combine as on}from"zustand/middleware";var H=[{title:"Halo",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=3.6&cPolarAngle=90&cameraZoom=1&color1=%23ff5005&color2=%23dbba95&color3=%23d0bce1&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=-1.4&positionY=0&positionZ=0&reflection=0.1&rotationX=0&rotationY=10&rotationZ=50&shader=defaults&type=plane&uDensity=1.3&uSpeed=0.4&uStrength=4&uTime=0&uFrequency=5.5&wireframe=false"},{title:"Pensive",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.5&cAzimuthAngle=250&cDistance=1.5&cPolarAngle=140&cameraZoom=12.5&color1=%23809bd6&color2=%23910aff&color3=%23af38ff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.5&rotationX=0&rotationY=0&rotationZ=140&shader=defaults&type=sphere&uAmplitude=7&uDensity=0.8&uFrequency=5.5&uSpeed=0.3&uStrength=0.4&uTime=0&wireframe=false"},{title:"Mint",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=170&cDistance=4.4&cPolarAngle=70&cameraZoom=1&color1=%2394ffd1&color2=%236bf5ff&color3=%23ffffff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0.9&positionZ=-0.3&reflection=0.1&rotationX=45&rotationY=0&rotationZ=0&type=waterPlane&uAmplitude=0&uDensity=1.2&uFrequency=0&uSpeed=0.2&uStrength=3.4&uTime=0&wireframe=false&shader=defaults"},{title:"Interstella",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=0.8&cAzimuthAngle=270&cDistance=0.5&cPolarAngle=180&cameraZoom=15.1&color1=%2373bfc4&color2=%23ff810a&color3=%238da0ce&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=env&pixelDensity=1&fov=45&positionX=-0.1&positionY=0&positionZ=0&reflection=0.4&rotationX=0&rotationY=130&rotationZ=70&shader=defaults&type=sphere&uAmplitude=3.2&uDensity=0.8&uFrequency=5.5&uSpeed=0.3&uStrength=0.3&uTime=0&wireframe=false"},{title:"Nighty night",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1&cAzimuthAngle=180&cDistance=2.8&cPolarAngle=80&cameraZoom=9.1&color1=%23606080&color2=%238d7dca&color3=%23212121&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=50&rotationY=0&rotationZ=-60&shader=defaults&type=waterPlane&uAmplitude=0&uDensity=1.5&uFrequency=0&uSpeed=0.3&uStrength=1.5&uTime=8&wireframe=false"},{title:"Viola orientalis",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&brightness=1.1&cAzimuthAngle=0&cDistance=7.1&cPolarAngle=140&cameraZoom=17.3&color1=%23ffffff&color2=%23ffbb00&color3=%230700ff&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=0&type=sphere&uAmplitude=1.4&uDensity=1.1&uSpeed=0.1&uStrength=1&uTime=0&wireframe=false&uFrequency=5.5&shader=defaults"},{title:"Universe",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&brightness=1.1&cAzimuthAngle=180&cDistance=3.9&cPolarAngle=115&cameraZoom=1&color1=%235606FF&color2=%23FE8989&color3=%23000000&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=-0.5&positionY=0.1&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=235&type=waterPlane&uAmplitude=0&uDensity=1.1&uSpeed=0.1&uStrength=2.4&uTime=0.2&uFrequency=5.5&wireframe=false&shader=defaults"},{title:"Sunset",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&bgColor1=%23000000&bgColor2=%23000000&brightness=1.5&cAzimuthAngle=60&cDistance=7.1&cPolarAngle=90&cameraZoom=15.3&color1=%23ff7a33&color2=%2333a0ff&color3=%23ffc53d&embedMode=off&envPreset=dawn&grain=off&http%3A%2F%2Flocalhost%3A3002%2Fcustomize%3Fanimate=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=-0.15&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=0&shader=defaults&type=sphere&uAmplitude=1.4&uDensity=1.1&uSpeed=0.1&uStrength=0.4&uTime=0&uFrequency=5.5&wireframe=false"},{title:"Mandarin",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&bgColor1=%23000000&bgColor2=%23000000&brightness=1.2&cAzimuthAngle=180&cDistance=2.4&cPolarAngle=95&cameraZoom=1&color1=%23ff6a1a&color2=%23c73c00&color3=%23FD4912&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=-2.1&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=225&shader=defaults&type=waterPlane&uAmplitude=0&uFrequency=5.5&uDensity=1.8&uSpeed=0.2&uStrength=3&uTime=0.2&wireframe=false"},{title:"Cotton Candy",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=2.9&cPolarAngle=120&cameraZoom=1&color1=%23ebedff&color2=%23f3f2f8&color3=%23dbf8ff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=1.8&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=-90&type=waterPlane&uDensity=1&uSpeed=0.3&uStrength=3&uTime=0.2&uFrequency=5.5&wireframe=false&shader=defaults"}],at=H[0].url;var an=p({},ct()),q=ee(e=>an),oe=e=>{let t=typeof e=="string",n=e;t&&(n=ct(e)),q.setState(n,t)};function ct(e=at){return dt.parse(e,{parseNumbers:!0,parseBooleans:!0,arrayFormat:"index"})}var Wn=ee(()=>({dom:null})),Yn=ee(e=>({hoverState:0,hover:"default",updateHoverState:t=>e({hoverState:t})})),Z=ee(on({activePreset:0,mode:"full",loadingPercentage:0},e=>({setActivePreset:t=>e(n=>({activePreset:t})),setMode:t=>e(n=>y(p({},n),{mode:t})),setLoadingPercentage:t=>e(n=>y(p({},n),{loadingPercentage:t}))}))),st=ee(e=>({figma:{selection:0,user:null},setFigma:t=>e(n=>({figma:p(p({},n.figma),t)}))}));function j(){let e=st(n=>n.figma),t=st(n=>n.setFigma);return[e,t]}var lt=ee(e=>({billingInterval:"year",setBillingInterval:t=>e(n=>({billingInterval:t}))}));function te(){let e=lt(n=>n.billingInterval),t=lt(n=>n.setBillingInterval);return[e,t]}var ae=Te(ue());import{useCallback as Ie}from"react";var w=(e,t=null)=>{let n=Ie(a=>typeof a[e]!="undefined"?a[e]:t,[e,t]),r=q(n),i=Ie(a=>q.setState({[e]:a(q.getState()[e])}),[e]),o=Ie(a=>{i(s=>(typeof a=="function"&&(a=a(s||t)),Number.isFinite(a)&&(a=parseFloat(a.toFixed(2))),setTimeout(()=>{let d=q.getState();ft(ae.stringifyUrl({url:window.location.pathname,query:d},{skipNull:!0,arrayFormat:"index"}))},0),a))},[i]);return[r,o]},ut=()=>t=>{setTimeout(()=>{let r=q.getState();ft(ae.stringifyUrl({url:window.location.pathname,query:r},{skipNull:!0,arrayFormat:"index"}))},0);let n=ae.parse(t,{parseNumbers:!0,parseBooleans:!0,arrayFormat:"index"});q.setState(n)};function ft(e){var t;window.history.pushState({prevUrls:[...((t=window.history.state)==null?void 0:t.prevUrls)||[],window.location.origin+e]},document.title,e)}import{useEffect as er}from"react";var pt={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function se(e=256){let t=0,n=new Uint8Array(e);return{get buffer(){return n.buffer},reset(){t=0},bytesView(){return n.subarray(0,t)},bytes(){return n.slice(0,t)},writeByte(i){r(t+1),n[t]=i,t++},writeBytes(i,o=0,a=i.length){r(t+a);for(let s=0;s<a;s++)n[t++]=i[s+o]},writeBytesView(i,o=0,a=i.byteLength){r(t+a),n.set(i.subarray(o,o+a),t),t+=a}};function r(i){var o=n.length;if(o>=i)return;var a=1024*1024;i=Math.max(i,o*(o<a?2:1.125)>>>0),o!=0&&(i=Math.max(i,256));let s=n;n=new Uint8Array(i),t>0&&n.set(s.subarray(0,t),0)}}var Ce=12,gt=5003,sn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function ln(e,t,n,r,i=se(512),o=new Uint8Array(256),a=new Int32Array(gt),s=new Int32Array(gt)){let d=a.length,u=Math.max(2,r);o.fill(0),s.fill(0),a.fill(-1);let c=0,l=0,g=u+1,v=g,m=!1,h=v,N=(1<<h)-1,f=1<<g-1,C=f+1,x=f+2,b=0,I=n[0],L=0;for(let T=d;T<65536;T*=2)++L;L=8-L,i.writeByte(u),M(f);let S=n.length;for(let T=1;T<S;T++){e:{let O=n[T],_=(O<<Ce)+I,R=O<<L^I;if(a[R]===_){I=s[R];break e}let W=R===0?1:d-R;for(;a[R]>=0;)if(R-=W,R<0&&(R+=d),a[R]===_){I=s[R];break e}M(I),I=O,x<1<<Ce?(s[R]=x++,a[R]=_):(a.fill(-1),x=f+2,m=!0,M(f))}}return M(I),M(C),i.writeByte(0),i.bytesView();function M(T){for(c&=sn[l],l>0?c|=T<<l:c=T,l+=h;l>=8;)o[b++]=c&255,b>=254&&(i.writeByte(b),i.writeBytesView(o,0,b),b=0),c>>=8,l-=8;if((x>N||m)&&(m?(h=v,N=(1<<h)-1,m=!1):(++h,N=h===Ce?1<<h:(1<<h)-1)),T==C){for(;l>0;)o[b++]=c&255,b>=254&&(i.writeByte(b),i.writeBytesView(o,0,b),b=0),c>>=8,l-=8;b>0&&(i.writeByte(b),i.writeBytesView(o,0,b),b=0)}}}var yt=ln;function fe(e,t,n){return e<<8&63488|t<<2&992|n>>3}function pe(e,t,n,r){return e>>4|t&240|(n&240)<<4|(r&240)<<8}function ge(e,t,n){return e>>4<<8|t&240|n>>4}function ye(e,t,n){return e<t?t:e>n?n:e}function le(e){return e*e}function mt(e,t,n){var r=0,i=1e100;let o=e[t],a=o.cnt,s=o.ac,d=o.rc,u=o.gc,c=o.bc;for(var l=o.fw;l!=0;l=e[l].fw){let v=e[l],m=v.cnt,h=a*m/(a+m);if(!(h>=i)){var g=0;n&&(g+=h*le(v.ac-s),g>=i)||(g+=h*le(v.rc-d),!(g>=i)&&(g+=h*le(v.gc-u),!(g>=i)&&(g+=h*le(v.bc-c),!(g>=i)&&(i=g,r=l))))}}o.err=i,o.nn=r}function Pe(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function dn(e,t){let n=t==="rgb444"?4096:65536,r=new Array(n),i=e.length;if(t==="rgba4444")for(let o=0;o<i;++o){let a=e[o],s=a>>24&255,d=a>>16&255,u=a>>8&255,c=a&255,l=pe(c,u,d,s),g=l in r?r[l]:r[l]=Pe();g.rc+=c,g.gc+=u,g.bc+=d,g.ac+=s,g.cnt++}else if(t==="rgb444")for(let o=0;o<i;++o){let a=e[o],s=a>>16&255,d=a>>8&255,u=a&255,c=ge(u,d,s),l=c in r?r[c]:r[c]=Pe();l.rc+=u,l.gc+=d,l.bc+=s,l.cnt++}else for(let o=0;o<i;++o){let a=e[o],s=a>>16&255,d=a>>8&255,u=a&255,c=fe(u,d,s),l=c in r?r[c]:r[c]=Pe();l.rc+=u,l.gc+=d,l.bc+=s,l.cnt++}return r}function me(e,t,n={}){let{format:r="rgb565",clearAlpha:i=!0,clearAlphaColor:o=0,clearAlphaThreshold:a=0,oneBitAlpha:s=!1}=n;if(!e||!e.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(e instanceof Uint8Array)&&!(e instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");let d=new Uint32Array(e.buffer),u=n.useSqrt!==!1,c=r==="rgba4444",l=dn(d,r),g=l.length,v=g-1,m=new Uint32Array(g+1);for(var h=0,f=0;f<g;++f){let F=l[f];if(F!=null){var N=1/F.cnt;c&&(F.ac*=N),F.rc*=N,F.gc*=N,F.bc*=N,l[h++]=F}}le(t)/h<.022&&(u=!1);for(var f=0;f<h-1;++f)l[f].fw=f+1,l[f+1].bk=f,u&&(l[f].cnt=Math.sqrt(l[f].cnt));u&&(l[f].cnt=Math.sqrt(l[f].cnt));var C,x,b;for(f=0;f<h;++f){mt(l,f,!1);var I=l[f].err;for(x=++m[0];x>1&&(b=x>>1,!(l[C=m[b]].err<=I));x=b)m[x]=C;m[x]=f}var L=h-t;for(f=0;f<L;){for(var S;;){var M=m[1];if(S=l[M],S.tm>=S.mtm&&l[S.nn].mtm<=S.tm)break;S.mtm==v?M=m[1]=m[m[0]--]:(mt(l,M,!1),S.tm=f);var I=l[M].err;for(x=1;(b=x+x)<=m[0]&&(b<m[0]&&l[m[b]].err>l[m[b+1]].err&&b++,!(I<=l[C=m[b]].err));x=b)m[x]=C;m[x]=M}var T=l[S.nn],O=S.cnt,_=T.cnt,N=1/(O+_);c&&(S.ac=N*(O*S.ac+_*T.ac)),S.rc=N*(O*S.rc+_*T.rc),S.gc=N*(O*S.gc+_*T.gc),S.bc=N*(O*S.bc+_*T.bc),S.cnt+=T.cnt,S.mtm=++f,l[T.bk].fw=T.fw,l[T.fw].bk=T.bk,T.mtm=v}let R=[];var W=0;for(f=0;;++W){let U=ye(Math.round(l[f].rc),0,255),F=ye(Math.round(l[f].gc),0,255),K=ye(Math.round(l[f].bc),0,255),G=255;c&&(G=ye(Math.round(l[f].ac),0,255),s&&(G=G<=(typeof s=="number"?s:127)?0:255),i&&G<=a&&(U=F=K=o,G=0));let J=c?[U,F,K,G]:[U,F,K];if(cn(R,J)||R.push(J),(f=l[f].fw)==0)break}return R}function cn(e,t){for(let n=0;n<e.length;n++){let r=e[n],i=r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2],o=r.length>=4&&t.length>=4?r[3]===t[3]:!0;if(i&&o)return!0}return!1}function Re(e,t,n="rgb565"){if(!e||!e.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(e instanceof Uint8Array)&&!(e instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(t.length>256)throw new Error("applyPalette() only works with 256 colors or less");let r=new Uint32Array(e.buffer),i=r.length,o=n==="rgb444"?4096:65536,a=new Uint8Array(i),s=new Array(o),d=n==="rgba4444";if(n==="rgba4444")for(let u=0;u<i;u++){let c=r[u],l=c>>24&255,g=c>>16&255,v=c>>8&255,m=c&255,h=pe(m,v,g,l),N=h in s?s[h]:s[h]=un(m,v,g,l,t);a[u]=N}else{let u=n==="rgb444"?ge:fe;for(let c=0;c<i;c++){let l=r[c],g=l>>16&255,v=l>>8&255,m=l&255,h=u(m,v,g),N=h in s?s[h]:s[h]=fn(m,v,g,t);a[c]=N}}return a}function un(e,t,n,r,i){let o=0,a=1e100;for(let s=0;s<i.length;s++){let d=i[s],u=d[3],c=X(u-r);if(c>a)continue;let l=d[0];if(c+=X(l-e),c>a)continue;let g=d[1];if(c+=X(g-t),c>a)continue;let v=d[2];c+=X(v-n),!(c>a)&&(a=c,o=s)}return o}function fn(e,t,n,r){let i=0,o=1e100;for(let a=0;a<r.length;a++){let s=r[a],d=s[0],u=X(d-e);if(u>o)continue;let c=s[1];if(u+=X(c-t),u>o)continue;let l=s[2];u+=X(l-n),!(u>o)&&(o=u,i=a)}return i}function X(e){return e*e}function bt(e={}){let{initialCapacity:t=4096,auto:n=!0}=e,r=se(t),i=5003,o=new Uint8Array(256),a=new Int32Array(i),s=new Int32Array(i),d=!1;return{reset(){r.reset(),d=!1},finish(){r.writeByte(pt.trailer)},bytes(){return r.bytes()},bytesView(){return r.bytesView()},get buffer(){return r.buffer},get stream(){return r},writeHeader:u,writeFrame(c,l,g,v={}){let{transparent:m=!1,transparentIndex:h=0,delay:N=0,palette:f=null,repeat:C=0,colorDepth:x=8,dispose:b=-1}=v,I=!1;if(n?d||(I=!0,u(),d=!0):I=Boolean(v.first),l=Math.max(0,Math.floor(l)),g=Math.max(0,Math.floor(g)),I){if(!f)throw new Error("First frame must include a { palette } option");gn(r,l,g,f,x),ht(r,f),C>=0&&yn(r,C)}let L=Math.round(N/10);pn(r,b,L,m,h);let S=Boolean(f)&&!I;mn(r,l,g,S?f:null),S&&ht(r,f),hn(r,c,l,g,x,o,a,s)}};function u(){xt(r,"GIF89a")}}function pn(e,t,n,r,i){e.writeByte(33),e.writeByte(249),e.writeByte(4),i<0&&(i=0,r=!1);var o,a;r?(o=1,a=2):(o=0,a=0),t>=0&&(a=t&7),a<<=2;let s=0;e.writeByte(0|a|s|o),V(e,n),e.writeByte(i||0),e.writeByte(0)}function gn(e,t,n,r,i=8){let s=Me(r.length)-1,d=1<<7|i-1<<4|0<<3|s,u=0,c=0;V(e,t),V(e,n),e.writeBytes([d,u,c])}function yn(e,t){e.writeByte(33),e.writeByte(255),e.writeByte(11),xt(e,"NETSCAPE2.0"),e.writeByte(3),e.writeByte(1),V(e,t),e.writeByte(0)}function ht(e,t){let n=1<<Me(t.length);for(let r=0;r<n;r++){let i=[0,0,0];r<t.length&&(i=t[r]),e.writeByte(i[0]),e.writeByte(i[1]),e.writeByte(i[2])}}function mn(e,t,n,r){if(e.writeByte(44),V(e,0),V(e,0),V(e,t),V(e,n),r){let a=Me(r.length)-1;e.writeByte(128|a)}else e.writeByte(0)}function hn(e,t,n,r,i=8,o,a,s){yt(n,r,t,i,e,o,a,s)}function V(e,t){e.writeByte(t&255),e.writeByte(t>>8&255)}function xt(e,t){for(var n=0;n<t.length;n++)e.writeByte(t.charCodeAt(n))}function Me(e){return Math.max(Math.ceil(Math.log2(e)),1)}function he(e){return new Promise(t=>setTimeout(t,e*1e3))}function de(e){return A(this,null,function*(){let t=new Image;return t.src=e,yield new Promise((n,r)=>{t.onload=n,t.onerror=r}),t})}var bn=`(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var NeuQuant=require("./TypedNeuQuant.js");var LZWEncoder=require("./LZWEncoder.js");function ByteArray(){this.page=-1;this.pages=[];this.newPage()}ByteArray.pageSize=4096;ByteArray.charMap={};for(var i=0;i<256;i++)ByteArray.charMap[i]=String.fromCharCode(i);ByteArray.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(ByteArray.pageSize);this.cursor=0};ByteArray.prototype.getData=function(){var rv="";for(var p=0;p<this.pages.length;p++){for(var i=0;i<ByteArray.pageSize;i++){rv+=ByteArray.charMap[this.pages[p][i]]}}return rv};ByteArray.prototype.writeByte=function(val){if(this.cursor>=ByteArray.pageSize)this.newPage();this.pages[this.page][this.cursor++]=val};ByteArray.prototype.writeUTFBytes=function(string){for(var l=string.length,i=0;i<l;i++)this.writeByte(string.charCodeAt(i))};ByteArray.prototype.writeBytes=function(array,offset,length){for(var l=length||array.length,i=offset||0;i<l;i++)this.writeByte(array[i])};function GIFEncoder(width,height){this.width=~~width;this.height=~~height;this.transparent=null;this.transIndex=0;this.repeat=-1;this.delay=0;this.image=null;this.pixels=null;this.indexedPixels=null;this.colorDepth=null;this.colorTab=null;this.neuQuant=null;this.usedEntry=new Array;this.palSize=7;this.dispose=-1;this.firstFrame=true;this.sample=10;this.dither=false;this.globalPalette=false;this.out=new ByteArray}GIFEncoder.prototype.setDelay=function(milliseconds){this.delay=Math.round(milliseconds/10)};GIFEncoder.prototype.setFrameRate=function(fps){this.delay=Math.round(100/fps)};GIFEncoder.prototype.setDispose=function(disposalCode){if(disposalCode>=0)this.dispose=disposalCode};GIFEncoder.prototype.setRepeat=function(repeat){this.repeat=repeat};GIFEncoder.prototype.setTransparent=function(color){this.transparent=color};GIFEncoder.prototype.addFrame=function(imageData){this.image=imageData;this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null;this.getImagePixels();this.analyzePixels();if(this.globalPalette===true)this.globalPalette=this.colorTab;if(this.firstFrame){this.writeLSD();this.writePalette();if(this.repeat>=0){this.writeNetscapeExt()}}this.writeGraphicCtrlExt();this.writeImageDesc();if(!this.firstFrame&&!this.globalPalette)this.writePalette();this.writePixels();this.firstFrame=false};GIFEncoder.prototype.finish=function(){this.out.writeByte(59)};GIFEncoder.prototype.setQuality=function(quality){if(quality<1)quality=1;this.sample=quality};GIFEncoder.prototype.setDither=function(dither){if(dither===true)dither="FloydSteinberg";this.dither=dither};GIFEncoder.prototype.setGlobalPalette=function(palette){this.globalPalette=palette};GIFEncoder.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette};GIFEncoder.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")};GIFEncoder.prototype.analyzePixels=function(){if(!this.colorTab){this.neuQuant=new NeuQuant(this.pixels,this.sample);this.neuQuant.buildColormap();this.colorTab=this.neuQuant.getColormap()}if(this.dither){this.ditherPixels(this.dither.replace("-serpentine",""),this.dither.match(/-serpentine/)!==null)}else{this.indexPixels()}this.pixels=null;this.colorDepth=8;this.palSize=7;if(this.transparent!==null){this.transIndex=this.findClosest(this.transparent,true)}};GIFEncoder.prototype.indexPixels=function(imgq){var nPix=this.pixels.length/3;this.indexedPixels=new Uint8Array(nPix);var k=0;for(var j=0;j<nPix;j++){var index=this.findClosestRGB(this.pixels[k++]&255,this.pixels[k++]&255,this.pixels[k++]&255);this.usedEntry[index]=true;this.indexedPixels[j]=index}};GIFEncoder.prototype.ditherPixels=function(kernel,serpentine){var kernels={FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]};if(!kernel||!kernels[kernel]){throw"Unknown dithering kernel: "+kernel}var ds=kernels[kernel];var index=0,height=this.height,width=this.width,data=this.pixels;var direction=serpentine?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var y=0;y<height;y++){if(serpentine)direction=direction*-1;for(var x=direction==1?0:width-1,xend=direction==1?width:0;x!==xend;x+=direction){index=y*width+x;var idx=index*3;var r1=data[idx];var g1=data[idx+1];var b1=data[idx+2];idx=this.findClosestRGB(r1,g1,b1);this.usedEntry[idx]=true;this.indexedPixels[index]=idx;idx*=3;var r2=this.colorTab[idx];var g2=this.colorTab[idx+1];var b2=this.colorTab[idx+2];var er=r1-r2;var eg=g1-g2;var eb=b1-b2;for(var i=direction==1?0:ds.length-1,end=direction==1?ds.length:0;i!==end;i+=direction){var x1=ds[i][1];var y1=ds[i][2];if(x1+x>=0&&x1+x<width&&y1+y>=0&&y1+y<height){var d=ds[i][0];idx=index+x1+y1*width;idx*=3;data[idx]=Math.max(0,Math.min(255,data[idx]+er*d));data[idx+1]=Math.max(0,Math.min(255,data[idx+1]+eg*d));data[idx+2]=Math.max(0,Math.min(255,data[idx+2]+eb*d))}}}}};GIFEncoder.prototype.findClosest=function(c,used){return this.findClosestRGB((c&16711680)>>16,(c&65280)>>8,c&255,used)};GIFEncoder.prototype.findClosestRGB=function(r,g,b,used){if(this.colorTab===null)return-1;if(this.neuQuant&&!used){return this.neuQuant.lookupRGB(r,g,b)}var c=b|g<<8|r<<16;var minpos=0;var dmin=256*256*256;var len=this.colorTab.length;for(var i=0,index=0;i<len;index++){var dr=r-(this.colorTab[i++]&255);var dg=g-(this.colorTab[i++]&255);var db=b-(this.colorTab[i++]&255);var d=dr*dr+dg*dg+db*db;if((!used||this.usedEntry[index])&&d<dmin){dmin=d;minpos=index}}return minpos};GIFEncoder.prototype.getImagePixels=function(){var w=this.width;var h=this.height;this.pixels=new Uint8Array(w*h*3);var data=this.image;var srcPos=0;var count=0;for(var i=0;i<h;i++){for(var j=0;j<w;j++){this.pixels[count++]=data[srcPos++];this.pixels[count++]=data[srcPos++];this.pixels[count++]=data[srcPos++];srcPos++}}};GIFEncoder.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33);this.out.writeByte(249);this.out.writeByte(4);var transp,disp;if(this.transparent===null){transp=0;disp=0}else{transp=1;disp=2}if(this.dispose>=0){disp=dispose&7}disp<<=2;this.out.writeByte(0|disp|0|transp);this.writeShort(this.delay);this.out.writeByte(this.transIndex);this.out.writeByte(0)};GIFEncoder.prototype.writeImageDesc=function(){this.out.writeByte(44);this.writeShort(0);this.writeShort(0);this.writeShort(this.width);this.writeShort(this.height);if(this.firstFrame||this.globalPalette){this.out.writeByte(0)}else{this.out.writeByte(128|0|0|0|this.palSize)}};GIFEncoder.prototype.writeLSD=function(){this.writeShort(this.width);this.writeShort(this.height);this.out.writeByte(128|112|0|this.palSize);this.out.writeByte(0);this.out.writeByte(0)};GIFEncoder.prototype.writeNetscapeExt=function(){this.out.writeByte(33);this.out.writeByte(255);this.out.writeByte(11);this.out.writeUTFBytes("NETSCAPE2.0");this.out.writeByte(3);this.out.writeByte(1);this.writeShort(this.repeat);this.out.writeByte(0)};GIFEncoder.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);var n=3*256-this.colorTab.length;for(var i=0;i<n;i++)this.out.writeByte(0)};GIFEncoder.prototype.writeShort=function(pValue){this.out.writeByte(pValue&255);this.out.writeByte(pValue>>8&255)};GIFEncoder.prototype.writePixels=function(){var enc=new LZWEncoder(this.width,this.height,this.indexedPixels,this.colorDepth);enc.encode(this.out)};GIFEncoder.prototype.stream=function(){return this.out};module.exports=GIFEncoder},{"./LZWEncoder.js":2,"./TypedNeuQuant.js":3}],2:[function(require,module,exports){var EOF=-1;var BITS=12;var HSIZE=5003;var masks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function LZWEncoder(width,height,pixels,colorDepth){var initCodeSize=Math.max(2,colorDepth);var accum=new Uint8Array(256);var htab=new Int32Array(HSIZE);var codetab=new Int32Array(HSIZE);var cur_accum,cur_bits=0;var a_count;var free_ent=0;var maxcode;var clear_flg=false;var g_init_bits,ClearCode,EOFCode;function char_out(c,outs){accum[a_count++]=c;if(a_count>=254)flush_char(outs)}function cl_block(outs){cl_hash(HSIZE);free_ent=ClearCode+2;clear_flg=true;output(ClearCode,outs)}function cl_hash(hsize){for(var i=0;i<hsize;++i)htab[i]=-1}function compress(init_bits,outs){var fcode,c,i,ent,disp,hsize_reg,hshift;g_init_bits=init_bits;clear_flg=false;n_bits=g_init_bits;maxcode=MAXCODE(n_bits);ClearCode=1<<init_bits-1;EOFCode=ClearCode+1;free_ent=ClearCode+2;a_count=0;ent=nextPixel();hshift=0;for(fcode=HSIZE;fcode<65536;fcode*=2)++hshift;hshift=8-hshift;hsize_reg=HSIZE;cl_hash(hsize_reg);output(ClearCode,outs);outer_loop:while((c=nextPixel())!=EOF){fcode=(c<<BITS)+ent;i=c<<hshift^ent;if(htab[i]===fcode){ent=codetab[i];continue}else if(htab[i]>=0){disp=hsize_reg-i;if(i===0)disp=1;do{if((i-=disp)<0)i+=hsize_reg;if(htab[i]===fcode){ent=codetab[i];continue outer_loop}}while(htab[i]>=0)}output(ent,outs);ent=c;if(free_ent<1<<BITS){codetab[i]=free_ent++;htab[i]=fcode}else{cl_block(outs)}}output(ent,outs);output(EOFCode,outs)}function encode(outs){outs.writeByte(initCodeSize);remaining=width*height;curPixel=0;compress(initCodeSize+1,outs);outs.writeByte(0)}function flush_char(outs){if(a_count>0){outs.writeByte(a_count);outs.writeBytes(accum,0,a_count);a_count=0}}function MAXCODE(n_bits){return(1<<n_bits)-1}function nextPixel(){if(remaining===0)return EOF;--remaining;var pix=pixels[curPixel++];return pix&255}function output(code,outs){cur_accum&=masks[cur_bits];if(cur_bits>0)cur_accum|=code<<cur_bits;else cur_accum=code;cur_bits+=n_bits;while(cur_bits>=8){char_out(cur_accum&255,outs);cur_accum>>=8;cur_bits-=8}if(free_ent>maxcode||clear_flg){if(clear_flg){maxcode=MAXCODE(n_bits=g_init_bits);clear_flg=false}else{++n_bits;if(n_bits==BITS)maxcode=1<<BITS;else maxcode=MAXCODE(n_bits)}}if(code==EOFCode){while(cur_bits>0){char_out(cur_accum&255,outs);cur_accum>>=8;cur_bits-=8}flush_char(outs)}}this.encode=encode}module.exports=LZWEncoder},{}],3:[function(require,module,exports){var ncycles=100;var netsize=256;var maxnetpos=netsize-1;var netbiasshift=4;var intbiasshift=16;var intbias=1<<intbiasshift;var gammashift=10;var gamma=1<<gammashift;var betashift=10;var beta=intbias>>betashift;var betagamma=intbias<<gammashift-betashift;var initrad=netsize>>3;var radiusbiasshift=6;var radiusbias=1<<radiusbiasshift;var initradius=initrad*radiusbias;var radiusdec=30;var alphabiasshift=10;var initalpha=1<<alphabiasshift;var alphadec;var radbiasshift=8;var radbias=1<<radbiasshift;var alpharadbshift=alphabiasshift+radbiasshift;var alpharadbias=1<<alpharadbshift;var prime1=499;var prime2=491;var prime3=487;var prime4=503;var minpicturebytes=3*prime4;function NeuQuant(pixels,samplefac){var network;var netindex;var bias;var freq;var radpower;function init(){network=[];netindex=new Int32Array(256);bias=new Int32Array(netsize);freq=new Int32Array(netsize);radpower=new Int32Array(netsize>>3);var i,v;for(i=0;i<netsize;i++){v=(i<<netbiasshift+8)/netsize;network[i]=new Float64Array([v,v,v,0]);freq[i]=intbias/netsize;bias[i]=0}}function unbiasnet(){for(var i=0;i<netsize;i++){network[i][0]>>=netbiasshift;network[i][1]>>=netbiasshift;network[i][2]>>=netbiasshift;network[i][3]=i}}function altersingle(alpha,i,b,g,r){network[i][0]-=alpha*(network[i][0]-b)/initalpha;network[i][1]-=alpha*(network[i][1]-g)/initalpha;network[i][2]-=alpha*(network[i][2]-r)/initalpha}function alterneigh(radius,i,b,g,r){var lo=Math.abs(i-radius);var hi=Math.min(i+radius,netsize);var j=i+1;var k=i-1;var m=1;var p,a;while(j<hi||k>lo){a=radpower[m++];if(j<hi){p=network[j++];p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias}if(k>lo){p=network[k--];p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias}}}function contest(b,g,r){var bestd=~(1<<31);var bestbiasd=bestd;var bestpos=-1;var bestbiaspos=bestpos;var i,n,dist,biasdist,betafreq;for(i=0;i<netsize;i++){n=network[i];dist=Math.abs(n[0]-b)+Math.abs(n[1]-g)+Math.abs(n[2]-r);if(dist<bestd){bestd=dist;bestpos=i}biasdist=dist-(bias[i]>>intbiasshift-netbiasshift);if(biasdist<bestbiasd){bestbiasd=biasdist;bestbiaspos=i}betafreq=freq[i]>>betashift;freq[i]-=betafreq;bias[i]+=betafreq<<gammashift}freq[bestpos]+=beta;bias[bestpos]-=betagamma;return bestbiaspos}function inxbuild(){var i,j,p,q,smallpos,smallval,previouscol=0,startpos=0;for(i=0;i<netsize;i++){p=network[i];smallpos=i;smallval=p[1];for(j=i+1;j<netsize;j++){q=network[j];if(q[1]<smallval){smallpos=j;smallval=q[1]}}q=network[smallpos];if(i!=smallpos){j=q[0];q[0]=p[0];p[0]=j;j=q[1];q[1]=p[1];p[1]=j;j=q[2];q[2]=p[2];p[2]=j;j=q[3];q[3]=p[3];p[3]=j}if(smallval!=previouscol){netindex[previouscol]=startpos+i>>1;for(j=previouscol+1;j<smallval;j++)netindex[j]=i;previouscol=smallval;startpos=i}}netindex[previouscol]=startpos+maxnetpos>>1;for(j=previouscol+1;j<256;j++)netindex[j]=maxnetpos}function inxsearch(b,g,r){var a,p,dist;var bestd=1e3;var best=-1;var i=netindex[g];var j=i-1;while(i<netsize||j>=0){if(i<netsize){p=network[i];dist=p[1]-g;if(dist>=bestd)i=netsize;else{i++;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3]}}}}if(j>=0){p=network[j];dist=g-p[1];if(dist>=bestd)j=-1;else{j--;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3]}}}}}return best}function learn(){var i;var lengthcount=pixels.length;var alphadec=30+(samplefac-1)/3;var samplepixels=lengthcount/(3*samplefac);var delta=~~(samplepixels/ncycles);var alpha=initalpha;var radius=initradius;var rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(i=0;i<rad;i++)radpower[i]=alpha*((rad*rad-i*i)*radbias/(rad*rad));var step;if(lengthcount<minpicturebytes){samplefac=1;step=3}else if(lengthcount%prime1!==0){step=3*prime1}else if(lengthcount%prime2!==0){step=3*prime2}else if(lengthcount%prime3!==0){step=3*prime3}else{step=3*prime4}var b,g,r,j;var pix=0;i=0;while(i<samplepixels){b=(pixels[pix]&255)<<netbiasshift;g=(pixels[pix+1]&255)<<netbiasshift;r=(pixels[pix+2]&255)<<netbiasshift;j=contest(b,g,r);altersingle(alpha,j,b,g,r);if(rad!==0)alterneigh(rad,j,b,g,r);pix+=step;if(pix>=lengthcount)pix-=lengthcount;i++;if(delta===0)delta=1;if(i%delta===0){alpha-=alpha/alphadec;radius-=radius/radiusdec;rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(j=0;j<rad;j++)radpower[j]=alpha*((rad*rad-j*j)*radbias/(rad*rad))}}}function buildColormap(){init();learn();unbiasnet();inxbuild()}this.buildColormap=buildColormap;function getColormap(){var map=[];var index=[];for(var i=0;i<netsize;i++)index[network[i][3]]=i;var k=0;for(var l=0;l<netsize;l++){var j=index[l];map[k++]=network[j][0];map[k++]=network[j][1];map[k++]=network[j][2]}return map}this.getColormap=getColormap;this.lookupRGB=inxsearch}module.exports=NeuQuant},{}],4:[function(require,module,exports){var GIFEncoder,renderFrame;GIFEncoder=require("./GIFEncoder.js");renderFrame=function(frame){var encoder,page,stream,transfer;encoder=new GIFEncoder(frame.width,frame.height);if(frame.index===0){encoder.writeHeader()}else{encoder.firstFrame=false}encoder.setTransparent(frame.transparent);encoder.setRepeat(frame.repeat);encoder.setDelay(frame.delay);encoder.setQuality(frame.quality);encoder.setDither(frame.dither);encoder.setGlobalPalette(frame.globalPalette);encoder.addFrame(frame.data);if(frame.last){encoder.finish()}if(frame.globalPalette===true){frame.globalPalette=encoder.getGlobalPalette()}stream=encoder.stream();frame.data=stream.pages;frame.cursor=stream.cursor;frame.pageSize=stream.constructor.pageSize;if(frame.canTransfer){transfer=function(){var i,len,ref,results;ref=frame.data;results=[];for(i=0,len=ref.length;i<len;i++){page=ref[i];results.push(page.buffer)}return results}();return self.postMessage(frame,transfer)}else{return self.postMessage(frame)}};self.onmessage=function(event){return renderFrame(event.data)}},{"./GIFEncoder.js":1}]},{},[4]);`,Q;try{Q=new Blob([bn],{type:"application/javascript"})}catch(e){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,Q=new BlobBuilder,Q.append(response),Q=Q.getBlob()}var ne=!1;function Fe(e,t,n){return A(this,null,function*(){ne=!1;let{rangeStart:r,rangeEnd:i,setAnimate:o,setUTime:a,frameRate:s,grain:d}=e,c=1/s*1e3;o("off"),a(r);let l=i-r,g=Math.ceil(l*s);return console.log("totalFrames",g),console.log("duration",l),new Promise((v,m)=>A(this,null,function*(){let h=new Array(g).fill(0).map((C,x)=>x);if(n.signal.addEventListener("abort",()=>{ne=!0,m(new Error("Long-await function was cancelled."))}),d==="on"){let C=bt();for(let L of h){if(ne){t(-1);break}let S=r+L/s;a(S);let[M,T,O]=yield Sn(),{data:_}=M,R="rgb444",W=me(_,256,{format:R}),U=Re(_,W,R);yield C.writeFrame(U,T,O,{palette:W,delay:c}),console.log("GIF Frame has written"),yield he(.01),t(L/(g-1))}C.finish();let x=C.bytesView();e.destination==="localFile"&&!ne&&vn(x,"shadergradient.gif",{type:"image/gif"}),o("on");let I="data:image/gif;base64,"+(yield En(x));v(vt(I))}else{var f=new GIF({workers:2,quality:10,workerScript:URL.createObjectURL(Q),dither:"Atkinson"});f.on("finished",b=>A(this,null,function*(){e.destination==="localFile"&&!ne&&St(b,"shadergradient.gif"),o("on");let I=yield Nn(b);v(vt(I))})),f.on("progress",b=>t(b));let x=document.createElement("canvas").getContext("2d");for(let b of h){if(ne){t(-1);break}let I=r+b/s;a(I),yield xn(x,f)}f.render()}}))})}function xn(e,t){return A(this,null,function*(){var o;let r=((o=document.getElementById("gradientCanvas"))==null?void 0:o.children[0]).toDataURL("image/png",1),i=yield de(r);e.canvas.width=i.width,e.canvas.height=i.height,e.drawImage(i,0,0),t.addFrame(new ImageData(e.getImageData(0,0,e.canvas.width,e.canvas.height).data,e.canvas.width,e.canvas.height),{delay:100})})}function vt(e){return A(this,null,function*(){let t=atob(e.split(",")[1]),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n})}function vn(e,t,n){let r=e instanceof Blob?e:new Blob([e],{type:n});St(r,t)}function St(e,t){let n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,r.click()}function Sn(){return A(this,null,function*(){var o;let t=((o=document.getElementById("gradientCanvas"))==null?void 0:o.children[0]).toDataURL("image/png",1),n=yield de(t),i=document.createElement("canvas").getContext("2d");return i.canvas.width=n.width,i.canvas.height=n.height,i.drawImage(n,0,0),[new ImageData(i.getImageData(0,0,i.canvas.width,i.canvas.height).data,i.canvas.width,i.canvas.height),n.width,n.height]})}var En=e=>A(void 0,null,function*(){let t=yield new Promise(n=>{let r=new FileReader;r.onload=()=>n(r.result),r.readAsDataURL(new Blob([e]))});return t.substring(t.indexOf(",")+1)});function Nn(e){return A(this,null,function*(){return new Promise((t,n)=>{var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(){n(new Error("Failed to convert Blob to Data URL"))},r.readAsDataURL(e)})})}function Et(){return A(this,null,function*(){return new Promise((e,t)=>A(this,null,function*(){let r=document.getElementById("gradientCanvas").children[0].toDataURL("image/png",1),i=yield de(r);console.log("Image has loaded");let o=yield Tn(i);console.log(`${o.length} bytes!.`),e(o)}))})}function Tn(e){return A(this,null,function*(){return new Promise((t,n)=>{let i=document.createElement("canvas").getContext("2d");i.canvas.width=e.width,i.canvas.height=e.height,i.drawImage(e,0,0),i.canvas.toBlob(o=>o.arrayBuffer().then(a=>t(new Uint8Array(a))).catch(n))})})}var Be=!1;function Nt(e,t,n){return A(this,null,function*(){let{rangeStart:r,rangeEnd:i}=e,o=i-r;Be=!1,An(o),n.signal.addEventListener("abort",()=>{t(-1),Be=!0,clearInterval(s),re.stop()});let s=setInterval(()=>{t(d=>{let u=d+1/o;return u>=1&&clearInterval(s),u})},1e3)})}var re,De=[];function An(e){return A(this,null,function*(){var r;let t=(r=document.getElementById("gradientCanvas"))==null?void 0:r.children[0];De=[];let n=t.captureStream();re=new MediaRecorder(n,{mimeType:"video/webm;codecs=h264",videoBitsPerSecond:8e6}),re.addEventListener("dataavailable",i=>{i.data.size>0&&De.push(i.data)}),re.addEventListener("stop",()=>{Be||wn()}),re.start(),yield he(e),re.stop()})}function wn(){let e=new Blob(De,{type:"video/webm"}),t=URL.createObjectURL(e),n=document.createElement("a");document.body.appendChild(n),n.style="display: none",n.href=t,n.download="shadergradient.webm",n.click(),window.URL.revokeObjectURL(t)}var Tt={},Le=e=>{let t=e.toString();return t.substring(t.indexOf("{")+1,t.lastIndexOf("}"))},At=e=>A(void 0,null,function*(){parent.postMessage({pluginMessage:{type:"execute",code:Le(e)}},"*")}),wt=(e,t,n)=>A(void 0,null,function*(){if(e.destination==="onCanvas"){let r=yield Fe(e,t,n);parent.postMessage({pluginMessage:{type:"SNAPSHOT_GIF",code:Le(t),bytes:r}},"*")}else e.destination==="localFile"&&(e.format==="gif"?yield Fe(e,t,n):e.format==="webm"&&(yield Nt(e,t,n)))}),It=e=>A(void 0,null,function*(){let t=yield Et();parent.postMessage({pluginMessage:{type:"SNAPSHOT",code:Le(e),bytes:t}},"*")});var Ct=(...e)=>e.filter(t=>!!t).join(" ");var Pt={meshDelay:0,meshDur:0,rotDelay:1.7,rotDur:1,posDelay:1.3,posDur:2.2,logoTransition:3.1,text:2.5,to:1};var Rt="https://buy.stripe.com/00g5kV0g553QcjC9AB",Mt="https://buy.stripe.com/fZe5kVd2R53QcjC7su",Ft="https://billing.stripe.com/p/login/aEU8Audql6LagDe9AA";import{useFrame as ti}from"@react-three/fiber";import{useRef as ri}from"react";import*as Bt from"three";var{to:ii,rotDur:oi,meshDur:ai,rotDelay:si,meshDelay:li}=Pt,Oe=new Bt.Clock;import{useDBTable as xe}from"https://framer.com/m/SupabaseConnector-ARlr.js";import{Fragment as Dn,jsx as E,jsxs as Ln}from"react/jsx-runtime";import{createElement as Bn}from"react";function vi(e){return t=>E(e,y(p({},t),{onClick:()=>A(this,null,function*(){At(()=>{Tt.createRectangle().resize(300,300)})})}))}function Si(e){return r=>{var i=r,{style:t}=i,n=B(i,["style"]);let[o]=j(),a=!0;return E(e,y(p({},n),{style:y(p({},t),{cursor:"pointer",opacity:a?1:.5}),onTap:()=>{a?It(()=>{}):n==null||n.onTap()}}))}}function Ei(e){return r=>{var i=r,{style:t}=i,n=B(i,["style"]);let[o]=j(),a=!0,[,s]=w("rangeStart"),[,d]=w("rangeEnd"),[,u]=w("pixelDensity"),[,c]=w("toggleAxis"),[,l]=w("zoomOut");return E(e,y(p({},n),{style:y(p({},t),{cursor:"pointer",opacity:a?1:.5}),onTap:()=>{a===!1?n==null||n.onError():(n==null||n.onTap(),s(5),d(8),u(2),c(!1),l(!1))},onError:()=>{console.log("error (checkEnabled)")}}))}}var be,Dt=7;function Ni(e){return t=>E(e,y(p({},t),{onClick:()=>be.abort()}))}function Ti(e){return r=>{var i=r,{style:t}=i,n=B(i,["style"]);var Ue;let[o,a]=k(-1),s=o>=0&&o<1,[d]=j(),u=!0,[c,l]=w("animate"),[,g]=w("uTime"),[v]=w("range"),[m]=w("rangeStart"),[h]=w("rangeEnd"),[N]=w("frameRate"),[f]=w("pixelDensity"),[C]=w("destination"),[x]=w("format"),[b]=w("grain"),[I,L]=k(0),[S,M]=k(0),T=(Ue=d.user)==null?void 0:Ue.id,[O,_,R,W]=xe("users","sg-figma"),U=O.find(Gt=>Gt.figma_user_id===T),F=Fn(U==null?void 0:U.trial_started_at),[K,G]=Se("sub1"),J=F<=0&&!G&&!K,_e=J?"Upgrade to Pro":C==="onCanvas"?"Add GIF to canvas":"Download",ke=!K&&`(${F} days left)`;$(()=>{L(h-m)},[m,h]),$(()=>{M(_t({format:x,duration:I,frameRate:N,pixelDensity:f}))},[x,I,f,N]);let kt=c==="on"&&v==="enabled"&&S<300,Ut={rangeStart:m,rangeEnd:h,setAnimate:l,setUTime:g,frameRate:N,destination:C,format:x,grain:b},Y="dbLoading";return s?Y="loading":S>300?Y="error-1":u?G?J&&(Y="upgrade"):Y="default":Y="error-2",Ln(Dn,{children:[Bn(e,y(p({},n),{key:o,style:y(p({},t),{cursor:"pointer"}),onTapGIF:()=>{be=new AbortController,u&&kt?J?n==null||n.onTapGIFU():U?(a(0),console.log("startTime",Date.now()),Oe.start(),wt(Ut,a,be)):n==null||n.onTapGIFN():n==null||n.onTapGIF()},onTapGIFU:()=>console.log("onTapGIFU (ignore the default event)"),onTapGIFN:()=>console.log("onTapGIFN (ignore the default event)"),progress:o*100,title:_e,credit:ke,variant:Y})),Y==="loading"&&E("div",{onClick:()=>be.abort(),style:{position:"absolute",width:"100%",height:"100%",top:0,left:0,cursor:"wait"}})]})}}function Ai(e){return t=>{let[n]=Se(t["data-framer-name"]);if(n)return E(e,p({},t))}}function wi(e){return t=>{let[n]=Se(t["data-framer-name"]);return E(e,y(p({},t),{text:n?"Upgraded!":`Check
your browser`}))}}function Ii(e){return t=>{let[n]=ve();return E(e,y(p({},t),{text:(n==null?void 0:n.email)||""}))}}function Ci(e){return t=>{let[n,r]=Se("userInfo-channel"),[i]=ve("sg-info"),o="Loading";return r?o="Loading":i?n?o="Pro":o="Free":o="NoUser",E(e,y(p({},t),{supportLink:`${Ft}?prefilled_email=${encodeURIComponent(i==null?void 0:i.email)}`,status:n?"PRO USER":"FREE USER",email:i?`(${i==null?void 0:i.email})`:"",variant:o}))}}function Pi(e){return r=>{var i=r,{style:t}=i,n=B(i,["style"]);return E(e,y(p({},n),{style:y(p({},t),{cursor:"pointer"}),onClick:()=>alert("This feature is under development.")}))}}function Ri(e){return t=>{var a;let[n]=j(),[r]=ve(),[i]=te(),o=i==="year";return E(e,y(p({},t),{href:`${o?Rt:Mt}?prefilled_email=${encodeURIComponent(r==null?void 0:r.email)}&client_reference_id=${(a=n.user)==null?void 0:a.id}`}))}}function Mi(e){return t=>{let[,n]=te();return E(e,y(p({},t),{onMonthly:()=>n("year"),onYearly:()=>n("month")}))}}function Fi(e){return t=>{let[n]=te();return E(e,y(p({},t),{variant:n==="year"?"year":"month"}))}}function Bi(e){return t=>{let[n]=te(),r=n==="year";return E(e,y(p({},t),{text:r?" \u2014 just $2 a month":" \u2014 just $4 a month"}))}}function Di(e){return t=>{let[n]=te(),r=n==="year";return E(e,y(p({},t),{opacity:r?1:0,y:r?10:0}))}}function Li(e){return r=>{var i=r,{style:t}=i,n=B(i,["style"]);let o=Z(s=>s.activePreset),a=Z(s=>s.setActivePreset);return E(e,y(p({},n),{style:y(p({},t),{cursor:"pointer"}),onClick:()=>{let s;o!==0?s=o-1:s=H.length-1,a(s),oe(H[s].url)}}))}}function Oi(e){return r=>{var i=r,{style:t}=i,n=B(i,["style"]);let o=Z(s=>s.activePreset),a=Z(s=>s.setActivePreset);return E(e,y(p({},n),{style:y(p({},t),{cursor:"pointer"}),onClick:()=>{let s;o!==H.length-1?s=o+1:s=0,a(s),oe(H[s].url)}}))}}function _i(e){return t=>{let n=Z(r=>r.activePreset);return E(e,y(p({},t),{text:H[n].title}))}}function ki(e){return r=>{var i=r,{style:t}=i,n=B(i,["style"]);let[o,a]=w("toggleAxis");return E(e,y(p({},n),{style:y(p({},t),{cursor:"pointer"}),onClick:()=>a(!o)}))}}function Ui(e){return r=>{var i=r,{style:t}=i,n=B(i,["style"]);let[o,a]=w("zoomOut");return E(e,y(p({},n),{style:y(p({},t),{cursor:"pointer"}),onClick:()=>a(!o)}))}}function Gi(e){return r=>{var i=r,{style:t}=i,n=B(i,["style"]);let[o,a]=Cn.useState("copy url");return E(e,y(p({},n),{style:y(p({},t),{cursor:"pointer"}),onClick:()=>A(this,null,function*(){window.navigator.clipboard.writeText(window.location.href),a("copied!"),yield setTimeout(()=>{a("copy url")},1e3)})}))}}function zi(e){return r=>{var i=r,{style:t}=i,n=B(i,["style"]);return E(e,y(p({},n),{style:y(p({},t),{cursor:"pointer"}),onClick:()=>{let o=window.history.state.prevUrls||[];if(o.length>1){o.pop();let a=new URL(o[o.length-1]).search;oe(a),o.pop(),window.history.pushState({prevUrls:o},document.title,"")}else alert("no history")}}))}}function Hi(e){return t=>{let n=ut(),[r,i]=k(""),[o,a]=k(!0),s="default";return r&&(o?s="valid":s="invalid"),E(e,y(p({},t),{onChange:d=>{let u=d.target.value;i(u),Rn(u)?a(!0):a(!1)},onKeyDown:d=>{d.key==="Enter"&&o&&(n(r),t==null||t.onKeyDown())},onSubmit:()=>{o&&(n(r),t==null||t.onSubmit())},variant:s}))}}function qi(e){return t=>{Mn();let[n,r]=k(!1);return $(()=>{let i=setInterval(()=>{document.getElementById("shadergradient-app-styles")&&r(!0)},200);return()=>clearInterval(i)},[]),E(e,y(p({},t),{style:y(p({},t.style),{opacity:n?1:0,zIndex:2147483640})}))}}var Rn=e=>{let t=Ot.parse(e,{parseNumbers:!0,parseBooleans:!0,arrayFormat:"index"});return t.color1&&t.color2&&t.color3};function ji(e){return r=>{var i=r,{className:t}=i,n=B(i,["className"]);return E(e,y(p({},n),{className:Ct("hide-scrollbar",t)}))}}function Mn(){let[,e]=j();$(()=>{parent.postMessage({pluginMessage:{type:"UI_READY"}},"*"),onmessage=t=>{let n=t.data.pluginMessage;switch(n==null?void 0:n.type){case"SELECTION":e({selection:n.selection.length});break;case"USER_INFO":e({user:n.user});break;default:break}}},[])}function Vi(e){return n=>{var t=B(n,[]);let[r]=w("rangeStart"),[i]=w("rangeEnd"),[o]=w("pixelDensity"),[a]=w("frameRate"),[s]=w("destination"),[d,u]=k(333),[c,l]=k(333),[g]=w("format"),v=300,[m,h]=k(0),[N,f]=k(0);return $(()=>{h(i-r)},[r,i]),$(()=>{f(_t({format:g,duration:m,frameRate:a,pixelDensity:o})),setTimeout(()=>{Lt({setWidth:u,setHeight:l,pixelDensity:o})},100)},[g,m,o,a]),In(()=>{function C(){Lt({setWidth:u,setHeight:l,pixelDensity:o})}return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[o]),E(e,y(p({},t),{size:`${Math.ceil(N*10)/10}MB`,duration:`(${Math.ceil(m*10)/10}s)`,resolution:`${d} x ${c} px`,variant:N>v&&s==="onCanvas"?"Error":s==="localFile"?"Export":"Default"}))}}function Wi(e){return n=>{var t=B(n,[]);let r=Pn(),[i]=w("rangeStart"),[o]=w("rangeEnd"),[a,s]=k(o-i),d=()=>A(this,null,function*(){return r.set({width:"0%",transition:{duration:0}}),yield r.start({width:"100%",transition:{duration:a,repeat:1/0,repeatType:"loop",ease:"linear"}})});return $(()=>{s(o-i),Oe.start(),d()},[o,i]),E(e,y(p({},t),{animate:r}))}}function ve(e="sg-figma-hook"){var o;let[t]=j(),n=(o=t.user)==null?void 0:o.id,[r,i]=xe("users",e);return[r.find(a=>a.figma_user_id===n),i]}function Se(e){let[t,n]=ve(),r=t==null?void 0:t.id,[i,o]=xe("subscriptions",e);return[i.find(s=>s.user_id===r&&s.status==="active"),n||o]}function Lt({setWidth:e,setHeight:t,pixelDensity:n}){var a;let r=(a=document.getElementById("gradientCanvas"))==null?void 0:a.children[0],{width:i,height:o}=r.getBoundingClientRect();e(Math.round(i*n)),t(Math.round(o*n))}function _t({format:e,duration:t,frameRate:n,pixelDensity:r}){let o=(e==="webm"?.00745:.149)*t*n*r*r;return Math.round(o*10)/10}function Fn(e){if(!e)return Dt;let n=new Date().getTime()-new Date(e).getTime(),r=Dt-n/(1e3*3600*24);return r<0?0:Math.round(r)}function Yi(e){return t=>{var o;let[,,n]=xe("users","sg-figma-t"),[r]=j(),i=(o=r.user)==null?void 0:o.id;return E(e,y(p({},t),{onSubmit:a=>{n({email:a,figma_user_id:i,trial_started_at:new Date}),t==null||t.onSubmit()}}))}}export{_i as ActiveTitle,Li as ArrowLeft,Oi as ArrowRight,Vi as GIFStatusOverride,ji as HideScrollBar,qi as LoadViewAfterStyleSheet,Fi as Price,Bi as PriceText,Di as SaleTag,Yi as StartTrial,Wi as Timeline,Mi as TogglePrice,ki as Tool3dAxis,Gi as ToolCopy,zi as ToolUndo,Ui as ToolZoomOut,Hi as UrlInput,Ei as checkEnabled,vi as createRectangle,Ti as extractGIF,Pi as extractGIFDEV,Ni as goBack,Si as insertCanvasAsImage,Ai as isUpgraded,Ri as subscribeLink,wi as upgradingText,Ii as userEmail,Ci as userInfo};
