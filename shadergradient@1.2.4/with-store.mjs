var Jf=Object.create;var ln=Object.defineProperty,eu=Object.defineProperties,tu=Object.getOwnPropertyDescriptor,ru=Object.getOwnPropertyDescriptors,nu=Object.getOwnPropertyNames,sn=Object.getOwnPropertySymbols,ou=Object.getPrototypeOf,Zo=Object.prototype.hasOwnProperty,as=Object.prototype.propertyIsEnumerable;var is=(e,t,r)=>t in e?ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t)=>{for(var r in t||={})Zo.call(t,r)&&is(e,r,t[r]);if(sn)for(var r of sn(t))as.call(t,r)&&is(e,r,t[r]);return e},I=(e,t)=>eu(e,ru(t));var D=(e,t)=>{var r={};for(var n in e)Zo.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&sn)for(var n of sn(e))t.indexOf(n)<0&&as.call(e,n)&&(r[n]=e[n]);return r};var gr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ge=(e,t)=>{for(var r in t)ln(e,r,{get:t[r],enumerable:!0})},iu=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nu(t))!Zo.call(e,o)&&o!==r&&ln(e,o,{get:()=>t[o],enumerable:!(n=tu(t,o))||n.enumerable});return e};var st=(e,t,r)=>(r=e!=null?Jf(ou(e)):{},iu(t||!e||!e.__esModule?ln(r,"default",{value:e,enumerable:!0}):r,e));var q=(e,t,r)=>new Promise((n,o)=>{var i=l=>{try{s(r.next(l))}catch(c){o(c)}},a=l=>{try{s(r.throw(l))}catch(c){o(c)}},s=l=>l.done?n(l.value):Promise.resolve(l.value).then(i,a);s((r=r.apply(e,t)).next())});var cs=gr((V0,ls)=>{"use strict";ls.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var ps=gr((G0,ms)=>{"use strict";var us="%[a-f0-9]{2}",ds=new RegExp("("+us+")|([^%]+?)","gi"),fs=new RegExp("("+us+")+","gi");function Qo(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],Qo(r),Qo(n))}function du(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(ds)||[],r=1;r<t.length;r++)e=Qo(t,r).join(""),t=e.match(ds)||[];return e}}function fu(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=fs.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var n=du(r[0]);n!==r[0]&&(t[r[0]]=n)}r=fs.exec(e)}t["%C2"]="\uFFFD";for(var o=Object.keys(t),i=0;i<o.length;i++){var a=o[i];e=e.replace(new RegExp(a,"g"),t[a])}return e}ms.exports=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return fu(e)}}});var gs=gr((q0,hs)=>{"use strict";hs.exports=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];let r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]}});var vs=gr((Y0,ys)=>{"use strict";ys.exports=function(e,t){for(var r={},n=Object.keys(e),o=Array.isArray(t),i=0;i<n.length;i++){var a=n[i],s=e[a];(o?t.indexOf(a)!==-1:t(a,s,e))&&(r[a]=s)}return r}});var Ye=gr(me=>{"use strict";var uu=cs(),mu=ps(),bs=gs(),pu=vs(),hu=e=>e==null,Ko=Symbol("encodeFragmentIdentifier");function gu(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let o=r.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[ne(t,e),"[",o,"]"].join("")]:[...r,[ne(t,e),"[",ne(o,e),"]=",ne(n,e)].join("")]};case"bracket":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[ne(t,e),"[]"].join("")]:[...r,[ne(t,e),"[]=",ne(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[ne(t,e),":list="].join("")]:[...r,[ne(t,e),":list=",ne(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t=e.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,o)=>o===void 0||e.skipNull&&o===null||e.skipEmptyString&&o===""?n:(o=o===null?"":o,n.length===0?[[ne(r,e),t,ne(o,e)].join("")]:[[n,ne(o,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,ne(t,e)]:[...r,[ne(t,e),"=",ne(n,e)].join("")]}}function yu(e){let t;switch(e.arrayFormat){case"index":return(r,n,o)=>{if(t=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!t){o[r]=n;return}o[r]===void 0&&(o[r]={}),o[r][t[1]]=n};case"bracket":return(r,n,o)=>{if(t=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!t){o[r]=n;return}if(o[r]===void 0){o[r]=[n];return}o[r]=[].concat(o[r],n)};case"colon-list-separator":return(r,n,o)=>{if(t=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!t){o[r]=n;return}if(o[r]===void 0){o[r]=[n];return}o[r]=[].concat(o[r],n)};case"comma":case"separator":return(r,n,o)=>{let i=typeof n=="string"&&n.includes(e.arrayFormatSeparator),a=typeof n=="string"&&!i&&qe(n,e).includes(e.arrayFormatSeparator);n=a?qe(n,e):n;let s=i||a?n.split(e.arrayFormatSeparator).map(l=>qe(l,e)):n===null?n:qe(n,e);o[r]=s};case"bracket-separator":return(r,n,o)=>{let i=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!i){o[r]=n&&qe(n,e);return}let a=n===null?[]:n.split(e.arrayFormatSeparator).map(s=>qe(s,e));if(o[r]===void 0){o[r]=a;return}o[r]=[].concat(o[r],a)};default:return(r,n,o)=>{if(o[r]===void 0){o[r]=n;return}o[r]=[].concat(o[r],n)}}}function _s(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function ne(e,t){return t.encode?t.strict?uu(e):encodeURIComponent(e):e}function qe(e,t){return t.decode?mu(e):e}function Ts(e){return Array.isArray(e)?e.sort():typeof e=="object"?Ts(Object.keys(e)).sort((t,r)=>Number(t)-Number(r)).map(t=>e[t]):e}function Ss(e){let t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function vu(e){let t="",r=e.indexOf("#");return r!==-1&&(t=e.slice(r)),t}function Es(e){e=Ss(e);let t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function xs(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function ws(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),_s(t.arrayFormatSeparator);let r=yu(t),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(let o of e.split("&")){if(o==="")continue;let[i,a]=bs(t.decode?o.replace(/\+/g," "):o,"=");a=a===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:qe(a,t),r(qe(i,t),a,n)}for(let o of Object.keys(n)){let i=n[o];if(typeof i=="object"&&i!==null)for(let a of Object.keys(i))i[a]=xs(i[a],t);else n[o]=xs(i,t)}return t.sort===!1?n:(t.sort===!0?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((o,i)=>{let a=n[i];return Boolean(a)&&typeof a=="object"&&!Array.isArray(a)?o[i]=Ts(a):o[i]=a,o},Object.create(null))}me.extract=Es;me.parse=ws;me.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),_s(t.arrayFormatSeparator);let r=a=>t.skipNull&&hu(e[a])||t.skipEmptyString&&e[a]==="",n=gu(t),o={};for(let a of Object.keys(e))r(a)||(o[a]=e[a]);let i=Object.keys(o);return t.sort!==!1&&i.sort(t.sort),i.map(a=>{let s=e[a];return s===void 0?"":s===null?ne(a,t):Array.isArray(s)?s.length===0&&t.arrayFormat==="bracket-separator"?ne(a,t)+"[]":s.reduce(n(a),[]).join("&"):ne(a,t)+"="+ne(s,t)}).filter(a=>a.length>0).join("&")};me.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=bs(e,"#");return Object.assign({url:r.split("?")[0]||"",query:ws(Es(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:qe(n,t)}:{})};me.stringifyUrl=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[Ko]:!0},t);let r=Ss(e.url).split("?")[0]||"",n=me.extract(e.url),o=me.parse(n,{sort:!1}),i=Object.assign(o,e.query),a=me.stringify(i,t);a&&(a=`?${a}`);let s=vu(e.url);return e.fragmentIdentifier&&(s=`#${t[Ko]?ne(e.fragmentIdentifier,t):e.fragmentIdentifier}`),`${r}${a}${s}`};me.pick=(e,t,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[Ko]:!1},r);let{url:n,query:o,fragmentIdentifier:i}=me.parseUrl(e,r);return me.stringifyUrl({url:n,query:pu(o,t),fragmentIdentifier:i},r)};me.exclude=(e,t,r)=>{let n=Array.isArray(t)?o=>!t.includes(o):(o,i)=>!t(o,i);return me.pick(e,n,r)}});import{Canvas as wu}from"@react-three/fiber";var ss=(e,t)=>({dpr:e,camera:{fov:t},linear:!0,flat:!0,gl:{preserveDrawingBuffer:!0}});var au=[190,140],su=[0,10,0],lu=[0,10,50];var cu={meshDelay:0,meshDur:0,rotDelay:1.7,rotDur:1,posDelay:1.3,posDur:2.2,logoTransition:3.1,text:2.5,to:1};var ei=st(Ye());import{useCallback as Jo}from"react";var As=st(Ye());import zt from"zustand";import{combine as bu}from"zustand/middleware";var je=[{title:"Halo",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=3.6&cPolarAngle=90&cameraZoom=1&color1=%23ff5005&color2=%23dbba95&color3=%23d0bce1&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=-1.4&positionY=0&positionZ=0&reflection=0.1&rotationX=0&rotationY=10&rotationZ=50&shader=defaults&type=plane&uDensity=1.3&uSpeed=0.4&uStrength=4&uTime=0&uFrequency=5.5&wireframe=false"},{title:"Pensive",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.5&cAzimuthAngle=250&cDistance=1.5&cPolarAngle=140&cameraZoom=12.5&color1=%23809bd6&color2=%23910aff&color3=%23af38ff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.5&rotationX=0&rotationY=0&rotationZ=140&shader=defaults&type=sphere&uAmplitude=7&uDensity=0.8&uFrequency=5.5&uSpeed=0.3&uStrength=0.4&uTime=0&wireframe=false"},{title:"Mint",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=170&cDistance=4.4&cPolarAngle=70&cameraZoom=1&color1=%2394ffd1&color2=%236bf5ff&color3=%23ffffff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0.9&positionZ=-0.3&reflection=0.1&rotationX=45&rotationY=0&rotationZ=0&type=waterPlane&uAmplitude=0&uDensity=1.2&uFrequency=0&uSpeed=0.2&uStrength=3.4&uTime=0&wireframe=false&shader=defaults"},{title:"Interstella",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=0.8&cAzimuthAngle=270&cDistance=0.5&cPolarAngle=180&cameraZoom=15.1&color1=%2373bfc4&color2=%23ff810a&color3=%238da0ce&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=env&pixelDensity=1&fov=45&positionX=-0.1&positionY=0&positionZ=0&reflection=0.4&rotationX=0&rotationY=130&rotationZ=70&shader=defaults&type=sphere&uAmplitude=3.2&uDensity=0.8&uFrequency=5.5&uSpeed=0.3&uStrength=0.3&uTime=0&wireframe=false"},{title:"Nighty night",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1&cAzimuthAngle=180&cDistance=2.8&cPolarAngle=80&cameraZoom=9.1&color1=%23606080&color2=%238d7dca&color3=%23212121&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=50&rotationY=0&rotationZ=-60&shader=defaults&type=waterPlane&uAmplitude=0&uDensity=1.5&uFrequency=0&uSpeed=0.3&uStrength=1.5&uTime=8&wireframe=false"},{title:"Viola orientalis",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&brightness=1.1&cAzimuthAngle=0&cDistance=7.1&cPolarAngle=140&cameraZoom=17.3&color1=%23ffffff&color2=%23ffbb00&color3=%230700ff&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=0&type=sphere&uAmplitude=1.4&uDensity=1.1&uSpeed=0.1&uStrength=1&uTime=0&wireframe=false&uFrequency=5.5&shader=defaults"},{title:"Universe",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&brightness=1.1&cAzimuthAngle=180&cDistance=3.9&cPolarAngle=115&cameraZoom=1&color1=%235606FF&color2=%23FE8989&color3=%23000000&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=-0.5&positionY=0.1&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=235&type=waterPlane&uAmplitude=0&uDensity=1.1&uSpeed=0.1&uStrength=2.4&uTime=0.2&uFrequency=5.5&wireframe=false&shader=defaults"},{title:"Sunset",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&bgColor1=%23000000&bgColor2=%23000000&brightness=1.5&cAzimuthAngle=60&cDistance=7.1&cPolarAngle=90&cameraZoom=15.3&color1=%23ff7a33&color2=%2333a0ff&color3=%23ffc53d&embedMode=off&envPreset=dawn&grain=off&http%3A%2F%2Flocalhost%3A3002%2Fcustomize%3Fanimate=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=-0.15&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=0&shader=defaults&type=sphere&uAmplitude=1.4&uDensity=1.1&uSpeed=0.1&uStrength=0.4&uTime=0&uFrequency=5.5&wireframe=false"},{title:"Mandarin",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&bgColor1=%23000000&bgColor2=%23000000&brightness=1.2&cAzimuthAngle=180&cDistance=2.4&cPolarAngle=95&cameraZoom=1&color1=%23ff6a1a&color2=%23c73c00&color3=%23FD4912&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=-2.1&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=225&shader=defaults&type=waterPlane&uAmplitude=0&uFrequency=5.5&uDensity=1.8&uSpeed=0.2&uStrength=3&uTime=0.2&wireframe=false"},{title:"Cotton Candy",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=2.9&cPolarAngle=120&cameraZoom=1&color1=%23ebedff&color2=%23f3f2f8&color3=%23dbf8ff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=1.8&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=-90&type=waterPlane&uDensity=1&uSpeed=0.3&uStrength=3&uTime=0.2&uFrequency=5.5&wireframe=false&shader=defaults"}],Ps=je[0].url;var _u=w({},Ms()),ye=zt(e=>_u),Ft=e=>{let t=typeof e=="string",r=e;t&&(r=Ms(e)),ye.setState(r,t)};function Ms(e=Ps){return As.parse(e,{parseNumbers:!0,parseBooleans:!0,arrayFormat:"index"})}var K0=zt(()=>({dom:null})),Tu=zt(e=>({hoverState:0,hover:"default",updateHoverState:t=>e({hoverState:t})})),lt=zt(bu({activePreset:0,mode:"full",loadingPercentage:0},e=>({setActivePreset:t=>e(r=>({activePreset:t})),setMode:t=>e(r=>I(w({},r),{mode:t})),setLoadingPercentage:t=>e(r=>I(w({},r),{loadingPercentage:t}))}))),Cs=zt(e=>({figma:{selection:0,user:null},setFigma:t=>e(r=>({figma:w(w({},r.figma),t)}))}));function ct(){let e=Cs(r=>r.figma),t=Cs(r=>r.setFigma);return[e,t]}var Rs=zt(e=>({billingInterval:"year",setBillingInterval:t=>e(r=>({billingInterval:t}))}));function kt(){let e=Rs(r=>r.billingInterval),t=Rs(r=>r.setBillingInterval);return[e,t]}var yr=st(Ye());import{useCallback as $o}from"react";var Q=(e,t=null)=>{let r=$o(a=>typeof a[e]!="undefined"?a[e]:t,[e,t]),n=ye(r),o=$o(a=>ye.setState({[e]:a(ye.getState()[e])}),[e]),i=$o(a=>{o(s=>(typeof a=="function"&&(a=a(s||t)),Number.isFinite(a)&&(a=parseFloat(a.toFixed(2))),setTimeout(()=>{let l=ye.getState();Ns(yr.stringifyUrl({url:window.location.pathname,query:l},{skipNull:!0,arrayFormat:"index"}))},0),a))},[o]);return[n,i]},Is=()=>t=>{setTimeout(()=>{let n=ye.getState();Ns(yr.stringifyUrl({url:window.location.pathname,query:n},{skipNull:!0,arrayFormat:"index"}))},0);let r=yr.parse(t,{parseNumbers:!0,parseBooleans:!0,arrayFormat:"index"});ye.setState(r)};function Ns(e){var t;window.history.pushState({prevUrls:[...((t=window.history.state)==null?void 0:t.prevUrls)||[],window.location.origin+e]},document.title,e)}import{useEffect as oy}from"react";var Su=(e,t=null)=>{let r=Jo(a=>typeof a[e]!="undefined"?a[e]:t,[e,t]),n=ye(r),o=Jo(a=>ye.setState({[e]:a(ye.getState()[e])}),[e]),i=Jo(a=>{o(s=>(typeof a=="function"&&(a=a(s||t)),Number.isFinite(a)&&(a=parseFloat(a.toFixed(2))),setTimeout(()=>{let l=ye.getState();Eu(ei.stringifyUrl({url:window.location.pathname,query:l},{skipNull:!0,arrayFormat:"index"}))},0),a))},[o]);return[n,i]};function Eu(e){var t;window.history.pushState({prevUrls:[...((t=window.history.state)==null?void 0:t.prevUrls)||[],window.location.origin+e]},document.title,e)}var ti=Su;import{Fragment as Pu,jsx as Ls}from"react/jsx-runtime";function xy(n){var o=n,{children:e,pointerEvents:t="none"}=o,r=D(o,["children","pointerEvents"]);let[i]=ti("pixelDensity"),[a]=ti("fov");return Ls(Pu,{children:Ls(wu,I(w(I(w({id:"gradientCanvas",resize:{offsetSize:!0}},ss(i,a)),{style:{pointerEvents:t}}),r),{children:e}),i+a)})}var Os=st(Ye());import Bt from"zustand";import{combine as Ru}from"zustand/middleware";var We=[{title:"Halo",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=3.6&cPolarAngle=90&cameraZoom=1&color1=%23ff5005&color2=%23dbba95&color3=%23d0bce1&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=-1.4&positionY=0&positionZ=0&reflection=0.1&rotationX=0&rotationY=10&rotationZ=50&shader=defaults&type=plane&uDensity=1.3&uSpeed=0.4&uStrength=4&uTime=0&uFrequency=5.5&wireframe=false"},{title:"Pensive",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.5&cAzimuthAngle=250&cDistance=1.5&cPolarAngle=140&cameraZoom=12.5&color1=%23809bd6&color2=%23910aff&color3=%23af38ff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.5&rotationX=0&rotationY=0&rotationZ=140&shader=defaults&type=sphere&uAmplitude=7&uDensity=0.8&uFrequency=5.5&uSpeed=0.3&uStrength=0.4&uTime=0&wireframe=false"},{title:"Mint",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=170&cDistance=4.4&cPolarAngle=70&cameraZoom=1&color1=%2394ffd1&color2=%236bf5ff&color3=%23ffffff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0.9&positionZ=-0.3&reflection=0.1&rotationX=45&rotationY=0&rotationZ=0&type=waterPlane&uAmplitude=0&uDensity=1.2&uFrequency=0&uSpeed=0.2&uStrength=3.4&uTime=0&wireframe=false&shader=defaults"},{title:"Interstella",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=0.8&cAzimuthAngle=270&cDistance=0.5&cPolarAngle=180&cameraZoom=15.1&color1=%2373bfc4&color2=%23ff810a&color3=%238da0ce&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=env&pixelDensity=1&fov=45&positionX=-0.1&positionY=0&positionZ=0&reflection=0.4&rotationX=0&rotationY=130&rotationZ=70&shader=defaults&type=sphere&uAmplitude=3.2&uDensity=0.8&uFrequency=5.5&uSpeed=0.3&uStrength=0.3&uTime=0&wireframe=false"},{title:"Nighty night",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1&cAzimuthAngle=180&cDistance=2.8&cPolarAngle=80&cameraZoom=9.1&color1=%23606080&color2=%238d7dca&color3=%23212121&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=50&rotationY=0&rotationZ=-60&shader=defaults&type=waterPlane&uAmplitude=0&uDensity=1.5&uFrequency=0&uSpeed=0.3&uStrength=1.5&uTime=8&wireframe=false"},{title:"Viola orientalis",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&brightness=1.1&cAzimuthAngle=0&cDistance=7.1&cPolarAngle=140&cameraZoom=17.3&color1=%23ffffff&color2=%23ffbb00&color3=%230700ff&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=0&type=sphere&uAmplitude=1.4&uDensity=1.1&uSpeed=0.1&uStrength=1&uTime=0&wireframe=false&uFrequency=5.5&shader=defaults"},{title:"Universe",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&brightness=1.1&cAzimuthAngle=180&cDistance=3.9&cPolarAngle=115&cameraZoom=1&color1=%235606FF&color2=%23FE8989&color3=%23000000&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=-0.5&positionY=0.1&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=235&type=waterPlane&uAmplitude=0&uDensity=1.1&uSpeed=0.1&uStrength=2.4&uTime=0.2&uFrequency=5.5&wireframe=false&shader=defaults"},{title:"Sunset",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&bgColor1=%23000000&bgColor2=%23000000&brightness=1.5&cAzimuthAngle=60&cDistance=7.1&cPolarAngle=90&cameraZoom=15.3&color1=%23ff7a33&color2=%2333a0ff&color3=%23ffc53d&embedMode=off&envPreset=dawn&grain=off&http%3A%2F%2Flocalhost%3A3002%2Fcustomize%3Fanimate=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=-0.15&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=0&shader=defaults&type=sphere&uAmplitude=1.4&uDensity=1.1&uSpeed=0.1&uStrength=0.4&uTime=0&uFrequency=5.5&wireframe=false"},{title:"Mandarin",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&bgColor1=%23000000&bgColor2=%23000000&brightness=1.2&cAzimuthAngle=180&cDistance=2.4&cPolarAngle=95&cameraZoom=1&color1=%23ff6a1a&color2=%23c73c00&color3=%23FD4912&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=-2.1&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=225&shader=defaults&type=waterPlane&uAmplitude=0&uFrequency=5.5&uDensity=1.8&uSpeed=0.2&uStrength=3&uTime=0.2&wireframe=false"},{title:"Cotton Candy",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=2.9&cPolarAngle=120&cameraZoom=1&color1=%23ebedff&color2=%23f3f2f8&color3=%23dbf8ff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=1.8&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=-90&type=waterPlane&uDensity=1&uSpeed=0.3&uStrength=3&uTime=0.2&uFrequency=5.5&wireframe=false&shader=defaults"}],Ds=We[0].url;var Au=w({},zs()),Pe=Bt(e=>Au),dt=e=>{let t=typeof e=="string",r=e;t&&(r=zs(e)),Pe.setState(r,t)};function zs(e=Ds){return Os.parse(e,{parseNumbers:!0,parseBooleans:!0,arrayFormat:"index"})}var Cy=Bt(()=>({dom:null})),ie=Bt(e=>({hoverState:0,hover:"default",updateHoverState:t=>e({hoverState:t})})),Xe=Bt(Ru({activePreset:0,mode:"full",loadingPercentage:0},e=>({setActivePreset:t=>e(r=>({activePreset:t})),setMode:t=>e(r=>I(w({},r),{mode:t})),setLoadingPercentage:t=>e(r=>I(w({},r),{loadingPercentage:t}))}))),Ry=Bt(e=>({figma:{selection:0,user:null},setFigma:t=>e(r=>({figma:w(w({},r.figma),t)}))}));var Ay=Bt(e=>({billingInterval:"year",setBillingInterval:t=>e(r=>({billingInterval:t}))}));var ni=st(Ye());import{useCallback as ri}from"react";var N=(e,t=null)=>{let r=ri(a=>typeof a[e]!="undefined"?a[e]:t,[e,t]),n=Pe(r),o=ri(a=>Pe.setState({[e]:a(Pe.getState()[e])}),[e]),i=ri(a=>{o(s=>(typeof a=="function"&&(a=a(s||t)),Number.isFinite(a)&&(a=parseFloat(a.toFixed(2))),setTimeout(()=>{let l=Pe.getState();Mu(ni.stringifyUrl({url:window.location.pathname,query:l},{skipNull:!0,arrayFormat:"index"}))},0),a))},[o]);return[n,i]};function Mu(e){var t;window.history.pushState({prevUrls:[...((t=window.history.state)==null?void 0:t.prevUrls)||[],window.location.origin+e]},document.title,e)}import{useEffect as zy}from"react";var ii=st(Ye());import{useCallback as oi}from"react";var Iu=(e,t=null)=>{let r=oi(a=>typeof a[e]!="undefined"?a[e]:t,[e,t]),n=Pe(r),o=oi(a=>Pe.setState({[e]:a(Pe.getState()[e])}),[e]),i=oi(a=>{o(s=>(typeof a=="function"&&(a=a(s||t)),Number.isFinite(a)&&(a=parseFloat(a.toFixed(2))),setTimeout(()=>{let l=Pe.getState();Nu(ii.stringifyUrl({url:window.location.pathname,query:l},{skipNull:!0,arrayFormat:"index"}))},0),a))},[o]);return[n,i]};function Nu(e){var t;window.history.pushState({prevUrls:[...((t=window.history.state)==null?void 0:t.prevUrls)||[],window.location.origin+e]},document.title,e)}var U=Iu;function cn(e){return e/180*Math.PI}function ai(e){return e.map(t=>cn(t))}function Fs(e){return e.replace("http://localhost:3001/customize","").replace("https://shadergradient.co/customize","").replace("https://www.shadergradient.co/customize","")}var j=(...e)=>e.filter(t=>!!t).join(" ");var ks=st(Ye());function Bs(e,n){var o=n,{urlString:t}=o,r=D(o,["urlString"]);let[i]=U("type"),[a]=U("animate"),[s]=U("range"),[l]=U("rangeStart"),[c]=U("rangeEnd"),[f]=U("uTime"),[d]=U("uSpeed"),[m]=U("uStrength"),[u]=U("uDensity"),[p]=U("uFrequency"),[v]=U("uAmplitude"),[b]=U("positionX"),[h]=U("positionY"),[g]=U("positionZ"),[x]=U("rotationX"),[_]=U("rotationY"),[y]=U("rotationZ"),[S]=U("color1"),[E]=U("color2"),[P]=U("color3"),[T]=U("cAzimuthAngle"),[R]=U("cPolarAngle"),[M]=U("cDistance"),[L]=U("cameraZoom"),[F]=U("wireframe"),[G]=U("shader"),[B]=U("lightType"),[ce]=U("brightness"),[Z]=U("envPreset"),[re]=U("grain"),[_e]=U("reflection"),[He]=U("zoomOut"),[it]=U("toggleAxis"),at=ie(Ot=>Ot.hoverState),[ue]=U("frameRate"),[Ve]=U("destination"),[Te]=U("format"),we={type:i,animate:a,range:s,rangeStart:l,rangeEnd:c,frameRate:ue,destination:Ve,format:Te,uTime:f,uSpeed:d,uStrength:m,uDensity:u,uFrequency:p,uAmplitude:v,positionX:b,positionY:h,positionZ:g,rotationX:x,rotationY:_,rotationZ:y,color1:S,color2:E,color3:P,cAzimuthAngle:T,cPolarAngle:R,cDistance:M,cameraZoom:L,wireframe:F,shader:G,lightType:B,brightness:ce,envPreset:Z,grain:re,reflection:_e,zoomOut:He,toggleAxis:it,hoverState:at};if(e==="props")return w(w({},we),r);if(e==="query")return t?ks.parse(Fs(t),{parseNumbers:!0,parseBooleans:!0,arrayFormat:"index"}):we}import{useEffect as ym,useMemo as vm}from"react";import{BufferGeometry as ku,Clock as Bu,Float32BufferAttribute as qs,LinearFilter as Vs,Mesh as cv,OrthographicCamera as Uu,RGBAFormat as Hu,Vector2 as Gs,WebGLRenderTarget as Vu}from"three";import{BufferGeometry as Lu,Float32BufferAttribute as Us,OrthographicCamera as Du,Mesh as Ou}from"three";var Ze=class{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}},zu=new Du(-1,1,1,-1,0,1),si=new Lu;si.setAttribute("position",new Us([-1,3,0,-1,-1,0,3,-1,0],3));si.setAttribute("uv",new Us([0,2,0,0,2,0],2));var dn=class{constructor(t){this._mesh=new Ou(si,t)}dispose(){this._mesh.geometry.dispose()}render(t){t.render(this._mesh,zu)}get material(){return this._mesh.material}set material(t){this._mesh.material=t}};var vr=class extends Ze{constructor(t,r){super(),this.scene=t,this.camera=r,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(t,r,n){let o=t.getContext(),i=t.state;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0);let a,s;this.inverse?(a=0,s=1):(a=1,s=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),i.buffers.stencil.setFunc(o.ALWAYS,a,4294967295),i.buffers.stencil.setClear(s),i.buffers.stencil.setLocked(!0),t.setRenderTarget(n),this.clear&&t.clear(),t.render(this.scene,this.camera),t.setRenderTarget(r),this.clear&&t.clear(),t.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(o.EQUAL,1,4294967295),i.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),i.buffers.stencil.setLocked(!0)}},fn=class extends Ze{constructor(){super(),this.needsSwap=!1}render(t){t.state.buffers.stencil.setLocked(!1),t.state.buffers.stencil.setTest(!1)}};import{ShaderMaterial as Hs,UniformsUtils as Fu}from"three";var xr=class extends Ze{constructor(t,r){super(),this.textureID=r!==void 0?r:"tDiffuse",t instanceof Hs?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=Fu.clone(t.uniforms),this.material=new Hs({defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this.fsQuad=new dn(this.material)}render(t,r,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(r),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}};var li={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;

		}`};var un=class{constructor(t,r){if(this.renderer=t,r===void 0){let n={minFilter:Vs,magFilter:Vs,format:Hu},o=t.getSize(new Gs);this._pixelRatio=t.getPixelRatio(),this._width=o.width,this._height=o.height,r=new Vu(this._width*this._pixelRatio,this._height*this._pixelRatio,n),r.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=r.width,this._height=r.height;this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],li===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),xr===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new xr(li),this.clock=new Bu}swapBuffers(){let t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t}addPass(t){this.passes.push(t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(t,r){this.passes.splice(r,0,t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(t){let r=this.passes.indexOf(t);r!==-1&&this.passes.splice(r,1)}isLastEnabledPass(t){for(let r=t+1;r<this.passes.length;r++)if(this.passes[r].enabled)return!1;return!0}render(t){t===void 0&&(t=this.clock.getDelta());let r=this.renderer.getRenderTarget(),n=!1;for(let o=0,i=this.passes.length;o<i;o++){let a=this.passes[o];if(a.enabled!==!1){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(o),a.render(this.renderer,this.writeBuffer,this.readBuffer,t,n),a.needsSwap){if(n){let s=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(s.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),l.setFunc(s.EQUAL,1,4294967295)}this.swapBuffers()}vr!==void 0&&(a instanceof vr?n=!0:a instanceof fn&&(n=!1))}}this.renderer.setRenderTarget(r)}reset(t){if(t===void 0){let r=this.renderer.getSize(new Gs);this._pixelRatio=this.renderer.getPixelRatio(),this._width=r.width,this._height=r.height,t=this.renderTarget1.clone(),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(t,r){this._width=t,this._height=r;let n=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget1.setSize(n,o),this.renderTarget2.setSize(n,o);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(n,o)}setPixelRatio(t){this._pixelRatio=t,this.setSize(this._width,this._height)}};var pv=new Uu(-1,1,1,-1,0,1),Ys=new ku;Ys.setAttribute("position",new qs([-1,3,0,-1,-1,0,3,-1,0],3));Ys.setAttribute("uv",new qs([0,2,0,0,2,0],2));import{Color as Gu}from"three";var mn=class extends Ze{constructor(t,r,n,o,i){super(),this.scene=t,this.camera=r,this.overrideMaterial=n,this.clearColor=o,this.clearAlpha=i!==void 0?i:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Gu}render(t,r,n){let o=t.autoClear;t.autoClear=!1;let i,a;this.overrideMaterial!==void 0&&(a=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(t.getClearColor(this._oldClearColor),i=t.getClearAlpha(),t.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:n),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),this.clearColor&&t.setClearColor(this._oldClearColor,i),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=a),t.autoClear=o}};import{ShaderMaterial as hm,UniformsUtils as gm}from"three";var J={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18};import{EventDispatcher as lm,Uniform as cm}from"three";var js="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}";var Ws="vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}";var Xs="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}";var Zs="float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}";var Qs="float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}";var Ks="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}";var $s="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}";var Js="float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}";var el="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}";var tl="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}";var rl="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}";var nl="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}";var ol="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}";var il="float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}";var al="float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}";var sl="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}";var ll="float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}";var cl="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}";var dm=new Map([[J.SKIP,null],[J.ADD,js],[J.ALPHA,Ws],[J.AVERAGE,Xs],[J.COLOR_BURN,Zs],[J.COLOR_DODGE,Qs],[J.DARKEN,Ks],[J.DIFFERENCE,$s],[J.EXCLUSION,el],[J.LIGHTEN,tl],[J.MULTIPLY,rl],[J.DIVIDE,Js],[J.NEGATION,nl],[J.NORMAL,ol],[J.OVERLAY,il],[J.REFLECT,al],[J.SCREEN,sl],[J.SOFT_LIGHT,ll],[J.SUBTRACT,cl]]),br=class extends lm{constructor(t,r=1){super(),this.blendFunction=t,this.opacity=new cm(r)}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t,this.dispatchEvent({type:"change"})}getShaderCode(){return dm.get(this.blendFunction)}};var _t={uniforms:{tDiffuse:{value:null},shape:{value:1},radius:{value:2},rotateR:{value:Math.PI/12*1},rotateG:{value:Math.PI/12*2},rotateB:{value:Math.PI/12*3},scatter:{value:1},width:{value:20},height:{value:20},blending:{value:1},blendingMode:{value:1},greyscale:{value:!1},disable:{value:!1}},vertexShader:`

		varying vec2 vUV;
		varying vec3 vPosition;

		void main() {

			vUV = uv;
			vPosition = position;

			gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);

		}`,fragmentShader:`

		#define SQRT2_MINUS_ONE 0.41421356
		#define SQRT2_HALF_MINUS_ONE 0.20710678
		#define PI2 6.28318531
		#define SHAPE_DOT 1
		#define SHAPE_ELLIPSE 2
		#define SHAPE_LINE 3
		#define SHAPE_SQUARE 4
		#define BLENDING_LINEAR 1
		#define BLENDING_MULTIPLY 2
		#define BLENDING_ADD 3
		#define BLENDING_LIGHTER 4
		#define BLENDING_DARKER 5
		uniform sampler2D tDiffuse;
		uniform float radius;
		uniform float rotateR;
		uniform float rotateG;
		uniform float rotateB;
		uniform float scatter;
		uniform float width;
		uniform float height;
		uniform int shape;
		uniform bool disable;
		uniform float blending;
		uniform int blendingMode;
		varying vec2 vUV;
		varying vec3 vPosition;
		uniform bool greyscale;
		const int samples = 8;

		float blend( float a, float b, float t ) {

		// linear blend
			return a * ( 1.0 - t ) + b * t;

		}

		float hypot( float x, float y ) {

		// vector magnitude
			return sqrt( x * x + y * y );

		}

		float rand( vec2 seed ){

		// get pseudo-random number
			return fract( sin( dot( seed.xy, vec2( 12.9898, 78.233 ) ) ) * 43758.5453 );

		}

		float distanceToDotRadius( float channel, vec2 coord, vec2 normal, vec2 p, float angle, float rad_max ) {

		// apply shape-specific transforms
			float dist = hypot( coord.x - p.x, coord.y - p.y );
			float rad = channel;

			if ( shape == SHAPE_DOT ) {

				rad = pow( abs( rad ), 1.125 ) * rad_max;

			} else if ( shape == SHAPE_ELLIPSE ) {

				rad = pow( abs( rad ), 1.125 ) * rad_max;

				if ( dist != 0.0 ) {
					float dot_p = abs( ( p.x - coord.x ) / dist * normal.x + ( p.y - coord.y ) / dist * normal.y );
					dist = ( dist * ( 1.0 - SQRT2_HALF_MINUS_ONE ) ) + dot_p * dist * SQRT2_MINUS_ONE;
				}

			} else if ( shape == SHAPE_LINE ) {

				rad = pow( abs( rad ), 1.5) * rad_max;
				float dot_p = ( p.x - coord.x ) * normal.x + ( p.y - coord.y ) * normal.y;
				dist = hypot( normal.x * dot_p, normal.y * dot_p );

			} else if ( shape == SHAPE_SQUARE ) {

				float theta = atan( p.y - coord.y, p.x - coord.x ) - angle;
				float sin_t = abs( sin( theta ) );
				float cos_t = abs( cos( theta ) );
				rad = pow( abs( rad ), 1.4 );
				rad = rad_max * ( rad + ( ( sin_t > cos_t ) ? rad - sin_t * rad : rad - cos_t * rad ) );

			}

			return rad - dist;

		}

		struct Cell {

		// grid sample positions
			vec2 normal;
			vec2 p1;
			vec2 p2;
			vec2 p3;
			vec2 p4;
			float samp2;
			float samp1;
			float samp3;
			float samp4;

		};

		vec4 getSample( vec2 point ) {

		// multi-sampled point
			vec4 tex = texture2D( tDiffuse, vec2( point.x / width, point.y / height ) );
			float base = rand( vec2( floor( point.x ), floor( point.y ) ) ) * PI2;
			float step = PI2 / float( samples );
			// float dist = radius * 0.66;
			float dist = radius * 0.0;

			for ( int i = 0; i < samples; ++i ) {

				float r = base + step * float( i );
				vec2 coord = point + vec2( cos( r ) * dist, sin( r ) * dist );
				tex += texture2D( tDiffuse, vec2( coord.x / width, coord.y / height ) );

			}

			tex /= float( samples ) + 1.0;
			return tex;

		}

		float getDotColour( Cell c, vec2 p, int channel, float angle, float aa ) {

		// get colour for given point
			float dist_c_1, dist_c_2, dist_c_3, dist_c_4, res;

			if ( channel == 0 ) {

				c.samp1 = getSample( c.p1 ).r;
				c.samp2 = getSample( c.p2 ).r;
				c.samp3 = getSample( c.p3 ).r;
				c.samp4 = getSample( c.p4 ).r;

			} else if (channel == 1) {

				c.samp1 = getSample( c.p1 ).g;
				c.samp2 = getSample( c.p2 ).g;
				c.samp3 = getSample( c.p3 ).g;
				c.samp4 = getSample( c.p4 ).g;

			} else {

				c.samp1 = getSample( c.p1 ).b;
				c.samp3 = getSample( c.p3 ).b;
				c.samp2 = getSample( c.p2 ).b;
				c.samp4 = getSample( c.p4 ).b;

			}

			dist_c_1 = distanceToDotRadius( c.samp1, c.p1, c.normal, p, angle, radius );
			dist_c_2 = distanceToDotRadius( c.samp2, c.p2, c.normal, p, angle, radius );
			dist_c_3 = distanceToDotRadius( c.samp3, c.p3, c.normal, p, angle, radius );
			dist_c_4 = distanceToDotRadius( c.samp4, c.p4, c.normal, p, angle, radius );
			res = ( dist_c_1 > 0.0 ) ? clamp( dist_c_1 / aa, 0.0, 1.0 ) : 0.0;
			// res = 0.0;
			res += ( dist_c_2 > 0.0 ) ? clamp( dist_c_2 / aa, 0.0, 1.0 ) : 0.0;
			res += ( dist_c_3 > 0.0 ) ? clamp( dist_c_3 / aa, 0.0, 1.0 ) : 0.0;
			res += ( dist_c_4 > 0.0 ) ? clamp( dist_c_4 / aa, 0.0, 1.0 ) : 0.0;
			res = clamp( res, 0.0, 1.0 );

			return res;
			// return 2

		}

		Cell getReferenceCell( vec2 p, vec2 origin, float grid_angle, float step ) {

		// get containing cell
			Cell c;

		// calc grid
			vec2 n = vec2( cos( grid_angle ), sin( grid_angle ) );
			float threshold = step * 0.5;
			float dot_normal = n.x * ( p.x - origin.x ) + n.y * ( p.y - origin.y );
			float dot_line = -n.y * ( p.x - origin.x ) + n.x * ( p.y - origin.y );
			vec2 offset = vec2( n.x * dot_normal, n.y * dot_normal );
			float offset_normal = mod( hypot( offset.x, offset.y ), step );
			float normal_dir = ( dot_normal < 0.0 ) ? 1.0 : -1.0;
			float normal_scale = ( ( offset_normal < threshold ) ? -offset_normal : step - offset_normal ) * normal_dir;
			float offset_line = mod( hypot( ( p.x - offset.x ) - origin.x, ( p.y - offset.y ) - origin.y ), step );
			float line_dir = ( dot_line < 0.0 ) ? 1.0 : -1.0;
			float line_scale = ( ( offset_line < threshold ) ? -offset_line : step - offset_line ) * line_dir;

		// get closest corner
			c.normal = n;
			c.p1.x = p.x - n.x * normal_scale + n.y * line_scale;
			c.p1.y = p.y - n.y * normal_scale - n.x * line_scale;

		// scatter
			if ( scatter != 0.0 ) {

				float off_mag = scatter * threshold * 0.5;
				float off_angle = rand( vec2( floor( c.p1.x ), floor( c.p1.y ) ) ) * PI2;
				c.p1.x += cos( off_angle ) * off_mag;
				c.p1.y += sin( off_angle ) * off_mag;

			}

		// find corners
			float normal_step = normal_dir * ( ( offset_normal < threshold ) ? step : -step );
			float line_step = line_dir * ( ( offset_line < threshold ) ? step : -step );
			c.p2.x = c.p1.x - n.x * normal_step;
			c.p2.y = c.p1.y - n.y * normal_step;
			c.p3.x = c.p1.x + n.y * line_step;
			c.p3.y = c.p1.y - n.x * line_step;
			c.p4.x = c.p1.x - n.x * normal_step + n.y * line_step;
			c.p4.y = c.p1.y - n.y * normal_step - n.x * line_step;

			return c;

		}

		float blendColour( float a, float b, float t ) {

		// blend colours
			if ( blendingMode == BLENDING_LINEAR ) {
				return blend( a, b, 1.0 - t );
			} else if ( blendingMode == BLENDING_ADD ) {
				return blend( a, min( 1.0, a + b ), t );
			} else if ( blendingMode == BLENDING_MULTIPLY ) {
				return blend( a, max( 0.0, a * b ), t );
			} else if ( blendingMode == BLENDING_LIGHTER ) {
				return blend( a, max( a, b ), t );
			} else if ( blendingMode == BLENDING_DARKER ) {
				return blend( a, min( a, b ), t );
			} else {
				return blend( a, b, 1.0 - t );
			}

		}

		void main() {

			if ( ! disable ) {

		// setup
				vec2 p = vec2( vUV.x * width, vUV.y * height ) - vec2(vPosition.x, vPosition.y) * 3.0; // - position values to remove black borders.
				vec2 origin = vec2( 0, 0 );
				float aa = ( radius < 2.5 ) ? radius * 0.5 : 1.25;
				// float aa = 0.0;

		// get channel samples
				Cell cell_r = getReferenceCell( p, origin, rotateR, radius );
				Cell cell_g = getReferenceCell( p, origin, rotateG, radius );
				Cell cell_b = getReferenceCell( p, origin, rotateB, radius );
				float r = getDotColour( cell_r, p, 0, rotateR, aa );
				float g = getDotColour( cell_g, p, 1, rotateG, aa );
				float b = getDotColour( cell_b, p, 2, rotateB, aa );

		// blend with original
				vec4 colour = texture2D( tDiffuse, vUV );
				
				// add masking before blendColour
				if (colour.r == 0.0) {
					r = 0.0;
				} else {
					r = blendColour( r, colour.r, blending );
				}

				if (colour.g == 0.0) {
					g = 0.0;
				} else {
					g = blendColour( g, colour.g, blending );
				}

				if (colour.b == 0.0) {
					b = 0.0;
				} else {
					b = blendColour( b, colour.b, blending );
				}
				
				
				

				if ( greyscale ) {
					r = g = b = (r + b + g) / 3.0;
				}

				// add alpha channel to each r, g, b colors
				vec4 vR;
				vec4 vG;
				vec4 vB;
	
				// apply transparent to outside of mesh
				if (r == 0.0 && colour.r == 0.0) {
					vR = vec4( 0, 0, 0, 0 );
				} else {
					vR = vec4( r, 0, 0, 1 );
				}
	
				if (g == 0.0 && colour.g == 0.0) {
					vG = vec4( 0, 0, 0, 0 );
				} else {
					vG = vec4( 0, g, 0, 1 );
				}
	
				if (b == 0.0 && colour.b == 0.0) {
					vB = vec4( 0, 0, 0, 0 );
				} else {
					vB = vec4( 0, 0, b, 1 );
				}

				// gl_FragColor = vec4( r, g, b, 1.0 );
				gl_FragColor = vR + vG + vB;

			} else {

				gl_FragColor = texture2D( tDiffuse, vUV );

			}

		}`};import{BufferGeometry as fm,Float32BufferAttribute as dl,OrthographicCamera as um,Mesh as mm}from"three";var pn=class{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}},pm=new um(-1,1,1,-1,0,1),ci=new fm;ci.setAttribute("position",new dl([-1,3,0,-1,-1,0,3,-1,0],3));ci.setAttribute("uv",new dl([0,2,0,0,2,0],2));var hn=class{constructor(t){this._mesh=new mm(ci,t)}dispose(){this._mesh.geometry.dispose()}render(t){t.render(this._mesh,pm)}get material(){return this._mesh.material}set material(t){this._mesh.material=t}};var fl=!0,gn=class extends pn{constructor(t,r,n){super(),_t===void 0&&console.error("THREE.HalftonePass requires HalftoneShader"),this.uniforms=gm.clone(_t.uniforms),this.material=new hm({uniforms:this.uniforms,fragmentShader:_t.fragmentShader,vertexShader:_t.vertexShader}),fl&&(this.uniforms.width.value=t,this.uniforms.height.value=r),this.uniforms.disable.value=n.disable,this.fsQuad=new hn(this.material),this.blendMode=new br(J.SCREEN),this.extensions=null}render(t,r,n){this.material.uniforms.tDiffuse.value=n.texture,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(r),this.clear&&t.clear(),this.fsQuad.render(t))}setSize(t,r){fl&&(this.uniforms.width.value=t,this.uniforms.height.value=r)}initialize(t,r,n){}addEventListener(){}getAttributes(){return this.attributes}getFragmentShader(){return _t.fragmentShader}getVertexShader(){return _t.vertexShader}update(t,r,n){}};import{useThree as xm,useFrame as bm}from"@react-three/fiber";function di(e){let{gl:t,scene:r,camera:n,size:o}=xm(),i=vm(()=>{let a=new un(t);a.addPass(new mn(r,n));let s={shape:1,radius:2,rotateR:Math.PI/12,rotateB:Math.PI/12*2,rotateG:Math.PI/12*3,scatter:1,blending:1,blendingMode:1,greyscale:!1,disable:e},l=new gn(o.width,o.height,s);return a.addPass(l),a},[t,r,n,o,e]);ym(()=>i==null?void 0:i.setSize(o.width,o.height),[i,o]),bm((a,s)=>(t.autoClear=!0,void i.render(s)),1)}import*as oe from"react";import{createPortal as Im,useFrame as Nm,useThree as Ht}from"@react-three/fiber";import{Matrix4 as Lm,Object3D as Dm,Quaternion as vl,Scene as Om,Vector3 as yn}from"three";import*as Qe from"react";import{useThree as fi,useFrame as Sm}from"@react-three/fiber";function _m(e){return function(t){e.forEach(function(r){typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var ul=_m;import*as Ut from"react";import*as Tt from"three";import{useThree as Tm}from"@react-three/fiber";function ml(e,t,r){let{gl:n,size:o,viewport:i}=Tm(),a=typeof e=="number"?e:o.width*i.dpr,s=typeof t=="number"?t:o.height*i.dpr,m=(typeof e=="number"?r:e)||{},{samples:c}=m,f=D(m,["samples"]),d=Ut.useMemo(()=>{let u;return u=new Tt.WebGLRenderTarget(a,s,w({minFilter:Tt.LinearFilter,magFilter:Tt.LinearFilter,encoding:n.outputEncoding,type:Tt.HalfFloatType},f)),u.samples=c,u},[]);return Ut.useLayoutEffect(()=>{d.setSize(a,s),c&&(d.samples=c)},[c,d,a,s]),Ut.useEffect(()=>()=>d.dispose(),[]),d}import{Fragment as wm,jsx as pl,jsxs as Pm}from"react/jsx-runtime";var Em=e=>typeof e=="function",hl=Qe.forwardRef((s,a)=>{var l=s,{envMap:e,resolution:t=256,frames:r=1/0,children:n,makeDefault:o}=l,i=D(l,["envMap","resolution","frames","children","makeDefault"]);let c=fi(({set:g})=>g),f=fi(({camera:g})=>g),d=fi(({size:g})=>g),m=Qe.useRef(null),u=Qe.useRef(null),p=ml(t);Qe.useLayoutEffect(()=>{i.manual||m.current.updateProjectionMatrix()},[d,i]),Qe.useLayoutEffect(()=>{m.current.updateProjectionMatrix()}),Qe.useLayoutEffect(()=>{if(o){let g=f;return c(()=>({camera:m.current})),()=>c(()=>({camera:g}))}},[m,o,c]);let v=0,b=null,h=Em(n);return Sm(g=>{h&&(r===1/0||v<r)&&(u.current.visible=!1,g.gl.setRenderTarget(p),b=g.scene.background,e&&(g.scene.background=e),g.gl.render(g.scene,m.current),g.scene.background=b,g.gl.setRenderTarget(null),u.current.visible=!0,v++)}),Pm(wm,{children:[pl("orthographicCamera",I(w({left:d.width/-2,right:d.width/2,top:d.height/2,bottom:d.height/-2,ref:ul([m,a])},i),{children:!h&&n})),pl("group",{ref:u,children:h&&n(p.texture)})]})});import*as gl from"react";import{Raycaster as Cm,Camera as Rm}from"three";import{useThree as Am,applyProps as Mm}from"@react-three/fiber";function yl(e,t){let r=Am(o=>o.pointer),[n]=gl.useState(()=>{let o=new Cm;return t&&Mm(o,t,{}),function(i,a){o.setFromCamera(r,e instanceof Rm?e:e.current);let s=this.constructor.prototype.raycast.bind(this);s&&s(o,a)}});return n}import{jsx as Sl,jsxs as km}from"react/jsx-runtime";var El=oe.createContext({}),wl=()=>oe.useContext(El),zm=2*Math.PI,xl=new Dm,bl=new Lm,[Vt,ui]=[new vl,new vl],_l=new yn,Tl=new yn,Fm=e=>"minPolarAngle"in e,Pl=({alignment:e="bottom-right",margin:t=[80,80],renderPriority:r=0,autoClear:n=!0,onUpdate:o,onTarget:i,children:a})=>{let s=Ht(({size:L})=>L),l=Ht(({camera:L})=>L),c=Ht(({controls:L})=>L),f=Ht(({gl:L})=>L),d=Ht(({scene:L})=>L),m=Ht(({invalidate:L})=>L),u=oe.useRef(),p=oe.useRef(),v=oe.useRef(null),[b]=oe.useState(()=>new Om),h=oe.useRef(!1),g=oe.useRef(0),x=oe.useRef(new yn(0,0,0)),_=oe.useRef(new yn(0,0,0));oe.useEffect(()=>{_.current.copy(l.up)},[l]);let y=oe.useCallback(L=>{h.current=!0,(c||i)&&(x.current=(c==null?void 0:c.target)||(i==null?void 0:i())),g.current=l.position.distanceTo(_l),Vt.copy(l.quaternion),Tl.copy(L).multiplyScalar(g.current).add(_l),xl.lookAt(Tl),ui.copy(xl.quaternion),m()},[c,l,i,m]);oe.useEffect(()=>(d.background&&(u.current=d.background,d.background=null,b.background=u.current),()=>{u.current&&(d.background=u.current)}),[]),Nm((L,F)=>{var G;if(v.current&&p.current){if(h.current)if(Vt.angleTo(ui)<.01)h.current=!1,Fm(c)&&l.up.copy(_.current);else{let B=F*zm;Vt.rotateTowards(ui,B),l.position.set(0,0,1).applyQuaternion(Vt).multiplyScalar(g.current).add(x.current),l.up.set(0,1,0).applyQuaternion(Vt).normalize(),l.quaternion.copy(Vt),o?o():c&&c.update(),m()}bl.copy(l.matrix).invert(),(G=p.current)==null||G.quaternion.setFromRotationMatrix(bl),n&&(f.autoClear=!1),f.clearDepth(),f.render(b,v.current)}},r);let S=yl(v),E=oe.useMemo(()=>({tweenCamera:y,raycast:S}),[y]),[P,T]=t,R=e.endsWith("-center")?0:e.endsWith("-left")?-s.width/2+P:s.width/2-P,M=e.startsWith("center-")?0:e.startsWith("top-")?s.height/2-T:-s.height/2+T;return Im(km(El.Provider,{value:E,children:[Sl(hl,{ref:v,position:[0,0,200]}),Sl("group",{ref:p,position:[R,M,0],children:a})]}),b)};import*as xn from"react";import{useThree as Bm}from"@react-three/fiber";import{CanvasTexture as Um}from"three";import{Fragment as Cl,jsx as de,jsxs as vn}from"react/jsx-runtime";function mi({scale:e=[.8,.05,.05],color:t,rotation:r}){return de("group",{rotation:r,children:vn("mesh",{position:[.4,0,0],children:[de("boxGeometry",{args:e}),de("meshBasicMaterial",{color:t,toneMapped:!1})]})})}function Gt(l){var c=l,{onClick:e,font:t,disabled:r,arcStyle:n,label:o,labelColor:i,axisHeadScale:a=1}=c,s=D(c,["onClick","font","disabled","arcStyle","label","labelColor","axisHeadScale"]);let f=Bm(h=>h.gl),d=xn.useMemo(()=>{let h=document.createElement("canvas");h.width=64,h.height=64;let g=h.getContext("2d");return g.beginPath(),g.arc(32,32,16,0,2*Math.PI),g.closePath(),g.fillStyle=n,g.fill(),o&&(g.font=t,g.textAlign="center",g.fillStyle=i,g.fillText(o,32,41)),new Um(h)},[n,o,i,t]),[m,u]=xn.useState(!1),p=(o?1:.75)*(m?1.2:1)*a;return de("sprite",I(w({scale:p,onPointerOver:r?void 0:h=>{h.stopPropagation(),u(!0)},onPointerOut:r?void 0:e||(h=>{h.stopPropagation(),u(!1)})},s),{children:de("spriteMaterial",{map:d,"map-encoding":f.outputEncoding,"map-anisotropy":f.capabilities.getMaxAnisotropy()||1,alphaTest:.3,opacity:o?1:.75,toneMapped:!1})}))}var Rl=d=>{var m=d,{hideNegativeAxes:e,hideAxisHeads:t,disabled:r,font:n="18px Inter var, Arial, sans-serif",axisColors:o=["#ff2060","#20df80","#2080ff"],axisHeadScale:i=1,axisScale:a,labels:s=["X","Y","Z"],labelColor:l="#000",onClick:c}=m,f=D(m,["hideNegativeAxes","hideAxisHeads","disabled","font","axisColors","axisHeadScale","axisScale","labels","labelColor","onClick"]);let[u,p,v]=o,{tweenCamera:b,raycast:h}=wl(),g={font:n,disabled:r,labelColor:l,raycast:h,onClick:c,axisHeadScale:i,onPointerDown:r?void 0:x=>{b(x.object.position),x.stopPropagation()}};return vn("group",I(w({scale:40},f),{children:[de(mi,{color:u,rotation:[0,0,0],scale:a}),de(mi,{color:p,rotation:[0,0,Math.PI/2],scale:a}),de(mi,{color:v,rotation:[0,-Math.PI/2,0],scale:a}),!t&&vn(Cl,{children:[de(Gt,w({arcStyle:u,position:[1,0,0],label:s[0]},g)),de(Gt,w({arcStyle:p,position:[0,1,0],label:s[1]},g)),de(Gt,w({arcStyle:v,position:[0,0,1],label:s[2]},g)),!e&&vn(Cl,{children:[de(Gt,w({arcStyle:u,position:[-1,0,0]},g)),de(Gt,w({arcStyle:p,position:[0,-1,0]},g)),de(Gt,w({arcStyle:v,position:[0,0,-1]},g))]})]}),de("ambientLight",{intensity:.5}),de("pointLight",{position:[10,10,10],intensity:.5})]}))};import{Fragment as Hm,jsx as pi}from"react/jsx-runtime";function Al({isFigmaPlugin:e}){return pi(Hm,{children:pi(Pl,{alignment:"bottom-right",margin:e?[25,25]:[65,110],renderPriority:2,children:pi(Rl,{axisColors:["#FF430A","#FF430A","#FF430A"],labelColor:"white",hideNegativeAxes:!0,axisHeadScale:.8})})})}var se={LEFT:1,RIGHT:2,MIDDLE:4},A=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768});function St(e){return e.isPerspectiveCamera}function ft(e){return e.isOrthographicCamera}var qt=Math.PI*2,Ml=Math.PI/2,Bl=1e-5;function $(e,t=Bl){return Math.abs(e)<t}function K(e,t,r=Bl){return $(e-t,r)}function Il(e,t){return Math.round(e/t)*t}function _r(e){return isFinite(e)?e:e<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Tr(e){return Math.abs(e)<Number.MAX_VALUE?e:e*(1/0)}function hi(e,t){t.set(0,0),e.forEach(r=>{t.x+=r.clientX,t.y+=r.clientY}),t.x/=e.length,t.y/=e.length}function gi(e,t){return ft(e)?(console.warn(`${t} is not supported in OrthographicCamera`),!0):!1}function Nl(e){return e.invert?e.invert():e.inverse(),e}var _i=class{constructor(){this._listeners={}}addEventListener(t,r){let n=this._listeners;n[t]===void 0&&(n[t]=[]),n[t].indexOf(r)===-1&&n[t].push(r)}removeEventListener(t,r){let o=this._listeners[t];if(o!==void 0){let i=o.indexOf(r);i!==-1&&o.splice(i,1)}}removeAllEventListeners(t){if(!t){this._listeners={};return}Array.isArray(this._listeners[t])&&(this._listeners[t].length=0)}dispatchEvent(t){let n=this._listeners[t.type];if(n!==void 0){t.target=this;let o=n.slice(0);for(let i=0,a=o.length;i<a;i++)o[i].call(this,t)}}},Ul=typeof window<"u",Vm=Ul&&/Mac/.test(navigator.platform),Ll=!(Ul&&"PointerEvent"in window),bn=1/8,O,Dl,_n,yi,pe,H,W,Yt,Oe,ze,Et,Ol,zl,Ce,Sr,jt,Fl,vi,kl,xi,bi,Tn,Er=class extends _i{constructor(t,r){if(super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=0,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.dampingFactor=.05,this.draggingDampingFactor=.25,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=A.NONE,this._viewport=null,this._dollyControlAmount=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._activePointers=[],this._truckInternal=(n,o,i)=>{if(St(this._camera)){let a=H.copy(this._camera.position).sub(this._target),s=this._camera.getEffectiveFOV()*O.MathUtils.DEG2RAD,l=a.length()*Math.tan(s*.5),c=this.truckSpeed*n*l/this._elementRect.height,f=this.truckSpeed*o*l/this._elementRect.height;this.verticalDragToForward?(i?this.setFocalOffset(this._focalOffsetEnd.x+c,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(c,0,!0),this.forward(-f,!0)):i?this.setFocalOffset(this._focalOffsetEnd.x+c,this._focalOffsetEnd.y+f,this._focalOffsetEnd.z,!0):this.truck(c,f,!0)}else if(ft(this._camera)){let a=this._camera,s=n*(a.right-a.left)/a.zoom/this._elementRect.width,l=o*(a.top-a.bottom)/a.zoom/this._elementRect.height;i?this.setFocalOffset(this._focalOffsetEnd.x+s,this._focalOffsetEnd.y+l,this._focalOffsetEnd.z,!0):this.truck(s,l,!0)}},this._rotateInternal=(n,o)=>{let i=qt*this.azimuthRotateSpeed*n/this._elementRect.height,a=qt*this.polarRotateSpeed*o/this._elementRect.height;this.rotate(i,a,!0)},this._dollyInternal=(n,o,i)=>{let a=Math.pow(.95,-n*this.dollySpeed),s=this._sphericalEnd.radius*a,l=this._sphericalEnd.radius,c=l*(n>=0?-1:1);this.dollyTo(s),this.infinityDolly&&(s<this.minDistance||this.maxDistance===this.minDistance)&&(this._camera.getWorldDirection(H),this._targetEnd.add(H.normalize().multiplyScalar(c)),this._target.add(H.normalize().multiplyScalar(c))),this.dollyToCursor&&(this._dollyControlAmount+=this._sphericalEnd.radius-l,this.infinityDolly&&(s<this.minDistance||this.maxDistance===this.minDistance)&&(this._dollyControlAmount-=c),this._dollyControlCoord.set(o,i))},this._zoomInternal=(n,o,i)=>{let a=Math.pow(.95,n*this.dollySpeed),s=this._zoomEnd;this.zoomTo(this._zoom*a),this.dollyToCursor&&(this._dollyControlAmount+=this._zoomEnd-s,this._dollyControlCoord.set(o,i))},typeof O>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=t,this._yAxisUpSpace=new O.Quaternion().setFromUnitVectors(this._camera.up,_n),this._yAxisUpSpaceInverse=Nl(this._yAxisUpSpace.clone()),this._state=A.NONE,this._domElement=r,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._target=new O.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new O.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new O.Spherical().setFromVector3(H.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._nearPlaneCorners=[new O.Vector3,new O.Vector3,new O.Vector3,new O.Vector3],this._updateNearPlaneCorners(),this._boundary=new O.Box3(new O.Vector3(-1/0,-1/0,-1/0),new O.Vector3(1/0,1/0,1/0)),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlAmount=0,this._dollyControlCoord=new O.Vector2,this.mouseButtons={left:A.ROTATE,middle:A.DOLLY,right:A.TRUCK,wheel:St(this._camera)?A.DOLLY:ft(this._camera)?A.ZOOM:A.NONE},this.touches={one:A.TOUCH_ROTATE,two:St(this._camera)?A.TOUCH_DOLLY_TRUCK:ft(this._camera)?A.TOUCH_ZOOM_TRUCK:A.NONE,three:A.TOUCH_TRUCK},this._domElement){let n=new O.Vector2,o=new O.Vector2,i=new O.Vector2,a=y=>{if(!this._enabled)return;let S={pointerId:y.pointerId,clientX:y.clientX,clientY:y.clientY,deltaX:0,deltaY:0};this._activePointers.push(S),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",m),this._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",m),g(y)},s=y=>{if(!this._enabled)return;let S={pointerId:0,clientX:y.clientX,clientY:y.clientY,deltaX:0,deltaY:0};this._activePointers.push(S),this._domElement.ownerDocument.removeEventListener("mousemove",f),this._domElement.ownerDocument.removeEventListener("mouseup",u),this._domElement.ownerDocument.addEventListener("mousemove",f),this._domElement.ownerDocument.addEventListener("mouseup",u),g(y)},l=y=>{this._enabled&&(y.preventDefault(),Array.prototype.forEach.call(y.changedTouches,S=>{let E={pointerId:S.identifier,clientX:S.clientX,clientY:S.clientY,deltaX:0,deltaY:0};this._activePointers.push(E)}),this._domElement.ownerDocument.removeEventListener("touchmove",d,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",p),this._domElement.ownerDocument.addEventListener("touchmove",d,{passive:!1}),this._domElement.ownerDocument.addEventListener("touchend",p),g(y))},c=y=>{y.cancelable&&y.preventDefault();let S=y.pointerId,E=this._findPointerById(S);if(E){if(E.clientX=y.clientX,E.clientY=y.clientY,E.deltaX=y.movementX,E.deltaY=y.movementY,y.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=0,(y.buttons&se.LEFT)===se.LEFT&&(this._state=this._state|this.mouseButtons.left),(y.buttons&se.MIDDLE)===se.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(y.buttons&se.RIGHT)===se.RIGHT&&(this._state=this._state|this.mouseButtons.right);x()}},f=y=>{let S=this._findPointerById(0);S&&(S.clientX=y.clientX,S.clientY=y.clientY,S.deltaX=y.movementX,S.deltaY=y.movementY,this._state=0,(y.buttons&se.LEFT)===se.LEFT&&(this._state=this._state|this.mouseButtons.left),(y.buttons&se.MIDDLE)===se.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(y.buttons&se.RIGHT)===se.RIGHT&&(this._state=this._state|this.mouseButtons.right),x())},d=y=>{y.cancelable&&y.preventDefault(),Array.prototype.forEach.call(y.changedTouches,S=>{let E=S.identifier,P=this._findPointerById(E);P&&(P.clientX=S.clientX,P.clientY=S.clientY)}),x()},m=y=>{let S=y.pointerId,E=this._findPointerById(S);if(E&&this._activePointers.splice(this._activePointers.indexOf(E),1),y.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=A.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=A.NONE;_()},u=()=>{let y=this._findPointerById(0);y&&this._activePointers.splice(this._activePointers.indexOf(y),1),this._state=A.NONE,_()},p=y=>{switch(Array.prototype.forEach.call(y.changedTouches,S=>{let E=S.identifier,P=this._findPointerById(E);P&&this._activePointers.splice(this._activePointers.indexOf(P),1)}),this._activePointers.length){case 0:this._state=A.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}_()},v=-1,b=y=>{if(!this._enabled||this.mouseButtons.wheel===A.NONE)return;if(y.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===A.ROTATE||this.mouseButtons.wheel===A.TRUCK){let R=performance.now();v-R<1e3&&this._getClientRect(this._elementRect),v=R}let S=Vm?-1:-3,E=y.deltaMode===1?y.deltaY/S:y.deltaY/(S*10),P=this.dollyToCursor?(y.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,T=this.dollyToCursor?(y.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case A.ROTATE:{this._rotateInternal(y.deltaX,y.deltaY);break}case A.TRUCK:{this._truckInternal(y.deltaX,y.deltaY,!1);break}case A.OFFSET:{this._truckInternal(y.deltaX,y.deltaY,!0);break}case A.DOLLY:{this._dollyInternal(-E,P,T);break}case A.ZOOM:{this._zoomInternal(-E,P,T);break}}this.dispatchEvent({type:"control"})},h=y=>{this._enabled&&y.preventDefault()},g=y=>{if(!this._enabled)return;if(hi(this._activePointers,pe),this._getClientRect(this._elementRect),n.copy(pe),o.copy(pe),this._activePointers.length>=2){let E=pe.x-this._activePointers[1].clientX,P=pe.y-this._activePointers[1].clientY,T=Math.sqrt(E*E+P*P);i.set(0,T);let R=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,M=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;o.set(R,M)}if("touches"in y||"pointerType"in y&&y.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=0,(y.buttons&se.LEFT)===se.LEFT&&(this._state=this._state|this.mouseButtons.left),(y.buttons&se.MIDDLE)===se.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(y.buttons&se.RIGHT)===se.RIGHT&&(this._state=this._state|this.mouseButtons.right);this.dispatchEvent({type:"controlstart"})},x=()=>{if(!this._enabled)return;hi(this._activePointers,pe);let y=this._domElement&&document.pointerLockElement===this._domElement,S=y?-this._activePointers[0].deltaX:o.x-pe.x,E=y?-this._activePointers[0].deltaY:o.y-pe.y;if(o.copy(pe),((this._state&A.ROTATE)===A.ROTATE||(this._state&A.TOUCH_ROTATE)===A.TOUCH_ROTATE||(this._state&A.TOUCH_DOLLY_ROTATE)===A.TOUCH_DOLLY_ROTATE||(this._state&A.TOUCH_ZOOM_ROTATE)===A.TOUCH_ZOOM_ROTATE)&&this._rotateInternal(S,E),(this._state&A.DOLLY)===A.DOLLY||(this._state&A.ZOOM)===A.ZOOM){let P=this.dollyToCursor?(n.x-this._elementRect.x)/this._elementRect.width*2-1:0,T=this.dollyToCursor?(n.y-this._elementRect.y)/this._elementRect.height*-2+1:0;this._state===A.DOLLY?this._dollyInternal(E*bn,P,T):this._zoomInternal(E*bn,P,T)}if((this._state&A.TOUCH_DOLLY)===A.TOUCH_DOLLY||(this._state&A.TOUCH_ZOOM)===A.TOUCH_ZOOM||(this._state&A.TOUCH_DOLLY_TRUCK)===A.TOUCH_DOLLY_TRUCK||(this._state&A.TOUCH_ZOOM_TRUCK)===A.TOUCH_ZOOM_TRUCK||(this._state&A.TOUCH_DOLLY_OFFSET)===A.TOUCH_DOLLY_OFFSET||(this._state&A.TOUCH_ZOOM_OFFSET)===A.TOUCH_ZOOM_OFFSET||(this._state&A.TOUCH_DOLLY_ROTATE)===A.TOUCH_DOLLY_ROTATE||(this._state&A.TOUCH_ZOOM_ROTATE)===A.TOUCH_ZOOM_ROTATE){let P=pe.x-this._activePointers[1].clientX,T=pe.y-this._activePointers[1].clientY,R=Math.sqrt(P*P+T*T),M=i.y-R;i.set(0,R);let L=this.dollyToCursor?(o.x-this._elementRect.x)/this._elementRect.width*2-1:0,F=this.dollyToCursor?(o.y-this._elementRect.y)/this._elementRect.height*-2+1:0;this._state===A.TOUCH_DOLLY||this._state===A.TOUCH_DOLLY_ROTATE||this._state===A.TOUCH_DOLLY_TRUCK||this._state===A.TOUCH_DOLLY_OFFSET?this._dollyInternal(M*bn,L,F):this._zoomInternal(M*bn,L,F)}((this._state&A.TRUCK)===A.TRUCK||(this._state&A.TOUCH_TRUCK)===A.TOUCH_TRUCK||(this._state&A.TOUCH_DOLLY_TRUCK)===A.TOUCH_DOLLY_TRUCK||(this._state&A.TOUCH_ZOOM_TRUCK)===A.TOUCH_ZOOM_TRUCK)&&this._truckInternal(S,E,!1),((this._state&A.OFFSET)===A.OFFSET||(this._state&A.TOUCH_OFFSET)===A.TOUCH_OFFSET||(this._state&A.TOUCH_DOLLY_OFFSET)===A.TOUCH_DOLLY_OFFSET||(this._state&A.TOUCH_ZOOM_OFFSET)===A.TOUCH_ZOOM_OFFSET)&&this._truckInternal(S,E,!0),this.dispatchEvent({type:"control"})},_=()=>{hi(this._activePointers,pe),o.copy(pe),this._activePointers.length===0&&(this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",m),this._domElement.ownerDocument.removeEventListener("touchmove",d,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",p),this.dispatchEvent({type:"controlend"}))};this._domElement.addEventListener("pointerdown",a),Ll&&this._domElement.addEventListener("mousedown",s),Ll&&this._domElement.addEventListener("touchstart",l),this._domElement.addEventListener("pointercancel",m),this._domElement.addEventListener("wheel",b,{passive:!1}),this._domElement.addEventListener("contextmenu",h),this._removeAllEventListeners=()=>{this._domElement.removeEventListener("pointerdown",a),this._domElement.removeEventListener("mousedown",s),this._domElement.removeEventListener("touchstart",l),this._domElement.removeEventListener("pointercancel",m),this._domElement.removeEventListener("wheel",b,{passive:!1}),this._domElement.removeEventListener("contextmenu",h),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",f),this._domElement.ownerDocument.removeEventListener("touchmove",d,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",m),this._domElement.ownerDocument.removeEventListener("mouseup",u),this._domElement.ownerDocument.removeEventListener("touchend",p)},this.cancel=()=>{this._state!==A.NONE&&(this._state=A.NONE,this._activePointers.length=0,_())}}this.update(0)}static install(t){O=t.THREE,Dl=Object.freeze(new O.Vector3(0,0,0)),_n=Object.freeze(new O.Vector3(0,1,0)),yi=Object.freeze(new O.Vector3(0,0,1)),pe=new O.Vector2,H=new O.Vector3,W=new O.Vector3,Yt=new O.Vector3,Oe=new O.Vector3,ze=new O.Vector3,Et=new O.Vector3,Ol=new O.Vector3,zl=new O.Vector3,Ce=new O.Spherical,Sr=new O.Spherical,jt=new O.Box3,Fl=new O.Box3,vi=new O.Sphere,kl=new O.Quaternion,xi=new O.Quaternion,bi=new O.Matrix4,Tn=new O.Raycaster}static get ACTION(){return A}get camera(){return this._camera}set camera(t){this._camera=t,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(t){this._enabled=t,t?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="")}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(t){this._spherical.radius===t&&this._sphericalEnd.radius===t||(this._spherical.radius=t,this._sphericalEnd.radius=t,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(t){this._spherical.theta===t&&this._sphericalEnd.theta===t||(this._spherical.theta=t,this._sphericalEnd.theta=t,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(t){this._spherical.phi===t&&this._sphericalEnd.phi===t||(this._spherical.phi=t,this._sphericalEnd.phi=t,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(t){this._boundaryEnclosesCamera=t,this._needsUpdate=!0}addEventListener(t,r){super.addEventListener(t,r)}removeEventListener(t,r){super.removeEventListener(t,r)}rotate(t,r,n=!1){return this.rotateTo(this._sphericalEnd.theta+t,this._sphericalEnd.phi+r,n)}rotateAzimuthTo(t,r=!1){return this.rotateTo(t,this._sphericalEnd.phi,r)}rotatePolarTo(t,r=!1){return this.rotateTo(this._sphericalEnd.theta,t,r)}rotateTo(t,r,n=!1){let o=O.MathUtils.clamp(t,this.minAzimuthAngle,this.maxAzimuthAngle),i=O.MathUtils.clamp(r,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=o,this._sphericalEnd.phi=i,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,n||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);let a=!n||K(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&K(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(a)}dolly(t,r=!1){return this.dollyTo(this._sphericalEnd.radius-t,r)}dollyTo(t,r=!1){let n=this._sphericalEnd.radius,o=O.MathUtils.clamp(t,this.minDistance,this.maxDistance);if(this.colliderMeshes.length>=1){let s=this._collisionTest(),l=K(s,this._spherical.radius);if(!(n>o)&&l)return Promise.resolve();this._sphericalEnd.radius=Math.min(o,s)}else this._sphericalEnd.radius=o;this._needsUpdate=!0,r||(this._spherical.radius=this._sphericalEnd.radius);let a=!r||K(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(a)}zoom(t,r=!1){return this.zoomTo(this._zoomEnd+t,r)}zoomTo(t,r=!1){this._zoomEnd=O.MathUtils.clamp(t,this.minZoom,this.maxZoom),this._needsUpdate=!0,r||(this._zoom=this._zoomEnd);let n=!r||K(this._zoom,this._zoomEnd,this.restThreshold);return this._createOnRestPromise(n)}pan(t,r,n=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(t,r,n)}truck(t,r,n=!1){this._camera.updateMatrix(),Oe.setFromMatrixColumn(this._camera.matrix,0),ze.setFromMatrixColumn(this._camera.matrix,1),Oe.multiplyScalar(t),ze.multiplyScalar(-r);let o=H.copy(Oe).add(ze),i=W.copy(this._targetEnd).add(o);return this.moveTo(i.x,i.y,i.z,n)}forward(t,r=!1){H.setFromMatrixColumn(this._camera.matrix,0),H.crossVectors(this._camera.up,H),H.multiplyScalar(t);let n=W.copy(this._targetEnd).add(H);return this.moveTo(n.x,n.y,n.z,r)}moveTo(t,r,n,o=!1){let i=H.set(t,r,n).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,i,this.boundaryFriction),this._needsUpdate=!0,o||this._target.copy(this._targetEnd);let a=!o||K(this._target.x,this._targetEnd.x,this.restThreshold)&&K(this._target.y,this._targetEnd.y,this.restThreshold)&&K(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}fitToBox(t,r,{cover:n=!1,paddingLeft:o=0,paddingRight:i=0,paddingBottom:a=0,paddingTop:s=0}={}){let l=[],c=t.isBox3?jt.copy(t):jt.setFromObject(t);c.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());let f=Il(this._sphericalEnd.theta,Ml),d=Il(this._sphericalEnd.phi,Ml);l.push(this.rotateTo(f,d,r));let m=H.setFromSpherical(this._sphericalEnd).normalize(),u=kl.setFromUnitVectors(m,yi),p=K(Math.abs(m.y),1);p&&u.multiply(xi.setFromAxisAngle(_n,f)),u.multiply(this._yAxisUpSpaceInverse);let v=Fl.makeEmpty();W.copy(c.min).applyQuaternion(u),v.expandByPoint(W),W.copy(c.min).setX(c.max.x).applyQuaternion(u),v.expandByPoint(W),W.copy(c.min).setY(c.max.y).applyQuaternion(u),v.expandByPoint(W),W.copy(c.max).setZ(c.min.z).applyQuaternion(u),v.expandByPoint(W),W.copy(c.min).setZ(c.max.z).applyQuaternion(u),v.expandByPoint(W),W.copy(c.max).setY(c.min.y).applyQuaternion(u),v.expandByPoint(W),W.copy(c.max).setX(c.min.x).applyQuaternion(u),v.expandByPoint(W),W.copy(c.max).applyQuaternion(u),v.expandByPoint(W),v.min.x-=o,v.min.y-=a,v.max.x+=i,v.max.y+=s,u.setFromUnitVectors(yi,m),p&&u.premultiply(xi.invert()),u.premultiply(this._yAxisUpSpace);let b=v.getSize(H),h=v.getCenter(W).applyQuaternion(u);if(St(this._camera)){let g=this.getDistanceToFitBox(b.x,b.y,b.z,n);l.push(this.moveTo(h.x,h.y,h.z,r)),l.push(this.dollyTo(g,r)),l.push(this.setFocalOffset(0,0,0,r))}else if(ft(this._camera)){let g=this._camera,x=g.right-g.left,_=g.top-g.bottom,y=n?Math.max(x/b.x,_/b.y):Math.min(x/b.x,_/b.y);l.push(this.moveTo(h.x,h.y,h.z,r)),l.push(this.zoomTo(y,r)),l.push(this.setFocalOffset(0,0,0,r))}return Promise.all(l)}fitToSphere(t,r){let n=[],i=t instanceof O.Sphere?vi.copy(t):Gm(t,vi);if(n.push(this.moveTo(i.center.x,i.center.y,i.center.z,r)),St(this._camera)){let a=this.getDistanceToFitSphere(i.radius);n.push(this.dollyTo(a,r))}else if(ft(this._camera)){let a=this._camera.right-this._camera.left,s=this._camera.top-this._camera.bottom,l=2*i.radius,c=Math.min(a/l,s/l);n.push(this.zoomTo(c,r))}return n.push(this.setFocalOffset(0,0,0,r)),Promise.all(n)}setLookAt(t,r,n,o,i,a,s=!1){let l=W.set(o,i,a),c=H.set(t,r,n);this._targetEnd.copy(l),this._sphericalEnd.setFromVector3(c.sub(l).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,s||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let f=!s||K(this._target.x,this._targetEnd.x,this.restThreshold)&&K(this._target.y,this._targetEnd.y,this.restThreshold)&&K(this._target.z,this._targetEnd.z,this.restThreshold)&&K(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&K(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&K(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(f)}lerpLookAt(t,r,n,o,i,a,s,l,c,f,d,m,u,p=!1){let v=H.set(o,i,a),b=W.set(t,r,n);Ce.setFromVector3(b.sub(v).applyQuaternion(this._yAxisUpSpace));let h=Yt.set(f,d,m),g=W.set(s,l,c);Sr.setFromVector3(g.sub(h).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(v.lerp(h,u));let x=Sr.theta-Ce.theta,_=Sr.phi-Ce.phi,y=Sr.radius-Ce.radius;this._sphericalEnd.set(Ce.radius+y*u,Ce.phi+_*u,Ce.theta+x*u),this.normalizeRotations(),this._needsUpdate=!0,p||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let S=!p||K(this._target.x,this._targetEnd.x,this.restThreshold)&&K(this._target.y,this._targetEnd.y,this.restThreshold)&&K(this._target.z,this._targetEnd.z,this.restThreshold)&&K(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&K(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&K(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(S)}setPosition(t,r,n,o=!1){return this.setLookAt(t,r,n,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,o)}setTarget(t,r,n,o=!1){let i=this.getPosition(H);return this.setLookAt(i.x,i.y,i.z,t,r,n,o)}setFocalOffset(t,r,n,o=!1){this._focalOffsetEnd.set(t,r,n),this._needsUpdate=!0,o||this._focalOffset.copy(this._focalOffsetEnd);let i=!o||K(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&K(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&K(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}setOrbitPoint(t,r,n){this._camera.updateMatrixWorld(),Oe.setFromMatrixColumn(this._camera.matrixWorldInverse,0),ze.setFromMatrixColumn(this._camera.matrixWorldInverse,1),Et.setFromMatrixColumn(this._camera.matrixWorldInverse,2);let o=H.set(t,r,n),i=o.distanceTo(this._camera.position),a=o.sub(this._camera.position);Oe.multiplyScalar(a.x),ze.multiplyScalar(a.y),Et.multiplyScalar(a.z),H.copy(Oe).add(ze).add(Et),H.z=H.z+i,this.dollyTo(i,!1),this.setFocalOffset(-H.x,H.y,-H.z,!1),this.moveTo(t,r,n,!1)}setBoundary(t){if(!t){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(t),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(t,r,n,o){if(t===null){this._viewport=null;return}this._viewport=this._viewport||new O.Vector4,typeof t=="number"?this._viewport.set(t,r,n,o):this._viewport.copy(t)}getDistanceToFitBox(t,r,n,o=!1){if(gi(this._camera,"getDistanceToFitBox"))return this._spherical.radius;let i=t/r,a=this._camera.getEffectiveFOV()*O.MathUtils.DEG2RAD,s=this._camera.aspect;return((o?i>s:i<s)?r:t/s)*.5/Math.tan(a*.5)+n*.5}getDistanceToFitSphere(t){if(gi(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;let r=this._camera.getEffectiveFOV()*O.MathUtils.DEG2RAD,n=Math.atan(Math.tan(r*.5)*this._camera.aspect)*2,o=1<this._camera.aspect?r:n;return t/Math.sin(o*.5)}getTarget(t){return(t&&t.isVector3?t:new O.Vector3).copy(this._targetEnd)}getPosition(t){return(t&&t.isVector3?t:new O.Vector3).setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd)}getFocalOffset(t){return(t&&t.isVector3?t:new O.Vector3).copy(this._focalOffsetEnd)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%qt,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=qt),this._spherical.theta+=qt*Math.round((this._sphericalEnd.theta-this._spherical.theta)/qt)}reset(t=!1){let r=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,t),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,t),this.zoomTo(this._zoom0,t)];return Promise.all(r)}saveState(){this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,_n),Nl(this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace))}update(t){let r=this._state===A.NONE?this.dampingFactor:this.draggingDampingFactor,n=Math.min(r*t*60,1),o=this._sphericalEnd.theta-this._spherical.theta,i=this._sphericalEnd.phi-this._spherical.phi,a=this._sphericalEnd.radius-this._spherical.radius,s=Ol.subVectors(this._targetEnd,this._target),l=zl.subVectors(this._focalOffsetEnd,this._focalOffset);if(!$(o)||!$(i)||!$(a)||!$(s.x)||!$(s.y)||!$(s.z)||!$(l.x)||!$(l.y)||!$(l.z)?(this._spherical.set(this._spherical.radius+a*n,this._spherical.phi+i*n,this._spherical.theta+o*n),this._target.add(s.multiplyScalar(n)),this._focalOffset.add(l.multiplyScalar(n)),this._needsUpdate=!0):(this._spherical.copy(this._sphericalEnd),this._target.copy(this._targetEnd),this._focalOffset.copy(this._focalOffsetEnd)),this._dollyControlAmount!==0){if(St(this._camera)){let u=this._camera,p=H.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),v=W.copy(p).cross(u.up).normalize();v.lengthSq()===0&&(v.x=1);let b=Yt.crossVectors(v,p),h=this._sphericalEnd.radius*Math.tan(u.getEffectiveFOV()*O.MathUtils.DEG2RAD*.5),x=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,_=H.copy(this._targetEnd).add(v.multiplyScalar(this._dollyControlCoord.x*h*u.aspect)).add(b.multiplyScalar(this._dollyControlCoord.y*h));this._targetEnd.lerp(_,x)}else if(ft(this._camera)){let u=this._camera,p=u.getWorldDirection(H.clone()),v=this._targetEnd.x*p.x+this._targetEnd.y*p.y+this._targetEnd.z*p.z,b=H.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(u.near+u.far)/(u.near-u.far)).unproject(u),h=W.set(0,0,-1).applyQuaternion(u.quaternion),g=Yt.copy(b).add(h.multiplyScalar(-b.dot(u.up))),_=-(this._zoom-this._dollyControlAmount-this._zoomEnd)/this._zoom;this._targetEnd.lerp(g,_);let y=this._targetEnd.x*p.x+this._targetEnd.y*p.y+this._targetEnd.z*p.z,S=p.multiplyScalar(y-v);this._targetEnd.sub(S)}this._target.copy(this._targetEnd),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._dollyControlAmount=0}let c=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,c),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!$(this._focalOffset.x)||!$(this._focalOffset.y)||!$(this._focalOffset.z))&&(this._camera.updateMatrix(),Oe.setFromMatrixColumn(this._camera.matrix,0),ze.setFromMatrixColumn(this._camera.matrix,1),Et.setFromMatrixColumn(this._camera.matrix,2),Oe.multiplyScalar(this._focalOffset.x),ze.multiplyScalar(-this._focalOffset.y),Et.multiplyScalar(this._focalOffset.z),H.copy(Oe).add(ze).add(Et),this._camera.position.add(H)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),H.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);let d=this._zoomEnd-this._zoom;this._zoom+=d*n,this._camera.zoom!==this._zoom&&($(d)&&(this._zoom=this._zoomEnd),this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);let m=this._needsUpdate;return m&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):m?(this.dispatchEvent({type:"update"}),$(o,this.restThreshold)&&$(i,this.restThreshold)&&$(a,this.restThreshold)&&$(s.x,this.restThreshold)&&$(s.y,this.restThreshold)&&$(s.z,this.restThreshold)&&$(l.x,this.restThreshold)&&$(l.y,this.restThreshold)&&$(l.z,this.restThreshold)&&$(d,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!m&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._updatedLastTime=m,this._needsUpdate=!1,m}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:_r(this.maxDistance),minZoom:this.minZoom,maxZoom:_r(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:_r(this.maxPolarAngle),minAzimuthAngle:_r(this.minAzimuthAngle),maxAzimuthAngle:_r(this.maxAzimuthAngle),dampingFactor:this.dampingFactor,draggingDampingFactor:this.draggingDampingFactor,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:H.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(t,r=!1){let n=JSON.parse(t),o=H.fromArray(n.position);this.enabled=n.enabled,this.minDistance=n.minDistance,this.maxDistance=Tr(n.maxDistance),this.minZoom=n.minZoom,this.maxZoom=Tr(n.maxZoom),this.minPolarAngle=n.minPolarAngle,this.maxPolarAngle=Tr(n.maxPolarAngle),this.minAzimuthAngle=Tr(n.minAzimuthAngle),this.maxAzimuthAngle=Tr(n.maxAzimuthAngle),this.dampingFactor=n.dampingFactor,this.draggingDampingFactor=n.draggingDampingFactor,this.dollySpeed=n.dollySpeed,this.truckSpeed=n.truckSpeed,this.dollyToCursor=n.dollyToCursor,this.verticalDragToForward=n.verticalDragToForward,this._target0.fromArray(n.target0),this._position0.fromArray(n.position0),this._zoom0=n.zoom0,this._focalOffset0.fromArray(n.focalOffset0),this.moveTo(n.target[0],n.target[1],n.target[2],r),Ce.setFromVector3(o.sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Ce.theta,Ce.phi,r),this.zoomTo(n.zoom,r),this.setFocalOffset(n.focalOffset[0],n.focalOffset[1],n.focalOffset[2],r),this._needsUpdate=!0}dispose(){this._removeAllEventListeners()}_findPointerById(t){let r=null;return this._activePointers.some(n=>n.pointerId===t?(r=n,!0):!1),r}_encloseToBoundary(t,r,n){let o=r.lengthSq();if(o===0)return t;let i=W.copy(r).add(t),s=this._boundary.clampPoint(i,Yt).sub(i),l=s.lengthSq();if(l===0)return t.add(r);if(l===o)return t;if(n===0)return t.add(r).add(s);{let c=1+n*l/r.dot(s);return t.add(W.copy(r).multiplyScalar(c)).add(s.multiplyScalar(1-n))}}_updateNearPlaneCorners(){if(St(this._camera)){let t=this._camera,r=t.near,n=t.getEffectiveFOV()*O.MathUtils.DEG2RAD,o=Math.tan(n*.5)*r,i=o*t.aspect;this._nearPlaneCorners[0].set(-i,-o,0),this._nearPlaneCorners[1].set(i,-o,0),this._nearPlaneCorners[2].set(i,o,0),this._nearPlaneCorners[3].set(-i,o,0)}else if(ft(this._camera)){let t=this._camera,r=1/t.zoom,n=t.left*r,o=t.right*r,i=t.top*r,a=t.bottom*r;this._nearPlaneCorners[0].set(n,i,0),this._nearPlaneCorners[1].set(o,i,0),this._nearPlaneCorners[2].set(o,a,0),this._nearPlaneCorners[3].set(n,a,0)}}_collisionTest(){let t=1/0;if(!(this.colliderMeshes.length>=1)||gi(this._camera,"_collisionTest"))return t;let n=H.setFromSpherical(this._spherical).divideScalar(this._spherical.radius);bi.lookAt(Dl,n,this._camera.up);for(let o=0;o<4;o++){let i=W.copy(this._nearPlaneCorners[o]);i.applyMatrix4(bi);let a=Yt.addVectors(this._target,i);Tn.set(a,n),Tn.far=this._spherical.radius+1;let s=Tn.intersectObjects(this.colliderMeshes);s.length!==0&&s[0].distance<t&&(t=s[0].distance)}return t}_getClientRect(t){let r=this._domElement.getBoundingClientRect();return t.x=r.left,t.y=r.top,this._viewport?(t.x+=this._viewport.x,t.y+=r.height-this._viewport.w-this._viewport.y,t.width=this._viewport.z,t.height=this._viewport.w):(t.width=r.width,t.height=r.height),t}_createOnRestPromise(t){return t?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(r=>{let n=()=>{this.removeEventListener("rest",n),r()};this.addEventListener("rest",n)}))}_removeAllEventListeners(){}};function Gm(e,t){let r=t,n=r.center;jt.makeEmpty(),e.traverseVisible(i=>{i.isMesh&&jt.expandByObject(i)}),jt.getCenter(n);let o=0;return e.traverseVisible(i=>{if(!i.isMesh)return;let a=i,s=a.geometry.clone();if(s.applyMatrix4(a.matrixWorld),s.isBufferGeometry){let c=s.attributes.position;for(let f=0,d=c.count;f<d;f++)H.fromBufferAttribute(c,f),o=Math.max(o,n.distanceToSquared(H))}else{let l=s.attributes.position,c=new O.Vector3;for(let f=0,d=l.count;f<d;f++)c.fromBufferAttribute(l,f),o=Math.max(o,n.distanceToSquared(c))}}),r.radius=Math.sqrt(o),r}import*as jm from"three";import{useEffect as jl,useRef as qm}from"react";var Hl=1,Vl=14,Ti={zoom:1,distance:14},Si={zoom:5,distance:14};var Sn={meshDelay:0,meshDur:0,rotDelay:1.7,rotDur:1,posDelay:1.3,posDur:2.2,logoTransition:3.1,text:2.5,to:1},En="https://ruucm.github.io/shadergradient/shadergradient@1.0.0/hdr/",Gl="https://buy.stripe.com/00g5kV0g553QcjC9AB",ql="https://buy.stripe.com/fZe5kVd2R53QcjC7su",Yl="https://billing.stripe.com/p/login/aEU8Audql6LagDe9AA";import{useFrame as Ym}from"@react-three/fiber";function Wl({type:e,cAzimuthAngle:t,cPolarAngle:r,cDistance:n,cameraZoom:o,zoomOut:i}){let a=qm(),s=a.current;Ym((c,f)=>a.current.update(f)),jl(()=>{s==null||s.rotateTo(cn(t),cn(r),!0)},[s,t,r]);let l=ie(c=>c.hoverState);return jl(()=>{i||l!==0?e==="sphere"?(s==null||s.dollyTo(Si.distance,!0),s==null||s.zoomTo(Si.zoom,!0)):(s==null||s.dollyTo(Ti.distance,!0),s==null||s.zoomTo(Ti.zoom,!0)):e==="sphere"?(s==null||s.zoomTo(o,!0),s==null||s.dollyTo(Vl,!0)):(s==null||s.dollyTo(n,!0),s==null||s.zoomTo(Hl,!0))},[s,i,l,e,o,n]),a}import{extend as Wm,useThree as Xl}from"@react-three/fiber";import{jsx as Xm}from"react/jsx-runtime";function Zl(r){var n=r,{dampingFactor:e=.05}=n,t=D(n,["dampingFactor"]);Er.install({THREE:jm}),Wm({CameraControls:Er});let o=Xl(s=>s.camera),i=Xl(s=>s.gl),a=Wl(t);return Xm("cameraControls",{ref:a,args:[o,i.domElement],enableDamping:!0,dampingFactor:e,zoomSpeed:10,dollySpeed:10,restThreshold:0})}import $m from"react";import{EquirectangularReflectionMapping as Jm}from"three";import{useThree as ep}from"@react-three/fiber";import{DataTextureLoader as Zm,HalfFloatType as wn,FloatType as Ei,DataUtils as Pn,LinearEncoding as Qm,LinearFilter as Ql}from"three";var wr=class extends Zm{constructor(t){super(t),this.type=wn}parse(t){let s=function(x,_){switch(x){case 1:console.error("THREE.RGBELoader Read Error: "+(_||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(_||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(_||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(_||""))}return-1},d=`
`,m=function(x,_,y){_=_||1024;let E=x.pos,P=-1,T=0,R="",M=String.fromCharCode.apply(null,new Uint16Array(x.subarray(E,E+128)));for(;0>(P=M.indexOf(d))&&T<_&&E<x.byteLength;)R+=M,T+=M.length,E+=128,M+=String.fromCharCode.apply(null,new Uint16Array(x.subarray(E,E+128)));return-1<P?(y!==!1&&(x.pos+=T+P+1),R+M.slice(0,P)):!1},u=function(x){let _=/^#\?(\S+)/,y=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,S=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,E=/^\s*FORMAT=(\S+)\s*$/,P=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,T={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0},R,M;if(x.pos>=x.byteLength||!(R=m(x)))return s(1,"no header found");if(!(M=R.match(_)))return s(3,"bad initial token");for(T.valid|=1,T.programtype=M[1],T.string+=R+`
`;R=m(x),R!==!1;){if(T.string+=R+`
`,R.charAt(0)==="#"){T.comments+=R+`
`;continue}if((M=R.match(y))&&(T.gamma=parseFloat(M[1])),(M=R.match(S))&&(T.exposure=parseFloat(M[1])),(M=R.match(E))&&(T.valid|=2,T.format=M[1]),(M=R.match(P))&&(T.valid|=4,T.height=parseInt(M[1],10),T.width=parseInt(M[2],10)),T.valid&2&&T.valid&4)break}return T.valid&2?T.valid&4?T:s(3,"missing image size specifier"):s(3,"missing format specifier")},p=function(x,_,y){let S=_;if(S<8||S>32767||x[0]!==2||x[1]!==2||x[2]&128)return new Uint8Array(x);if(S!==(x[2]<<8|x[3]))return s(3,"wrong scanline width");let E=new Uint8Array(4*_*y);if(!E.length)return s(4,"unable to allocate buffer space");let P=0,T=0,R=4*S,M=new Uint8Array(4),L=new Uint8Array(R),F=y;for(;F>0&&T<x.byteLength;){if(T+4>x.byteLength)return s(1);if(M[0]=x[T++],M[1]=x[T++],M[2]=x[T++],M[3]=x[T++],M[0]!=2||M[1]!=2||(M[2]<<8|M[3])!=S)return s(3,"bad rgbe scanline format");let G=0,B;for(;G<R&&T<x.byteLength;){B=x[T++];let Z=B>128;if(Z&&(B-=128),B===0||G+B>R)return s(3,"bad scanline data");if(Z){let re=x[T++];for(let _e=0;_e<B;_e++)L[G++]=re}else L.set(x.subarray(T,T+B),G),G+=B,T+=B}let ce=S;for(let Z=0;Z<ce;Z++){let re=0;E[P]=L[Z+re],re+=S,E[P+1]=L[Z+re],re+=S,E[P+2]=L[Z+re],re+=S,E[P+3]=L[Z+re],P+=4}F--}return E},v=function(x,_,y,S){let E=x[_+3],P=Math.pow(2,E-128)/255;y[S+0]=x[_+0]*P,y[S+1]=x[_+1]*P,y[S+2]=x[_+2]*P,y[S+3]=1},b=function(x,_,y,S){let E=x[_+3],P=Math.pow(2,E-128)/255;y[S+0]=Pn.toHalfFloat(Math.min(x[_+0]*P,65504)),y[S+1]=Pn.toHalfFloat(Math.min(x[_+1]*P,65504)),y[S+2]=Pn.toHalfFloat(Math.min(x[_+2]*P,65504)),y[S+3]=Pn.toHalfFloat(1)},h=new Uint8Array(t);h.pos=0;let g=u(h);if(g!==-1){let x=g.width,_=g.height,y=p(h.subarray(h.pos),x,_);if(y!==-1){let S,E,P;switch(this.type){case Ei:P=y.length/4;let T=new Float32Array(P*4);for(let M=0;M<P;M++)v(y,M*4,T,M*4);S=T,E=Ei;break;case wn:P=y.length/4;let R=new Uint16Array(P*4);for(let M=0;M<P;M++)b(y,M*4,R,M*4);S=R,E=wn;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:x,height:_,data:S,header:g.string,gamma:g.gamma,exposure:g.exposure,type:E}}}return null}setDataType(t){return this.type=t,this}load(t,r,n,o){function i(a,s){switch(a.type){case Ei:case wn:a.encoding=Qm,a.minFilter=Ql,a.magFilter=Ql,a.generateMipmaps=!1,a.flipY=!0;break}r&&r(a,s)}return super.load(t,i,n,o)}};import{useLoader as Km}from"@react-three/fiber";function Cn(e,{path:t}){return Km(wr,e,n=>n.setPath(t))}var tp=e=>e.current&&e.current.isScene,rp=e=>tp(e)?e.current:e;function Kl({background:e=!1,envPreset:t}){let r=Cn("city.hdr",{path:En}),n=Cn("dawn.hdr",{path:En}),o=Cn("lobby.hdr",{path:En}),a={city:r,dawn:n,lobby:o}[t],s=ep(c=>c.scene);$m.useLayoutEffect(()=>{if(a){let c=rp(s),f=c.background,d=c.environment;return e!=="only"&&(c.environment=a),e&&(c.background=a),()=>{e!=="only"&&(c.environment=d),e&&(c.background="black")}}},[s,a,e]);let l=a;return l.mapping=Jm,null}import{Suspense as op,useEffect as ip}from"react";import{useState as np}from"react";import{DefaultLoadingManager as $l}from"three";var wi=0;function Jl(){let[e,t]=np({});return $l.onLoad=()=>{t(r=>I(w({},r),{active:!1}))},$l.onProgress=(r,n,o)=>{n===o&&(wi=o);let i=(n-wi)/(o-wi)*100||100;t(a=>I(w({},a),{active:!0,item:r,loaded:n,total:o,progress:i}))},e}import{Fragment as sp,jsx as Pr,jsxs as lp}from"react/jsx-runtime";function ec({lightType:e,brightness:t,envPreset:r}){let n=Xe(o=>o.setLoadingPercentage);return lp(sp,{children:[e==="3d"&&Pr("ambientLight",{intensity:t||1}),e==="env"&&Pr(op,{fallback:Pr(ap,{}),children:Pr(Kl,{envPreset:r,background:!1,loadingCallback:n})})]})}function ap(){let{progress:e}=Jl();return ip(()=>{let t=document.getElementById("LoaderRoot");t&&e&&(e===100?(t.innerHTML="Ligths are loaded",setTimeout(()=>{t.innerHTML=""},1e3)):t.innerHTML="Loading lights...")},[e]),Pr("ambientLight",{intensity:.4})}import{addEffect as fh,applyProps as uh}from"@react-three/fiber";var Ci=Rr(),z=e=>Cr(e,Ci),Ri=Rr();z.write=e=>Cr(e,Ri);var Rn=Rr();z.onStart=e=>Cr(e,Rn);var Ai=Rr();z.onFrame=e=>Cr(e,Ai);var Mi=Rr();z.onFinish=e=>Cr(e,Mi);var Wt=[];z.setTimeout=(e,t)=>{let r=z.now()+t,n=()=>{let i=Wt.findIndex(a=>a.cancel==n);~i&&Wt.splice(i,1),mt-=~i?1:0},o={time:r,handler:e,cancel:n};return Wt.splice(tc(r),0,o),mt+=1,rc(),o};var tc=e=>~(~Wt.findIndex(t=>t.time>e)||~Wt.length);z.cancel=e=>{Rn.delete(e),Ai.delete(e),Mi.delete(e),Ci.delete(e),Ri.delete(e)};z.sync=e=>{Pi=!0,z.batchedUpdates(e),Pi=!1};z.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function n(...o){t=o,z.onStart(r)}return n.handler=e,n.cancel=()=>{Rn.delete(r),t=null},n};var Ii=typeof window<"u"?window.requestAnimationFrame:()=>{};z.use=e=>Ii=e;z.now=typeof performance<"u"?()=>performance.now():Date.now;z.batchedUpdates=e=>e();z.catch=console.error;z.frameLoop="always";z.advance=()=>{z.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):oc()};var ut=-1,mt=0,Pi=!1;function Cr(e,t){Pi?(t.delete(e),e(0)):(t.add(e),rc())}function rc(){ut<0&&(ut=0,z.frameLoop!=="demand"&&Ii(nc))}function cp(){ut=-1}function nc(){~ut&&(Ii(nc),z.batchedUpdates(oc))}function oc(){let e=ut;ut=z.now();let t=tc(ut);if(t&&(ic(Wt.splice(0,t),r=>r.handler()),mt-=t),!mt){cp();return}Rn.flush(),Ci.flush(e?Math.min(64,ut-e):16.667),Ai.flush(),Ri.flush(),Mi.flush()}function Rr(){let e=new Set,t=e;return{add(r){mt+=t==e&&!e.has(r)?1:0,e.add(r)},delete(r){return mt-=t==e&&e.has(r)?1:0,e.delete(r)},flush(r){t.size&&(e=new Set,mt-=t.size,ic(t,n=>n(r)&&e.add(n)),mt+=e.size,t=e)}}}function ic(e,t){e.forEach(r=>{try{t(r)}catch(n){z.catch(n)}})}import{useRef as Fi,useEffect as Fn,useLayoutEffect as dp,useState as pc}from"react";function kn(){}var hc=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),C={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Fe(e,t){if(C.arr(e)){if(!C.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}var Y=(e,t)=>e.forEach(t);function Ae(e,t,r){if(C.arr(e)){for(let n=0;n<e.length;n++)t.call(r,e[n],`${n}`);return}for(let n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n)}var ve=e=>C.und(e)?[]:C.arr(e)?e:[e];function Qt(e,t){if(e.size){let r=Array.from(e);e.clear(),Y(r,t)}}var Kt=(e,...t)=>Qt(e,r=>r(...t)),ki=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Bi,gc,pt=null,yc=!1,Ui=kn,fp=e=>{e.to&&(gc=e.to),e.now&&(z.now=e.now),e.colors!==void 0&&(pt=e.colors),e.skipAnimation!=null&&(yc=e.skipAnimation),e.createStringInterpolator&&(Bi=e.createStringInterpolator),e.requestAnimationFrame&&z.use(e.requestAnimationFrame),e.batchedUpdates&&(z.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Ui=e.willAdvance),e.frameLoop&&(z.frameLoop=e.frameLoop)},xe=Object.freeze({__proto__:null,get createStringInterpolator(){return Bi},get to(){return gc},get colors(){return pt},get skipAnimation(){return yc},get willAdvance(){return Ui},assign:fp}),Ar=new Set,Se=[],Ni=[],Ln=0,$t={get idle(){return!Ar.size&&!Se.length},start(e){Ln>e.priority?(Ar.add(e),z.onStart(up)):(vc(e),z(Oi))},advance:Oi,sort(e){if(Ln)z.onFrame(()=>$t.sort(e));else{let t=Se.indexOf(e);~t&&(Se.splice(t,1),xc(e))}},clear(){Se=[],Ar.clear()}};function up(){Ar.forEach(vc),Ar.clear(),z(Oi)}function vc(e){Se.includes(e)||xc(e)}function xc(e){Se.splice(mp(Se,t=>t.priority>e.priority),0,e)}function Oi(e){let t=Ni;for(let r=0;r<Se.length;r++){let n=Se[r];Ln=n.priority,n.idle||(Ui(n),n.advance(e),n.idle||t.push(n))}return Ln=0,Ni=Se,Ni.length=0,Se=t,Se.length>0}function mp(e,t){let r=e.findIndex(t);return r<0?e.length:r}var pp=(e,t,r)=>Math.min(Math.max(r,e),t),bc={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Re="[-+]?\\d*\\.?\\d+",Dn=Re+"%";function Bn(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var hp=new RegExp("rgb"+Bn(Re,Re,Re)),gp=new RegExp("rgba"+Bn(Re,Re,Re,Re)),yp=new RegExp("hsl"+Bn(Re,Dn,Dn)),vp=new RegExp("hsla"+Bn(Re,Dn,Dn,Re)),xp=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,bp=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,_p=/^#([0-9a-fA-F]{6})$/,Tp=/^#([0-9a-fA-F]{8})$/;function Sp(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=_p.exec(e))?parseInt(t[1]+"ff",16)>>>0:pt&&pt[e]!==void 0?pt[e]:(t=hp.exec(e))?(Xt(t[1])<<24|Xt(t[2])<<16|Xt(t[3])<<8|255)>>>0:(t=gp.exec(e))?(Xt(t[1])<<24|Xt(t[2])<<16|Xt(t[3])<<8|lc(t[4]))>>>0:(t=xp.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Tp.exec(e))?parseInt(t[1],16)>>>0:(t=bp.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=yp.exec(e))?(ac(sc(t[1]),An(t[2]),An(t[3]))|255)>>>0:(t=vp.exec(e))?(ac(sc(t[1]),An(t[2]),An(t[3]))|lc(t[4]))>>>0:null}function Li(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ac(e,t,r){let n=r<.5?r*(1+t):r+t-r*t,o=2*r-n,i=Li(o,n,e+1/3),a=Li(o,n,e),s=Li(o,n,e-1/3);return Math.round(i*255)<<24|Math.round(a*255)<<16|Math.round(s*255)<<8}function Xt(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function sc(e){return(parseFloat(e)%360+360)%360/360}function lc(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function An(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function cc(e){let t=Sp(e);if(t===null)return e;t=t||0;let r=(t&4278190080)>>>24,n=(t&16711680)>>>16,o=(t&65280)>>>8,i=(t&255)/255;return`rgba(${r}, ${n}, ${o}, ${i})`}var ht=(e,t,r)=>{if(C.fun(e))return e;if(C.arr(e))return ht({range:e,output:t,extrapolate:r});if(C.str(e.output[0]))return Bi(e);let n=e,o=n.output,i=n.range||[0,1],a=n.extrapolateLeft||n.extrapolate||"extend",s=n.extrapolateRight||n.extrapolate||"extend",l=n.easing||(c=>c);return c=>{let f=wp(c,i);return Ep(c,i[f],i[f+1],o[f],o[f+1],l,a,s,n.map)}};function Ep(e,t,r,n,o,i,a,s,l){let c=l?l(e):e;if(c<t){if(a==="identity")return c;a==="clamp"&&(c=t)}if(c>r){if(s==="identity")return c;s==="clamp"&&(c=r)}return n===o?n:t===r?e<=t?n:o:(t===-1/0?c=-c:r===1/0?c=c-t:c=(c-t)/(r-t),c=i(c),n===-1/0?c=-c:o===1/0?c=c+n:c=c*(o-n)+n,c)}function wp(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}var Pp=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);let n=r*e,o=t==="end"?Math.floor(n):Math.ceil(n);return pp(0,1,o/e)},On=1.70158,Mn=On*1.525,dc=On+1,fc=2*Math.PI/3,uc=2*Math.PI/4.5,In=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Hi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>dc*e*e*e-On*e*e,easeOutBack:e=>1+dc*Math.pow(e-1,3)+On*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((Mn+1)*2*e-Mn)/2:(Math.pow(2*e-2,2)*((Mn+1)*(e*2-2)+Mn)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*fc),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*fc)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*uc))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*uc)/2+1,easeInBounce:e=>1-In(1-e),easeOutBounce:In,easeInOutBounce:e=>e<.5?(1-In(1-2*e))/2:(1+In(2*e-1))/2,steps:Pp};function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zi.apply(this,arguments)}var Zt=Symbol.for("FluidValue.get"),wt=Symbol.for("FluidValue.observers"),Ee=e=>Boolean(e&&e[Zt]),he=e=>e&&e[Zt]?e[Zt]():e,Vi=e=>e[wt]||null;function Cp(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Mr(e,t){let r=e[wt];r&&r.forEach(n=>{Cp(n,t)})}var zn=class{constructor(t){if(this[Zt]=void 0,this[wt]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");Rp(this,t)}},Rp=(e,t)=>_c(e,Zt,t);function Pt(e,t){if(e[Zt]){let r=e[wt];r||_c(e,wt,r=new Set),r.has(t)||(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function Jt(e,t){let r=e[wt];if(r&&r.has(t)){let n=r.size-1;n?r.delete(t):e[wt]=null,e.observerRemoved&&e.observerRemoved(n,t)}}var _c=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),Nn=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ap=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,mc=new RegExp(`(${Nn.source})(%|[a-z]+)`,"i"),Mp=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Un=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Tc=e=>{let[t,r]=Ip(e);if(!t||ki())return e;let n=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(n)return n.trim();if(r&&r.startsWith("--")){let o=window.getComputedStyle(document.documentElement).getPropertyValue(r);return o||e}else{if(r&&Un.test(r))return Tc(r);if(r)return r}return e},Ip=e=>{let t=Un.exec(e);if(!t)return[,];let[,r,n]=t;return[r,n]},Di,Np=(e,t,r,n,o)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(n)}, ${o})`,Hn=e=>{Di||(Di=pt?new RegExp(`(${Object.keys(pt).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(i=>he(i).replace(Un,Tc).replace(Ap,cc).replace(Di,cc)),r=t.map(i=>i.match(Nn).map(Number)),o=r[0].map((i,a)=>r.map(s=>{if(!(a in s))throw Error('The arity of each "output" value must be equal');return s[a]})).map(i=>ht(zi({},e,{output:i})));return i=>{var a;let s=!mc.test(t[0])&&((a=t.find(c=>mc.test(c)))==null?void 0:a.replace(Nn,"")),l=0;return t[0].replace(Nn,()=>`${o[l++](i)}${s||""}`).replace(Mp,Np)}},Gi="react-spring: ",Sc=e=>{let t=e,r=!1;if(typeof t!="function")throw new TypeError(`${Gi}once requires a function parameter`);return(...n)=>{r||(t(...n),r=!0)}},Lp=Sc(console.warn);function Ec(){Lp(`${Gi}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Dp=Sc(console.warn);function wc(){Dp(`${Gi}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function er(e){return C.str(e)&&(e[0]=="#"||/\d/.test(e)||!ki()&&Un.test(e)||e in(pt||{}))}var tr=ki()?Fn:dp,Op=()=>{let e=Fi(!1);return tr(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Vn(){let e=pc()[1],t=Op();return()=>{t.current&&e(Math.random())}}function Pc(e,t){let[r]=pc(()=>({inputs:t,result:e()})),n=Fi(),o=n.current,i=o;return i?Boolean(t&&i.inputs&&zp(t,i.inputs))||(i={inputs:t,result:e()}):i=r,Fn(()=>{n.current=i,o==r&&(r.inputs=r.result=void 0)},[i]),i.result}function zp(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Gn=e=>Fn(e,Fp),Fp=[];function qi(e){let t=Fi();return Fn(()=>{t.current=e}),t.current}import*as Gr from"react";import{useContext as Gc,useMemo as Zn,useRef as Lc,useState as yb}from"react";import*as Ic from"react";import{forwardRef as kp,useRef as Cc,useCallback as Bp,useEffect as Up}from"react";var Ir=Symbol.for("Animated:node"),Hp=e=>!!e&&e[Ir]===e,Me=e=>e&&e[Ir],Wn=(e,t)=>hc(e,Ir,t),Dr=e=>e&&e[Ir]&&e[Ir].getPayload(),qn=class{constructor(){this.payload=void 0,Wn(this,this)}getPayload(){return this.payload||[]}},Ke=class extends qn{constructor(t){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=t,C.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Ke(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,r){return C.num(t)&&(this.lastPosition=t,r&&(t=Math.round(t/r)*r,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){let{done:t}=this;this.done=!1,C.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},$e=class extends Ke{constructor(t){super(0),this._string=null,this._toString=void 0,this._toString=ht({output:[t,t]})}static create(t){return new $e(t)}getValue(){let t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(C.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=ht({output:[this.getValue(),t]})),this._value=0,super.reset()}},Yn={dependencies:null},Nr=class extends qn{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){let r={};return Ae(this.source,(n,o)=>{Hp(n)?r[o]=n.getValue(t):Ee(n)?r[o]=he(n):t||(r[o]=n)}),r}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Y(this.payload,t=>t.reset())}_makePayload(t){if(t){let r=new Set;return Ae(t,this._addToPayload,r),Array.from(r)}}_addToPayload(t){Yn.dependencies&&Ee(t)&&Yn.dependencies.add(t);let r=Dr(t);r&&Y(r,n=>this.add(n))}},Lr=class extends Nr{constructor(t){super(t)}static create(t){return new Lr(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){let r=this.getPayload();return t.length==r.length?r.map((n,o)=>n.setValue(t[o])).some(Boolean):(super.setValue(t.map(Vp)),!0)}};function Vp(e){return(er(e)?$e:Ke).create(e)}function Xn(e){let t=Me(e);return t?t.constructor:C.arr(e)?Lr:er(e)?$e:Ke}function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jn.apply(this,arguments)}var Rc=(e,t)=>{let r=!C.fun(e)||e.prototype&&e.prototype.isReactComponent;return kp((n,o)=>{let i=Cc(null),a=r&&Bp(p=>{i.current=qp(o,p)},[o]),[s,l]=Gp(n,t),c=Vn(),f=()=>{let p=i.current;if(r&&!p)return;(p?t.applyAnimatedValues(p,s.getValue(!0)):!1)===!1&&c()},d=new Yi(f,l),m=Cc();tr(()=>(m.current=d,Y(l,p=>Pt(p,d)),()=>{m.current&&(Y(m.current.deps,p=>Jt(p,m.current)),z.cancel(m.current.update))})),Up(f,[]),Gn(()=>()=>{let p=m.current;Y(p.deps,v=>Jt(v,p))});let u=t.getComponentProps(s.getValue());return Ic.createElement(e,jn({},u,{ref:a}))})},Yi=class{constructor(t,r){this.update=t,this.deps=r}eventObserved(t){t.type=="change"&&z.write(this.update)}};function Gp(e,t){let r=new Set;return Yn.dependencies=r,e.style&&(e=jn({},e,{style:t.createAnimatedStyle(e.style)})),e=new Nr(e),Yn.dependencies=null,[e,r]}function qp(e,t){return e&&(C.fun(e)?e(t):e.current=t),t}var Ac=Symbol.for("AnimatedComponent"),Nc=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=o=>new Nr(o),getComponentProps:n=o=>o}={})=>{let o={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:n},i=a=>{let s=Mc(a)||"Anonymous";return C.str(a)?a=i[a]||(i[a]=Rc(a,o)):a=a[Ac]||(a[Ac]=Rc(a,o)),a.displayName=`Animated(${s})`,a};return Ae(e,(a,s)=>{C.arr(e)&&(s=Mc(a)),i[s]=i(a)}),{animated:i}},Mc=e=>C.str(e)?e:e&&C.str(e.displayName)?e.displayName:C.fun(e)&&e.name||null;function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},le.apply(this,arguments)}function Ct(e,...t){return C.fun(e)?e(...t):e}var kr=(e,t)=>e===!0||!!(t&&e&&(C.fun(e)?e(t):ve(e).includes(t))),qc=(e,t)=>C.obj(e)?t&&e[t]:e,Yc=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Yp=e=>e,ia=(e,t=Yp)=>{let r=jp;e.default&&e.default!==!0&&(e=e.default,r=Object.keys(e));let n={};for(let o of r){let i=t(e[o],o);C.und(i)||(n[o]=i)}return n},jp=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Wp={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Xp(e){let t={},r=0;if(Ae(e,(n,o)=>{Wp[o]||(t[o]=n,r++)}),r)return t}function jc(e){let t=Xp(e);if(t){let r={to:t};return Ae(e,(n,o)=>o in t||(r[o]=n)),r}return le({},e)}function Br(e){return e=he(e),C.arr(e)?e.map(Br):er(e)?xe.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Zp(e){for(let t in e)return!0;return!1}function Xi(e){return C.fun(e)||C.arr(e)&&C.obj(e[0])}function Qp(e,t){var r;(r=e.ref)==null||r.delete(e),t?.delete(e)}function Kp(e,t){if(t&&e.ref!==t){var r;(r=e.ref)==null||r.delete(e),t.add(e),e.ref=t}}var $p={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Zi=le({},$p.default,{mass:1,damping:1,easing:Hi.linear,clamp:!1}),Qi=class{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Zi)}};function Jp(e,t,r){r&&(r=le({},r),Dc(r,t),t=le({},r,t)),Dc(e,t),Object.assign(e,t);for(let a in Zi)e[a]==null&&(e[a]=Zi[a]);let{mass:n,frequency:o,damping:i}=e;return C.und(o)||(o<.01&&(o=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/o,2)*n,e.friction=4*Math.PI*i*n/o),e}function Dc(e,t){if(!C.und(t.decay))e.duration=void 0;else{let r=!C.und(t.tension)||!C.und(t.friction);(r||!C.und(t.frequency)||!C.und(t.damping)||!C.und(t.mass))&&(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}}var Oc=[],Ki=class{constructor(){this.changed=!1,this.values=Oc,this.toValues=null,this.fromValues=Oc,this.to=void 0,this.from=void 0,this.config=new Qi,this.immediate=!1}};function Wc(e,{key:t,props:r,defaultProps:n,state:o,actions:i}){return new Promise((a,s)=>{var l;let c,f,d=kr((l=r.cancel)!=null?l:n?.cancel,t);if(d)p();else{C.und(r.pause)||(o.paused=kr(r.pause,t));let v=n?.pause;v!==!0&&(v=o.paused||kr(v,t)),c=Ct(r.delay||0,t),v?(o.resumeQueue.add(u),i.pause()):(i.resume(),u())}function m(){o.resumeQueue.add(u),o.timeouts.delete(f),f.cancel(),c=f.time-z.now()}function u(){c>0&&!xe.skipAnimation?(o.delayed=!0,f=z.setTimeout(p,c),o.pauseQueue.add(m),o.timeouts.add(f)):p()}function p(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(m),o.timeouts.delete(f),e<=(o.cancelId||0)&&(d=!0);try{i.start(le({},r,{callId:e,cancel:d}),a)}catch(v){s(v)}}})}var aa=(e,t)=>t.length==1?t[0]:t.some(r=>r.cancelled)?rr(e.get()):t.every(r=>r.noop)?Xc(e.get()):Ie(e.get(),t.every(r=>r.finished)),Xc=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Ie=(e,t,r=!1)=>({value:e,finished:t,cancelled:r}),rr=e=>({value:e,cancelled:!0,finished:!1});function Zc(e,t,r,n){let{callId:o,parentId:i,onRest:a}=t,{asyncTo:s,promise:l}=r;return!i&&e===s&&!t.reset?l:r.promise=(async()=>{r.asyncId=o,r.asyncTo=e;let c=ia(t,(b,h)=>h==="onRest"?void 0:b),f,d,m=new Promise((b,h)=>(f=b,d=h)),u=b=>{let h=o<=(r.cancelId||0)&&rr(n)||o!==r.asyncId&&Ie(n,!1);if(h)throw b.result=h,d(b),b},p=(b,h)=>{let g=new Qn,x=new Kn;return(async()=>{if(xe.skipAnimation)throw Ur(r),x.result=Ie(n,!1),d(x),x;u(g);let _=C.obj(b)?le({},b):le({},h,{to:b});_.parentId=o,Ae(c,(S,E)=>{C.und(_[E])&&(_[E]=S)});let y=await n.start(_);return u(g),r.paused&&await new Promise(S=>{r.resumeQueue.add(S)}),y})()},v;if(xe.skipAnimation)return Ur(r),Ie(n,!1);try{let b;C.arr(e)?b=(async h=>{for(let g of h)await p(g)})(e):b=Promise.resolve(e(p,n.stop.bind(n))),await Promise.all([b.then(f),m]),v=Ie(n.get(),!0,!1)}catch(b){if(b instanceof Qn)v=b.result;else if(b instanceof Kn)v=b.result;else throw b}finally{o==r.asyncId&&(r.asyncId=i,r.asyncTo=i?s:void 0,r.promise=i?l:void 0)}return C.fun(a)&&z.batchedUpdates(()=>{a(v,n,n.item)}),v})()}function Ur(e,t){Qt(e.timeouts,r=>r.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Qn=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}},Kn=class extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}},$i=e=>e instanceof Hr,eh=1,Hr=class extends zn{constructor(...t){super(...t),this.id=eh++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){let t=Me(this);return t&&t.getValue()}to(...t){return xe.to(this,t)}interpolate(...t){return Ec(),xe.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,r=!1){Mr(this,{type:"change",parent:this,value:t,idle:r})}_onPriorityChange(t){this.idle||$t.sort(this),Mr(this,{type:"priority",parent:this,priority:t})}},Rt=Symbol.for("SpringPhase"),Qc=1,Ji=2,ea=4,ji=e=>(e[Rt]&Qc)>0,gt=e=>(e[Rt]&Ji)>0,Or=e=>(e[Rt]&ea)>0,zc=(e,t)=>t?e[Rt]|=Ji|Qc:e[Rt]&=~Ji,Fc=(e,t)=>t?e[Rt]|=ea:e[Rt]&=~ea,ta=class extends Hr{constructor(t,r){if(super(),this.key=void 0,this.animation=new Ki,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!C.und(t)||!C.und(r)){let n=C.obj(t)?le({},t):le({},r,{from:t});C.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(gt(this)||this._state.asyncTo)||Or(this)}get goal(){return he(this.animation.to)}get velocity(){let t=Me(this);return t instanceof Ke?t.lastVelocity||0:t.getPayload().map(r=>r.lastVelocity||0)}get hasAnimated(){return ji(this)}get isAnimating(){return gt(this)}get isPaused(){return Or(this)}get isDelayed(){return this._state.delayed}advance(t){let r=!0,n=!1,o=this.animation,{config:i,toValues:a}=o,s=Dr(o.to);!s&&Ee(o.to)&&(a=ve(he(o.to))),o.values.forEach((f,d)=>{if(f.done)return;let m=f.constructor==$e?1:s?s[d].lastPosition:a[d],u=o.immediate,p=m;if(!u){if(p=f.lastPosition,i.tension<=0){f.done=!0;return}let v=f.elapsedTime+=t,b=o.fromValues[d],h=f.v0!=null?f.v0:f.v0=C.arr(i.velocity)?i.velocity[d]:i.velocity,g,x=i.precision||(b==m?.005:Math.min(1,Math.abs(m-b)*.001));if(C.und(i.duration))if(i.decay){let _=i.decay===!0?.998:i.decay,y=Math.exp(-(1-_)*v);p=b+h/(1-_)*(1-y),u=Math.abs(f.lastPosition-p)<=x,g=h*y}else{g=f.lastVelocity==null?h:f.lastVelocity;let _=i.restVelocity||x/10,y=i.clamp?0:i.bounce,S=!C.und(y),E=b==m?f.v0>0:b<m,P,T=!1,R=1,M=Math.ceil(t/R);for(let L=0;L<M&&(P=Math.abs(g)>_,!(!P&&(u=Math.abs(m-p)<=x,u)));++L){S&&(T=p==m||p>m==E,T&&(g=-g*y,p=m));let F=-i.tension*1e-6*(p-m),G=-i.friction*.001*g,B=(F+G)/i.mass;g=g+B*R,p=p+g*R}}else{let _=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,f.durationProgress>0&&(f.elapsedTime=i.duration*f.durationProgress,v=f.elapsedTime+=t)),_=(i.progress||0)+v/this._memoizedDuration,_=_>1?1:_<0?0:_,f.durationProgress=_),p=b+i.easing(_)*(m-b),g=(p-f.lastPosition)/t,u=_==1}f.lastVelocity=g,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),u=!0)}s&&!s[d].done&&(u=!1),u?f.done=!0:r=!1,f.setValue(p,i.round)&&(n=!0)});let l=Me(this),c=l.getValue();if(r){let f=he(o.to);(c!==f||n)&&!i.decay?(l.setValue(f),this._onChange(f)):n&&i.decay&&this._onChange(c),this._stop()}else n&&this._onChange(c)}set(t){return z.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(gt(this)){let{to:t,config:r}=this.animation;z.batchedUpdates(()=>{this._onStart(),r.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,r){let n;return C.und(t)?(n=this.queue||[],this.queue=[]):n=[C.obj(t)?t:le({},r,{to:t})],Promise.all(n.map(o=>this._update(o))).then(o=>aa(this,o))}stop(t){let{to:r}=this.animation;return this._focus(this.get()),Ur(this._state,t&&this._lastCallId),z.batchedUpdates(()=>this._stop(r,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){let r=this.key||"",{to:n,from:o}=t;n=C.obj(n)?n[r]:n,(n==null||Xi(n))&&(n=void 0),o=C.obj(o)?o[r]:o,o==null&&(o=void 0);let i={to:n,from:o};return ji(this)||(t.reverse&&([n,o]=[o,n]),o=he(o),C.und(o)?Me(this)||this._set(n):this._set(o)),i}_update(t,r){let n=le({},t),{key:o,defaultProps:i}=this;n.default&&Object.assign(i,ia(n,(l,c)=>/^on/.test(c)?qc(l,o):l)),Bc(this,n,"onProps"),Fr(this,"onProps",n,this);let a=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let s=this._state;return Wc(++this._lastCallId,{key:o,props:n,defaultProps:i,state:s,actions:{pause:()=>{Or(this)||(Fc(this,!0),Kt(s.pauseQueue),Fr(this,"onPause",Ie(this,zr(this,this.animation.to)),this))},resume:()=>{Or(this)&&(Fc(this,!1),gt(this)&&this._resume(),Kt(s.resumeQueue),Fr(this,"onResume",Ie(this,zr(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(l=>{if(n.loop&&l.finished&&!(r&&l.noop)){let c=Kc(n);if(c)return this._update(c,!0)}return l})}_merge(t,r,n){if(r.cancel)return this.stop(!0),n(rr(this));let o=!C.und(t.to),i=!C.und(t.from);if(o||i)if(r.callId>this._lastToId)this._lastToId=r.callId;else return n(rr(this));let{key:a,defaultProps:s,animation:l}=this,{to:c,from:f}=l,{to:d=c,from:m=f}=t;i&&!o&&(!r.default||C.und(d))&&(d=m),r.reverse&&([d,m]=[m,d]);let u=!Fe(m,f);u&&(l.from=m),m=he(m);let p=!Fe(d,c);p&&this._focus(d);let v=Xi(r.to),{config:b}=l,{decay:h,velocity:g}=b;(o||i)&&(b.velocity=0),r.config&&!v&&Jp(b,Ct(r.config,a),r.config!==s.config?Ct(s.config,a):void 0);let x=Me(this);if(!x||C.und(d))return n(Ie(this,!0));let _=C.und(r.reset)?i&&!r.default:!C.und(m)&&kr(r.reset,a),y=_?m:this.get(),S=Br(d),E=C.num(S)||C.arr(S)||er(S),P=!v&&(!E||kr(s.immediate||r.immediate,a));if(p){let L=Xn(d);if(L!==x.constructor)if(P)x=this._set(S);else throw Error(`Cannot animate between ${x.constructor.name} and ${L.name}, as the "to" prop suggests`)}let T=x.constructor,R=Ee(d),M=!1;if(!R){let L=_||!ji(this)&&u;(p||L)&&(M=Fe(Br(y),S),R=!M),(!Fe(l.immediate,P)&&!P||!Fe(b.decay,h)||!Fe(b.velocity,g))&&(R=!0)}if(M&&gt(this)&&(l.changed&&!_?R=!0:R||this._stop(c)),!v&&((R||Ee(c))&&(l.values=x.getPayload(),l.toValues=Ee(d)?null:T==$e?[1]:ve(S)),l.immediate!=P&&(l.immediate=P,!P&&!_&&this._set(c)),R)){let{onRest:L}=l;Y(rh,G=>Bc(this,r,G));let F=Ie(this,zr(this,c));Kt(this._pendingCalls,F),this._pendingCalls.add(n),l.changed&&z.batchedUpdates(()=>{l.changed=!_,L?.(F,this),_?Ct(s.onRest,F):l.onStart==null||l.onStart(F,this)})}_&&this._set(y),v?n(Zc(r.to,r,this._state,this)):R?this._start():gt(this)&&!p?this._pendingCalls.add(n):n(Xc(y))}_focus(t){let r=this.animation;t!==r.to&&(Vi(this)&&this._detach(),r.to=t,Vi(this)&&this._attach())}_attach(){let t=0,{to:r}=this.animation;Ee(r)&&(Pt(r,this),$i(r)&&(t=r.priority+1)),this.priority=t}_detach(){let{to:t}=this.animation;Ee(t)&&Jt(t,this)}_set(t,r=!0){let n=he(t);if(!C.und(n)){let o=Me(this);if(!o||!Fe(n,o.getValue())){let i=Xn(n);!o||o.constructor!=i?Wn(this,i.create(n)):o.setValue(n),o&&z.batchedUpdates(()=>{this._onChange(n,r)})}}return Me(this)}_onStart(){let t=this.animation;t.changed||(t.changed=!0,Fr(this,"onStart",Ie(this,zr(this,t.to)),this))}_onChange(t,r){r||(this._onStart(),Ct(this.animation.onChange,t,this)),Ct(this.defaultProps.onChange,t,this),super._onChange(t,r)}_start(){let t=this.animation;Me(this).reset(he(t.to)),t.immediate||(t.fromValues=t.values.map(r=>r.lastPosition)),gt(this)||(zc(this,!0),Or(this)||this._resume())}_resume(){xe.skipAnimation?this.finish():$t.start(this)}_stop(t,r){if(gt(this)){zc(this,!1);let n=this.animation;Y(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Mr(this,{type:"idle",parent:this});let o=r?rr(this.get()):Ie(this.get(),zr(this,t??n.to));Kt(this._pendingCalls,o),n.changed&&(n.changed=!1,Fr(this,"onRest",o,this))}}};function zr(e,t){let r=Br(t),n=Br(e.get());return Fe(n,r)}function Kc(e,t=e.loop,r=e.to){let n=Ct(t);if(n){let o=n!==!0&&jc(n),i=(o||e).reverse,a=!o||o.reset;return Vr(le({},e,{loop:t,default:!1,pause:void 0,to:!i||Xi(r)?r:void 0,from:a?e.from:void 0,reset:a},o))}}function Vr(e){let{to:t,from:r}=e=jc(e),n=new Set;return C.obj(t)&&kc(t,n),C.obj(r)&&kc(r,n),e.keys=n.size?Array.from(n):null,e}function th(e){let t=Vr(e);return C.und(t.default)&&(t.default=ia(t)),t}function kc(e,t){Ae(e,(r,n)=>r!=null&&t.add(n))}var rh=["onStart","onRest","onChange","onPause","onResume"];function Bc(e,t,r){e.animation[r]=t[r]!==Yc(t,r)?qc(t[r],e.key):void 0}function Fr(e,t,...r){var n,o,i,a;(n=(o=e.animation)[t])==null||n.call(o,...r),(i=(a=e.defaultProps)[t])==null||i.call(a,...r)}var nh=["onStart","onChange","onRest"],oh=1,ra=class{constructor(t,r){this.id=oh++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),r&&(this._flush=r),t&&this.start(le({default:!0},t))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){let t={};return this.each((r,n)=>t[n]=r.get()),t}set(t){for(let r in t){let n=t[r];C.und(n)||this.springs[r].set(n)}}update(t){return t&&this.queue.push(Vr(t)),this}start(t){let{queue:r}=this;return t?r=ve(t).map(Vr):this.queue=[],this._flush?this._flush(this,r):(rd(this,r),na(this,r))}stop(t,r){if(t!==!!t&&(r=t),r){let n=this.springs;Y(ve(r),o=>n[o].stop(!!t))}else Ur(this._state,this._lastAsyncId),this.each(n=>n.stop(!!t));return this}pause(t){if(C.und(t))this.start({pause:!0});else{let r=this.springs;Y(ve(t),n=>r[n].pause())}return this}resume(t){if(C.und(t))this.start({pause:!1});else{let r=this.springs;Y(ve(t),n=>r[n].resume())}return this}each(t){Ae(this.springs,t)}_onFrame(){let{onStart:t,onChange:r,onRest:n}=this._events,o=this._active.size>0,i=this._changed.size>0;(o&&!this._started||i&&!this._started)&&(this._started=!0,Qt(t,([l,c])=>{c.value=this.get(),l(c,this,this._item)}));let a=!o&&this._started,s=i||a&&n.size?this.get():null;i&&r.size&&Qt(r,([l,c])=>{c.value=s,l(c,this,this._item)}),a&&(this._started=!1,Qt(n,([l,c])=>{c.value=s,l(c,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;z.onFrame(this._onFrame)}};function na(e,t){return Promise.all(t.map(r=>$c(e,r))).then(r=>aa(e,r))}async function $c(e,t,r){let{keys:n,to:o,from:i,loop:a,onRest:s,onResolve:l}=t,c=C.obj(t.default)&&t.default;a&&(t.loop=!1),o===!1&&(t.to=null),i===!1&&(t.from=null);let f=C.arr(o)||C.fun(o)?o:void 0;f?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):Y(nh,v=>{let b=t[v];if(C.fun(b)){let h=e._events[v];t[v]=({finished:g,cancelled:x})=>{let _=h.get(b);_?(g||(_.finished=!1),x&&(_.cancelled=!0)):h.set(b,{value:null,finished:g||!1,cancelled:x||!1})},c&&(c[v]=t[v])}});let d=e._state;t.pause===!d.paused?(d.paused=t.pause,Kt(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);let m=(n||Object.keys(e.springs)).map(v=>e.springs[v].start(t)),u=t.cancel===!0||Yc(t,"cancel")===!0;(f||u&&d.asyncId)&&m.push(Wc(++e._lastAsyncId,{props:t,state:d,actions:{pause:kn,resume:kn,start(v,b){u?(Ur(d,e._lastAsyncId),b(rr(e))):(v.onRest=s,b(Zc(f,v,d,e)))}}})),d.paused&&await new Promise(v=>{d.resumeQueue.add(v)});let p=aa(e,await Promise.all(m));if(a&&p.finished&&!(r&&p.noop)){let v=Kc(t,a,o);if(v)return rd(e,[v]),$c(e,v,!0)}return l&&z.batchedUpdates(()=>l(p,e,e.item)),p}function Uc(e,t){let r=le({},e.springs);return t&&Y(ve(t),n=>{C.und(n.keys)&&(n=Vr(n)),C.obj(n.to)||(n=le({},n,{to:void 0})),td(r,n,o=>ed(o))}),Jc(e,r),r}function Jc(e,t){Ae(t,(r,n)=>{e.springs[n]||(e.springs[n]=r,Pt(r,e))})}function ed(e,t){let r=new ta;return r.key=e,t&&Pt(r,t),r}function td(e,t,r){t.keys&&Y(t.keys,n=>{(e[n]||(e[n]=r(n)))._prepareNode(t)})}function rd(e,t){Y(t,r=>{td(e.springs,r,n=>ed(n,e))})}function ih(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var ah=["children"],Jn=e=>{let{children:t}=e,r=ih(e,ah),n=Gc($n),o=r.pause||!!n.pause,i=r.immediate||!!n.immediate;r=Pc(()=>({pause:o,immediate:i}),[o,i]);let{Provider:a}=$n;return Gr.createElement(a,{value:r},t)},$n=sh(Jn,{});Jn.Provider=$n.Provider;Jn.Consumer=$n.Consumer;function sh(e,t){return Object.assign(e,Gr.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var lh=()=>{let e=[],t=function(o){wc();let i=[];return Y(e,(a,s)=>{if(C.und(o))i.push(a.start());else{let l=r(o,a,s);l&&i.push(a.start(l))}}),i};t.current=e,t.add=function(n){e.includes(n)||e.push(n)},t.delete=function(n){let o=e.indexOf(n);~o&&e.splice(o,1)},t.pause=function(){return Y(e,n=>n.pause(...arguments)),this},t.resume=function(){return Y(e,n=>n.resume(...arguments)),this},t.set=function(n){Y(e,o=>o.set(n))},t.start=function(n){let o=[];return Y(e,(i,a)=>{if(C.und(n))o.push(i.start());else{let s=this._getProps(n,i,a);s&&o.push(i.start(s))}}),o},t.stop=function(){return Y(e,n=>n.stop(...arguments)),this},t.update=function(n){return Y(e,(o,i)=>o.update(this._getProps(n,o,i))),this};let r=function(o,i,a){return C.fun(o)?o(a,i):o};return t._getProps=r,t};function ch(e,t,r){let n=C.fun(t)&&t;n&&!r&&(r=[]);let o=Zn(()=>n||arguments.length==3?lh():void 0,[]),i=Lc(0),a=Vn(),s=Zn(()=>({ctrls:[],queue:[],flush(h,g){let x=Uc(h,g);return i.current>0&&!s.queue.length&&!Object.keys(x).some(y=>!h.springs[y])?na(h,g):new Promise(y=>{Jc(h,x),s.queue.push(()=>{y(na(h,g))}),a()})}}),[]),l=Lc([...s.ctrls]),c=[],f=qi(e)||0;Zn(()=>{Y(l.current.slice(e,f),h=>{Qp(h,o),h.stop(!0)}),l.current.length=e,d(f,e)},[e]),Zn(()=>{d(0,Math.min(f,e))},r);function d(h,g){for(let x=h;x<g;x++){let _=l.current[x]||(l.current[x]=new ra(null,s.flush)),y=n?n(x,_):t[x];y&&(c[x]=th(y))}}let m=l.current.map((h,g)=>Uc(h,c[g])),u=Gc(Jn),p=qi(u),v=u!==p&&Zp(u);tr(()=>{i.current++,s.ctrls=l.current;let{queue:h}=s;h.length&&(s.queue=[],Y(h,g=>g())),Y(l.current,(g,x)=>{o?.add(g),v&&g.start({default:u});let _=c[x];_&&(Kp(g,_.ref),g.ref?g.queue.push(_):g.start(_))})}),Gn(()=>()=>{Y(s.ctrls,h=>h.stop(!0))});let b=m.map(h=>le({},h));return o?[b,o]:b}function sa(e,t){let r=C.fun(e),[[n],o]=ch(1,r?e:[e],r?t||[]:t);return r||arguments.length==2?[n,o]:n}var Hc;(function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"})(Hc||(Hc={}));var oa=class extends Hr{constructor(t,r){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=t,this.calc=ht(...r);let n=this._get(),o=Xn(n);Wn(this,o.create(n))}advance(t){let r=this._get(),n=this.get();Fe(r,n)||(Me(this).setValue(r),this._onChange(r,this.idle)),!this.idle&&Vc(this._active)&&Wi(this)}_get(){let t=C.arr(this.source)?this.source.map(he):ve(he(this.source));return this.calc(...t)}_start(){this.idle&&!Vc(this._active)&&(this.idle=!1,Y(Dr(this),t=>{t.done=!1}),xe.skipAnimation?(z.batchedUpdates(()=>this.advance()),Wi(this)):$t.start(this))}_attach(){let t=1;Y(ve(this.source),r=>{Ee(r)&&Pt(r,this),$i(r)&&(r.idle||this._active.add(r),t=Math.max(t,r.priority+1))}),this.priority=t,this._start()}_detach(){Y(ve(this.source),t=>{Ee(t)&&Jt(t,this)}),this._active.clear(),Wi(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=ve(this.source).reduce((r,n)=>Math.max(r,($i(n)?n.priority:0)+1),0))}};function dh(e){return e.idle!==!1}function Vc(e){return!e.size||Array.from(e).every(dh)}function Wi(e){e.idle||(e.idle=!0,Y(Dr(e),t=>{t.done=!0}),Mr(e,{type:"idle",parent:e}))}xe.assign({createStringInterpolator:Hn,to:(e,t)=>new oa(e,t)});var xb=$t.advance;import*as mh from"three";var ph=["primitive"].concat(Object.keys(mh).filter(e=>/^[A-Z]/.test(e)).map(e=>e[0].toLowerCase()+e.slice(1)));xe.assign({createStringInterpolator:Hn,colors:bc,frameLoop:"demand"});fh(()=>{z.advance()});var hh=Nc(ph,{applyAnimatedValues:uh}),nd=hh.animated;import{extend as vd}from"@react-three/fiber";import{useState as Rh,useEffect as Ah}from"react";import*as eo from"three";function od(e,t,r){return class extends eo.LineBasicMaterial{constructor(){let n=Object.entries(e),o=n.reduce((i,[a,s])=>{let l=eo.UniformsUtils.clone({[a]:{value:s}});return w(w({},i),l)},{});super({color:"#ffffff",linewidth:5,userData:o,onBeforeCompile:i=>{i.uniforms=w(w({},i.uniforms),o),i.vertexShader=t}}),n.forEach(([i])=>Object.defineProperty(this,i,{get:()=>this.uniforms[i].value,set:a=>this.uniforms[i].value=a})),r&&r(this)}}}import*as nr from"three";function id(e,t,r,n){return class extends nr.MeshPhysicalMaterial{constructor(){let o=Object.entries(e),i=e.colors,a=la(i[0]),s=la(i[1]),l=la(i[2]),c={uC1r:{value:Je(a==null?void 0:a.r)},uC1g:{value:Je(a==null?void 0:a.g)},uC1b:{value:Je(a==null?void 0:a.b)},uC2r:{value:Je(s==null?void 0:s.r)},uC2g:{value:Je(s==null?void 0:s.g)},uC2b:{value:Je(s==null?void 0:s.b)},uC3r:{value:Je(l==null?void 0:l.r)},uC3g:{value:Je(l==null?void 0:l.g)},uC3b:{value:Je(l==null?void 0:l.b)}},f=o.reduce((d,[m,u])=>{let p=nr.UniformsUtils.clone({[m]:{value:u}});return w(w({},d),p)},{});super({metalness:.2,userData:f,side:nr.DoubleSide,onBeforeCompile:d=>{d.uniforms=w(w(w({},d.uniforms),f),c),d.vertexShader=t,d.fragmentShader=r}}),o.forEach(([d])=>Object.defineProperty(this,d,{get:()=>this.uniforms[d].value,set:m=>this.uniforms[d].value=m})),n&&n(this)}}}function la(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function Je(e=0){return e/255}var da={};Ge(da,{defaults:()=>qr,positionMix:()=>ca});var qr={};Ge(qr,{plane:()=>to,sphere:()=>ro,waterPlane:()=>no});var to={};Ge(to,{fragment:()=>ad,vertex:()=>sd});var ad=`
#define STANDARD
#ifdef PHYSICAL
#define REFLECTIVITY
#define CLEARCOAT
#define TRANSMISSION
#endif
uniform vec3 diffuse;uniform vec3 emissive;uniform float roughness;uniform float metalness;uniform float opacity;
#ifdef TRANSMISSION
uniform float transmission;
#endif
#ifdef REFLECTIVITY
uniform float reflectivity;
#endif
#ifdef CLEARCOAT
uniform float clearcoat;uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <color_pars_fragment>
#include <common>
#include <dithering_pars_fragment>
#include <emissivemap_pars_fragment>
#include <lightmap_pars_fragment>
#include <map_pars_fragment>
#include <packing>
#include <uv2_pars_fragment>
#include <uv_pars_fragment>
#include <bsdfs>
#include <bumpmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <clipping_planes_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <shadowmap_pars_fragment>
varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;uniform float uC1r;uniform float uC1g;uniform float uC1b;uniform float uC2r;uniform float uC2g;uniform float uC2b;uniform float uC3r;uniform float uC3g;uniform float uC3b;varying vec3 color1;varying vec3 color2;varying vec3 color3;float linearToRelativeLuminance2(const in vec3 color){vec3 weights=vec3(0.2126,0.7152,0.0722);return dot(weights,color.rgb);}void main(){vec3 color1=vec3(uC1r,uC1g,uC1b);vec3 color2=vec3(uC2r,uC2g,uC2b);vec3 color3=vec3(uC3r,uC3g,uC3b);float clearcoat=1.0;float clearcoatRoughness=0.5;
#include <clipping_planes_fragment>
vec4 diffuseColor=vec4(mix(mix(color1,color2,smoothstep(-3.0,3.0,vPos.x)),color3,vPos.z),1);ReflectedLight reflectedLight=ReflectedLight(vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));vec3 totalEmissiveRadiance=emissive;
#ifdef TRANSMISSION
float totalTransmission=transmission;
#endif
#include <logdepthbuf_fragment>
#include <map_fragment>
#include <color_fragment>
#include <alphamap_fragment>
#include <alphatest_fragment>
#include <roughnessmap_fragment>
#include <metalnessmap_fragment>
#include <normal_fragment_begin>
#include <normal_fragment_maps>
#include <clearcoat_normal_fragment_begin>
#include <clearcoat_normal_fragment_maps>
#include <emissivemap_fragment>
#include <lights_physical_fragment>
#include <lights_fragment_begin>
#include <lights_fragment_maps>
#include <lights_fragment_end>
#include <aomap_fragment>
vec3 outgoingLight=reflectedLight.directDiffuse+reflectedLight.indirectDiffuse+reflectedLight.directSpecular+reflectedLight.indirectSpecular;
#ifdef TRANSMISSION
diffuseColor.a*=mix(saturate(1.-totalTransmission+linearToRelativeLuminance2(reflectedLight.directSpecular+reflectedLight.indirectSpecular)),1.0,metalness);
#endif
#include <tonemapping_fragment>
#include <encodings_fragment>
#include <fog_fragment>
#include <premultiplied_alpha_fragment>
#include <dithering_fragment>
gl_FragColor=vec4(outgoingLight,diffuseColor.a);}`;var sd=`vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float cnoise(vec3 P){vec3 Pi0=floor(P);vec3 Pi1=Pi0+vec3(1.0);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}mat3 rotation3dY(float angle){float s=sin(angle);float c=cos(angle);return mat3(c,0.0,-s,0.0,1.0,0.0,s,0.0,c);}vec3 rotateY(vec3 v,float angle){return rotation3dY(angle)*v;}varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;varying vec2 vUv;uniform float uTime;uniform float uSpeed;uniform float uLoadingTime;uniform float uNoiseDensity;uniform float uNoiseStrength;
#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <clipping_planes_pars_vertex>
#include <color_pars_vertex>
#include <common>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <morphtarget_pars_vertex>
#include <shadowmap_pars_vertex>
#include <skinning_pars_vertex>
#include <uv2_pars_vertex>
#include <uv_pars_vertex>
void main(){
#include <beginnormal_vertex>
#include <color_vertex>
#include <defaultnormal_vertex>
#include <morphnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <uv2_vertex>
#include <uv_vertex>
#ifndef FLAT_SHADED
vNormal=normalize(transformedNormal);
#ifdef USE_TANGENT
vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);
#endif
#endif
#include <begin_vertex>
#include <clipping_planes_vertex>
#include <displacementmap_vertex>
#include <logdepthbuf_vertex>
#include <morphtarget_vertex>
#include <project_vertex>
#include <skinning_vertex>
vViewPosition=-mvPosition.xyz;
#include <fog_vertex>
#include <shadowmap_vertex>
#include <worldpos_vertex>
vUv=uv;float t=uTime*uSpeed;float distortion=0.75*cnoise(0.43*position*uNoiseDensity+t);vec3 pos=position+normal*distortion*uNoiseStrength*uLoadingTime;vPos=pos;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.);}`;var ro={};Ge(ro,{fragment:()=>ld,vertex:()=>cd});var ld=`
#define STANDARD
#ifdef PHYSICAL
#define REFLECTIVITY
#define CLEARCOAT
#define TRANSMISSION
#endif
uniform vec3 diffuse;uniform vec3 emissive;uniform float roughness;uniform float metalness;uniform float opacity;
#ifdef TRANSMISSION
uniform float transmission;
#endif
#ifdef REFLECTIVITY
uniform float reflectivity;
#endif
#ifdef CLEARCOAT
uniform float clearcoat;uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <color_pars_fragment>
#include <common>
#include <dithering_pars_fragment>
#include <emissivemap_pars_fragment>
#include <lightmap_pars_fragment>
#include <map_pars_fragment>
#include <packing>
#include <uv2_pars_fragment>
#include <uv_pars_fragment>
#include <bsdfs>
#include <bumpmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <clipping_planes_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <shadowmap_pars_fragment>
varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;uniform float uC1r;uniform float uC1g;uniform float uC1b;uniform float uC2r;uniform float uC2g;uniform float uC2b;uniform float uC3r;uniform float uC3g;uniform float uC3b;varying vec3 color1;varying vec3 color2;varying vec3 color3;varying float distanceToCenter;float linearToRelativeLuminance2(const in vec3 color){vec3 weights=vec3(0.2126,0.7152,0.0722);return dot(weights,color.rgb);}void main(){vec3 color1=vec3(uC1r,uC1g,uC1b);vec3 color2=vec3(uC2r,uC2g,uC2b);vec3 color3=vec3(uC3r,uC3g,uC3b);float clearcoat=1.0;float clearcoatRoughness=0.5;
#include <clipping_planes_fragment>
float distanceToCenter=distance(vPos,vec3(0,0,0));vec4 diffuseColor=vec4(mix(color3,mix(color2,color1,smoothstep(-1.0,1.0,vPos.y)),distanceToCenter),1);ReflectedLight reflectedLight=ReflectedLight(vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));vec3 totalEmissiveRadiance=emissive;
#ifdef TRANSMISSION
float totalTransmission=transmission;
#endif
#include <logdepthbuf_fragment>
#include <map_fragment>
#include <color_fragment>
#include <alphamap_fragment>
#include <alphatest_fragment>
#include <roughnessmap_fragment>
#include <metalnessmap_fragment>
#include <normal_fragment_begin>
#include <normal_fragment_maps>
#include <clearcoat_normal_fragment_begin>
#include <clearcoat_normal_fragment_maps>
#include <emissivemap_fragment>
#include <lights_physical_fragment>
#include <lights_fragment_begin>
#include <lights_fragment_maps>
#include <lights_fragment_end>
#include <aomap_fragment>
vec3 outgoingLight=reflectedLight.directDiffuse+reflectedLight.indirectDiffuse+reflectedLight.directSpecular+reflectedLight.indirectSpecular;
#ifdef TRANSMISSION
diffuseColor.a*=mix(saturate(1.-totalTransmission+linearToRelativeLuminance2(reflectedLight.directSpecular+reflectedLight.indirectSpecular)),1.0,metalness);
#endif
gl_FragColor=vec4(outgoingLight,diffuseColor.a);
#include <tonemapping_fragment>
#include <encodings_fragment>
#include <fog_fragment>
#include <premultiplied_alpha_fragment>
#include <dithering_fragment>
}`;var cd=`vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float pnoise(vec3 P,vec3 rep){vec3 Pi0=mod(floor(P),rep);vec3 Pi1=mod(Pi0+vec3(1.0),rep);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}varying vec3 vNormal;uniform float uTime;uniform float uSpeed;uniform float uNoiseDensity;uniform float uNoiseStrength;uniform float uFrequency;uniform float uAmplitude;varying vec3 vPos;varying float vDistort;varying vec2 vUv;varying vec3 vViewPosition;
#define STANDARD
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <clipping_planes_pars_vertex>
#include <color_pars_vertex>
#include <common>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <morphtarget_pars_vertex>
#include <shadowmap_pars_vertex>
#include <skinning_pars_vertex>
#include <uv2_pars_vertex>
#include <uv_pars_vertex>
mat3 rotation3dY(float angle){float s=sin(angle);float c=cos(angle);return mat3(c,0.0,-s,0.0,1.0,0.0,s,0.0,c);}vec3 rotateY(vec3 v,float angle){return rotation3dY(angle)*v;}void main(){
#include <beginnormal_vertex>
#include <color_vertex>
#include <defaultnormal_vertex>
#include <morphnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <uv2_vertex>
#include <uv_vertex>
#ifndef FLAT_SHADED
vNormal=normalize(transformedNormal);
#ifdef USE_TANGENT
vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);
#endif
#endif
#include <begin_vertex>
#include <clipping_planes_vertex>
#include <displacementmap_vertex>
#include <logdepthbuf_vertex>
#include <morphtarget_vertex>
#include <project_vertex>
#include <skinning_vertex>
vViewPosition=-mvPosition.xyz;
#include <fog_vertex>
#include <shadowmap_vertex>
#include <worldpos_vertex>
float t=uTime*uSpeed;float distortion=pnoise((normal+t)*uNoiseDensity,vec3(10.0))*uNoiseStrength;vec3 pos=position+(normal*distortion);float angle=sin(uv.y*uFrequency+t)*uAmplitude;pos=rotateY(pos,angle);vPos=pos;vDistort=distortion;vNormal=normal;vUv=uv;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.);}`;var no={};Ge(no,{fragment:()=>dd,vertex:()=>fd});var dd=`
#define STANDARD
#ifdef PHYSICAL
#define REFLECTIVITY
#define CLEARCOAT
#define TRANSMISSION
#endif
uniform vec3 diffuse;uniform vec3 emissive;uniform float roughness;uniform float metalness;uniform float opacity;
#ifdef TRANSMISSION
uniform float transmission;
#endif
#ifdef REFLECTIVITY
uniform float reflectivity;
#endif
#ifdef CLEARCOAT
uniform float clearcoat;uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <color_pars_fragment>
#include <common>
#include <dithering_pars_fragment>
#include <emissivemap_pars_fragment>
#include <lightmap_pars_fragment>
#include <map_pars_fragment>
#include <packing>
#include <uv2_pars_fragment>
#include <uv_pars_fragment>
#include <bsdfs>
#include <bumpmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <clipping_planes_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <shadowmap_pars_fragment>
varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;uniform float uC1r;uniform float uC1g;uniform float uC1b;uniform float uC2r;uniform float uC2g;uniform float uC2b;uniform float uC3r;uniform float uC3g;uniform float uC3b;varying vec3 color1;varying vec3 color2;varying vec3 color3;float linearToRelativeLuminance2(const in vec3 color){vec3 weights=vec3(0.2126,0.7152,0.0722);return dot(weights,color.rgb);}void main(){vec3 color1=vec3(uC1r,uC1g,uC1b);vec3 color2=vec3(uC2r,uC2g,uC2b);vec3 color3=vec3(uC3r,uC3g,uC3b);float clearcoat=1.0;float clearcoatRoughness=0.5;
#include <clipping_planes_fragment>
vec4 diffuseColor=vec4(mix(mix(color1,color2,smoothstep(-3.0,3.0,vPos.x)),color3,vPos.z),1);ReflectedLight reflectedLight=ReflectedLight(vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));vec3 totalEmissiveRadiance=emissive;
#ifdef TRANSMISSION
float totalTransmission=transmission;
#endif
#include <logdepthbuf_fragment>
#include <map_fragment>
#include <color_fragment>
#include <alphamap_fragment>
#include <alphatest_fragment>
#include <roughnessmap_fragment>
#include <metalnessmap_fragment>
#include <normal_fragment_begin>
#include <normal_fragment_maps>
#include <clearcoat_normal_fragment_begin>
#include <clearcoat_normal_fragment_maps>
#include <emissivemap_fragment>
#include <lights_physical_fragment>
#include <lights_fragment_begin>
#include <lights_fragment_maps>
#include <lights_fragment_end>
#include <aomap_fragment>
vec3 outgoingLight=reflectedLight.directDiffuse+reflectedLight.indirectDiffuse+reflectedLight.directSpecular+reflectedLight.indirectSpecular;
#ifdef TRANSMISSION
diffuseColor.a*=mix(saturate(1.-totalTransmission+linearToRelativeLuminance2(reflectedLight.directSpecular+reflectedLight.indirectSpecular)),1.0,metalness);
#endif
#include <tonemapping_fragment>
#include <encodings_fragment>
#include <fog_fragment>
#include <premultiplied_alpha_fragment>
#include <dithering_fragment>
gl_FragColor=vec4(outgoingLight,diffuseColor.a);}`;var fd=`vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float cnoise(vec3 P){vec3 Pi0=floor(P);vec3 Pi1=Pi0+vec3(1.0);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}mat3 rotation3dY(float angle){float s=sin(angle);float c=cos(angle);return mat3(c,0.0,-s,0.0,1.0,0.0,s,0.0,c);}vec3 rotateY(vec3 v,float angle){return rotation3dY(angle)*v;}varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;uniform float uTime;uniform float uSpeed;uniform float uNoiseDensity;uniform float uNoiseStrength;
#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <clipping_planes_pars_vertex>
#include <color_pars_vertex>
#include <common>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <morphtarget_pars_vertex>
#include <shadowmap_pars_vertex>
#include <skinning_pars_vertex>
#include <uv2_pars_vertex>
#include <uv_pars_vertex>
void main(){
#include <beginnormal_vertex>
#include <color_vertex>
#include <defaultnormal_vertex>
#include <morphnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <uv2_vertex>
#include <uv_vertex>
#ifndef FLAT_SHADED
vNormal=normalize(transformedNormal);
#ifdef USE_TANGENT
vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);
#endif
#endif
#include <begin_vertex>
#include <clipping_planes_vertex>
#include <displacementmap_vertex>
#include <logdepthbuf_vertex>
#include <morphtarget_vertex>
#include <project_vertex>
#include <skinning_vertex>
vViewPosition=-mvPosition.xyz;
#include <fog_vertex>
#include <shadowmap_vertex>
#include <worldpos_vertex>
float t=uTime*uSpeed;float distortion=0.75*cnoise(0.43*position*uNoiseDensity+t);vec3 pos=position+normal*distortion*uNoiseStrength;vPos=pos;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.);}`;var ca={};Ge(ca,{plane:()=>oo,sphere:()=>io,waterPlane:()=>ao});var oo={};Ge(oo,{fragment:()=>ud,vertex:()=>md});var ud="uniform float uC1r;uniform float uC1g;uniform float uC1b;uniform float uC2r;uniform float uC2g;uniform float uC2b;uniform float uC3r;uniform float uC3g;uniform float uC3b;varying vec3 vNormal;varying vec3 vPos;void main(){vec3 color1=vec3(uC1r,uC1g,uC1b);vec3 color2=vec3(uC2r,uC2g,uC2b);vec3 color3=vec3(uC3r,uC3g,uC3b);gl_FragColor=vec4(color1*vPos.x+color2*vPos.y+color3*vPos.z,1.);}";var md=`vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float cnoise(vec3 P){vec3 Pi0=floor(P);vec3 Pi1=Pi0+vec3(1.0);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}mat3 rotation3dY(float angle){float s=sin(angle);float c=cos(angle);return mat3(c,0.0,-s,0.0,1.0,0.0,s,0.0,c);}vec3 rotateY(vec3 v,float angle){return rotation3dY(angle)*v;}varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;varying vec2 vUv;uniform float uTime;uniform float uSpeed;uniform float uLoadingTime;uniform float uNoiseDensity;uniform float uNoiseStrength;
#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <clipping_planes_pars_vertex>
#include <color_pars_vertex>
#include <common>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <morphtarget_pars_vertex>
#include <shadowmap_pars_vertex>
#include <skinning_pars_vertex>
#include <uv2_pars_vertex>
#include <uv_pars_vertex>
void main(){
#include <beginnormal_vertex>
#include <color_vertex>
#include <defaultnormal_vertex>
#include <morphnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <uv2_vertex>
#include <uv_vertex>
#ifndef FLAT_SHADED
vNormal=normalize(transformedNormal);
#ifdef USE_TANGENT
vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);
#endif
#endif
#include <begin_vertex>
#include <clipping_planes_vertex>
#include <displacementmap_vertex>
#include <logdepthbuf_vertex>
#include <morphtarget_vertex>
#include <project_vertex>
#include <skinning_vertex>
vViewPosition=-mvPosition.xyz;
#include <fog_vertex>
#include <shadowmap_vertex>
#include <worldpos_vertex>
vUv=uv;float t=uTime*uSpeed;float distortion=0.75*cnoise(0.43*position*uNoiseDensity+t);vec3 pos=position+normal*distortion*uNoiseStrength*uLoadingTime;vPos=pos;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.);}`;var io={};Ge(io,{fragment:()=>pd,vertex:()=>hd});var pd=`
#define STANDARD
#ifdef PHYSICAL
#define REFLECTIVITY
#define CLEARCOAT
#define TRANSMISSION
#endif
uniform vec3 diffuse;uniform vec3 emissive;uniform float roughness;uniform float metalness;uniform float opacity;
#ifdef TRANSMISSION
uniform float transmission;
#endif
#ifdef REFLECTIVITY
uniform float reflectivity;
#endif
#ifdef CLEARCOAT
uniform float clearcoat;uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <color_pars_fragment>
#include <common>
#include <dithering_pars_fragment>
#include <emissivemap_pars_fragment>
#include <lightmap_pars_fragment>
#include <map_pars_fragment>
#include <packing>
#include <uv2_pars_fragment>
#include <uv_pars_fragment>
#include <bsdfs>
#include <bumpmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <clipping_planes_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <shadowmap_pars_fragment>
varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;uniform float uC1r;uniform float uC1g;uniform float uC1b;uniform float uC2r;uniform float uC2g;uniform float uC2b;uniform float uC3r;uniform float uC3g;uniform float uC3b;varying vec3 color1;varying vec3 color2;varying vec3 color3;varying float distanceToCenter;void main(){vec3 color1=vec3(uC1r,uC1g,uC1b);vec3 color2=vec3(uC2r,uC2g,uC2b);vec3 color3=vec3(uC3r,uC3g,uC3b);float clearcoat=1.0;float clearcoatRoughness=0.5;
#include <clipping_planes_fragment>
float distanceToCenter=distance(vPos,vec3(0,0,0));vec4 diffuseColor=vec4(mix(color3,mix(color2,color1,smoothstep(-1.0,1.0,vPos.y)),distanceToCenter),1);ReflectedLight reflectedLight=ReflectedLight(vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));vec3 totalEmissiveRadiance=emissive;
#ifdef TRANSMISSION
float totalTransmission=transmission;
#endif
#include <logdepthbuf_fragment>
#include <map_fragment>
#include <color_fragment>
#include <alphamap_fragment>
#include <alphatest_fragment>
#include <roughnessmap_fragment>
#include <metalnessmap_fragment>
#include <normal_fragment_begin>
#include <normal_fragment_maps>
#include <clearcoat_normal_fragment_begin>
#include <clearcoat_normal_fragment_maps>
#include <emissivemap_fragment>
#include <lights_physical_fragment>
#include <lights_fragment_begin>
#include <lights_fragment_maps>
#include <lights_fragment_end>
#include <aomap_fragment>
vec3 outgoingLight=reflectedLight.directDiffuse+reflectedLight.indirectDiffuse+reflectedLight.directSpecular+reflectedLight.indirectSpecular;
#ifdef TRANSMISSION
diffuseColor.a*=mix(saturate(1.-totalTransmission+linearToRelativeLuminance(reflectedLight.directSpecular+reflectedLight.indirectSpecular)),1.0,metalness);
#endif
gl_FragColor=vec4(outgoingLight,diffuseColor.a);
#include <tonemapping_fragment>
#include <encodings_fragment>
#include <fog_fragment>
#include <premultiplied_alpha_fragment>
#include <dithering_fragment>
}`;var hd=`vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float pnoise(vec3 P,vec3 rep){vec3 Pi0=mod(floor(P),rep);vec3 Pi1=mod(Pi0+vec3(1.0),rep);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}varying vec3 vNormal;uniform float uTime;uniform float uSpeed;uniform float uNoiseDensity;uniform float uNoiseStrength;uniform float uFrequency;uniform float uAmplitude;varying vec3 vPos;varying float vDistort;varying vec2 vUv;varying vec3 vViewPosition;
#define STANDARD
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <clipping_planes_pars_vertex>
#include <color_pars_vertex>
#include <common>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <morphtarget_pars_vertex>
#include <shadowmap_pars_vertex>
#include <skinning_pars_vertex>
#include <uv2_pars_vertex>
#include <uv_pars_vertex>
mat3 rotation3dY(float angle){float s=sin(angle);float c=cos(angle);return mat3(c,0.0,-s,0.0,1.0,0.0,s,0.0,c);}vec3 rotateY(vec3 v,float angle){return rotation3dY(angle)*v;}void main(){
#include <beginnormal_vertex>
#include <color_vertex>
#include <defaultnormal_vertex>
#include <morphnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <uv2_vertex>
#include <uv_vertex>
#ifndef FLAT_SHADED
vNormal=normalize(transformedNormal);
#ifdef USE_TANGENT
vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);
#endif
#endif
#include <begin_vertex>
#include <clipping_planes_vertex>
#include <displacementmap_vertex>
#include <logdepthbuf_vertex>
#include <morphtarget_vertex>
#include <project_vertex>
#include <skinning_vertex>
vViewPosition=-mvPosition.xyz;
#include <fog_vertex>
#include <shadowmap_vertex>
#include <worldpos_vertex>
float t=uTime*uSpeed;float distortion=pnoise((normal+t)*uNoiseDensity,vec3(10.0))*uNoiseStrength;vec3 pos=position+(normal*distortion);float angle=sin(uv.y*uFrequency+t)*uAmplitude;pos=rotateY(pos,angle);vPos=pos;vDistort=distortion;vNormal=normal;vUv=uv;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.);}`;var ao={};Ge(ao,{fragment:()=>gd,vertex:()=>yd});var gd="uniform float uC1r;uniform float uC1g;uniform float uC1b;uniform float uC2r;uniform float uC2g;uniform float uC2b;uniform float uC3r;uniform float uC3g;uniform float uC3b;varying vec3 vNormal;varying vec3 vPos;void main(){vec3 color1=vec3(uC1r,uC1g,uC1b);vec3 color2=vec3(uC2r,uC2g,uC2b);vec3 color3=vec3(uC3r,uC3g,uC3b);gl_FragColor=vec4(color1*vPos.x+color2*vPos.y+color3*vPos.z,1.);}";var yd=`vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float cnoise(vec3 P){vec3 Pi0=floor(P);vec3 Pi1=Pi0+vec3(1.0);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}mat3 rotation3dY(float angle){float s=sin(angle);float c=cos(angle);return mat3(c,0.0,-s,0.0,1.0,0.0,s,0.0,c);}vec3 rotateY(vec3 v,float angle){return rotation3dY(angle)*v;}varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;varying vec2 vUv;uniform float uTime;uniform float uSpeed;uniform float uLoadingTime;uniform float uNoiseDensity;uniform float uNoiseStrength;
#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <clipping_planes_pars_vertex>
#include <color_pars_vertex>
#include <common>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <morphtarget_pars_vertex>
#include <shadowmap_pars_vertex>
#include <skinning_pars_vertex>
#include <uv2_pars_vertex>
#include <uv_pars_vertex>
void main(){
#include <beginnormal_vertex>
#include <color_vertex>
#include <defaultnormal_vertex>
#include <morphnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <uv2_vertex>
#include <uv_vertex>
#ifndef FLAT_SHADED
vNormal=normalize(transformedNormal);
#ifdef USE_TANGENT
vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);
#endif
#endif
#include <begin_vertex>
#include <clipping_planes_vertex>
#include <displacementmap_vertex>
#include <logdepthbuf_vertex>
#include <morphtarget_vertex>
#include <project_vertex>
#include <skinning_vertex>
vViewPosition=-mvPosition.xyz;
#include <fog_vertex>
#include <shadowmap_vertex>
#include <worldpos_vertex>
vUv=uv;float t=uTime*uSpeed;float distortion=0.75*cnoise(0.43*position*uNoiseDensity+t);vec3 pos=position+normal*distortion*uNoiseStrength*uLoadingTime;vPos=pos;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.);}`;function xd({type:e,shader:t,color1:r,color2:n,color3:o,uTime:i,uSpeed:a,uDensity:s,uStrength:l,uFrequency:c,uAmplitude:f}){let[d,m]=Rh(!1),u=e!=null?e:"plane",p=qr[u];t&&t!=="defaults"&&(p=da[t][u]);let v=id({colors:[r,n,o],uTime:i,uSpeed:a,uLoadingTime:0,uNoiseDensity:s,uNoiseStrength:l,uFrequency:c,uAmplitude:f,uIntensity:.5},p.vertex,p.fragment),b=od({uTime:i,uSpeed:a,uNoiseDensity:s,uNoiseStrength:l,uFrequency:c,uAmplitude:f,uIntensity:.5},p.vertex);return vd({ColorShiftMaterial:v}),vd({HoveredLineMaterial:b}),Ah(()=>{m(!0)},[]),d}import{useFrame as Mh}from"@react-three/fiber";import{useRef as bd}from"react";import*as Td from"three";var{to:_d,rotDur:p_,meshDur:fa,rotDelay:h_,meshDelay:ua}=Sn,ma=new Td.Clock,Ih=20;function Sd({animate:e,range:t,rangeStart:r,rangeEnd:n}){let o=bd(),i=bd(),a=0;return Mh((s,l)=>{if(o.current){let c=ma.getElapsedTime();if(t==="enabled"&&(c=r,c=c+ma.getElapsedTime(),c>=n&&(c=r,ma.start())),c>ua){let f=o.current.userData.uLoadingTime.value,d=c<fa+ua?Math.easeInOutCubic(a,f,_d-f,fa*1e3):_d;o.current.userData.uLoadingTime.value=d,c<fa+ua&&(a+=Ih)}e==="on"&&(o.current.userData.uTime.value=c,i.current!==void 0&&(i.current.userData.uTime.value=c))}}),{material:o,linemat:i}}function Ed({color1:e,color2:t,color3:r}){let n=ie(o=>o.hoverState);return[n,Nh(n,{color1:e,color2:t,color3:r})]}function Nh(e,{color1:t,color2:r,color3:n}){return e===1?{color1:t,color2:"#000000",color3:"#000000"}:e===2?{color1:"#000000",color2:r,color3:"#000000"}:e===3?{color1:"#000000",color2:"#000000",color3:n}:{color1:t,color2:r,color3:n}}import{jsx as et,jsxs as pa}from"react/jsx-runtime";Math.easeInOutCubic=function(e,t,r,n){return e/=n/2,e<1?r/2*e*e*e+t:(e-=2,r/2*(e*e*e+2)+t)};var so=192,lo=36,wd=({type:e,animate:t,range:r,rangeStart:n,rangeEnd:o,uTime:i,uSpeed:a,uStrength:s,uDensity:l,uFrequency:c,uAmplitude:f,positionX:d,positionY:m,positionZ:u,rotationX:p,rotationY:v,rotationZ:b,color1:h,color2:g,color3:x,reflection:_,wireframe:y,shader:S,rotSpringOption:E=({rotation:T})=>({to:(R,M)=>q(void 0,null,function*(){yield R({animatedRotation:T})}),from:{rotation:ai([0,0,0])},config:{duration:300}}),posSpringOption:P=({position:T})=>({to:(R,M)=>q(void 0,null,function*(){yield R({animatedPosition:T})}),from:{position:[0,0,0]},config:{duration:300}})})=>{let[T,R]=Ed({color1:h,color2:g,color3:x}),M=xd(I(w({type:e,shader:S},R),{uTime:i,uSpeed:a,uDensity:l,uStrength:s,uFrequency:c,uAmplitude:f})),{material:L,linemat:F}=Sd({animate:t,range:r,rangeStart:n,rangeEnd:o}),G=[d,m,u],B=ai([p,v,b]),{animatedPosition:ce}=sa(P({position:G})),{animatedRotation:Z}=sa(E({rotation:B}));return pa("group",{children:[pa(nd.mesh,{position:ce,rotation:Z,children:[e==="plane"&&et("planeGeometry",{args:[10,10,1,so]}),e==="sphere"&&et("icosahedronGeometry",{args:[1,so/3]}),e==="waterPlane"&&et("planeGeometry",{args:[10,10,so,so]}),M&&et("colorShiftMaterial",{ref:L,roughness:1-_})]}),et("mesh",{children:pa("lineSegments",{renderOrder:1,position:G,rotation:B,visible:T!==0,children:[e==="plane"&&et("planeGeometry",{args:[10,10,1,lo]}),e==="sphere"&&et("icosahedronGeometry",{args:[1,lo/3]}),e==="waterPlane"&&et("planeGeometry",{args:[10,10,lo,lo]}),M&&et("hoveredLineMaterial",{ref:F})]})})]})};import{useEffect as Lh}from"react";function Pd(){Lh(()=>{var e;(e=window.location.search)!=null&&e.includes("pixelDensity")&&dt(window.location.search)},[])}import{Fragment as Dh,jsx as co,jsxs as Oh}from"react/jsx-runtime";function H_(a){var s=a,{control:e="props",dampingFactor:t,rotSpringOption:r,posSpringOption:n,isFigmaPlugin:o=!1}=s,i=D(s,["control","dampingFactor","rotSpringOption","posSpringOption","isFigmaPlugin"]);Pd();let p=Bs(e,i),{lightType:l,envPreset:c,brightness:f,grain:d,toggleAxis:m}=p,u=D(p,["lightType","envPreset","brightness","grain","toggleAxis"]);return di(d==="off"),Oh(Dh,{children:[co(ec,{lightType:l,brightness:f,envPreset:c}),co(wd,I(w({},u),{rotSpringOption:r,posSpringOption:n}),JSON.stringify(u)),m&&co(Al,{isFigmaPlugin:o}),co(Zl,w({dampingFactor:t},u))]})}import{jsx as zh}from"react/jsx-runtime";var j_=()=>{let[e]=N("bgColor1"),[t]=N("bgColor2");return zh("div",{style:{background:`linear-gradient(40deg, ${e} 0%, ${t} 100%)`,width:"100%",height:"100%"}})};import{jsx as kh}from"react/jsx-runtime";function Fh(){let[,e]=N("cDistance");return kh("input",{type:"number",onChange:t=>{e(t.target.value)},style:{border:"1px solid black",fontSize:24}})}import*as _f from"react";import{jsx as eT}from"react/jsx-runtime";import{jsx as aT,jsxs as sT}from"react/jsx-runtime";import{jsx as Cd}from"react/jsx-runtime";var Ne=n=>{var o=n,{guide:e=!1,className:t="w-3 h-3"}=o,r=D(o,["guide","className"]);return Cd("div",I(w({},r),{className:t,style:{position:"relative",background:"hsl(100, 37%, 79%)",opacity:"var(--guide-opacity)"},children:Cd("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",whiteSpace:"nowrap",fontSize:"8px"},children:e&&t})}))};import*as tf from"react";import{useEffect as ef,useState as yg,useRef as vg}from"react";function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yr.apply(this,arguments)}var fo=e=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(e);var or=255,ha=360,yt=100,Bh=e=>{var{r:t,g:r,b:n,a:o}=e,i=Math.max(t,r,n),a=i-Math.min(t,r,n),s=a?i===t?(r-n)/a:i===r?2+(n-t)/a:4+(t-r)/a:0;return{h:60*(s<0?s+6:s),s:i?a/i*yt:0,v:i/or*yt,a:o}};var uo=e=>{var{h:t,s:r,l:n,a:o}=Rd(e);return"hsla("+t+", "+r+"%, "+n+"%, "+o+")"};var Rd=e=>{var{h:t,s:r,v:n,a:o}=e,i=(200-r)*n/yt;return{h:t,s:i>0&&i<200?r*n/yt/(i<=yt?i:200-i)*yt:0,l:i/2,a:o}};var gT={grad:ha/400,turn:ha,rad:ha/(Math.PI*2)};var Ad=e=>{var{r:t,g:r,b:n}=e,o=t<<16|r<<8|n;return"#"+(i=>new Array(7-i.length).join("0")+i)(o.toString(16))},Uh=e=>{var{r:t,g:r,b:n,a:o}=e,i=typeof o=="number"&&(o*255|1<<8).toString(16).slice(1);return""+Ad({r:t,g:r,b:n,a:o})+(i||"")},ir=e=>Bh(Hh(e)),Hh=e=>{var t=e.replace("#","");/^#?/.test(e)&&t.length===3&&(e="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2));var r=new RegExp("[A-Za-z0-9]{2}","g"),[n,o,i=0,a]=e.match(r).map(s=>parseInt(s,16));return{r:n,g:o,b:i,a:a?a/or:1}},Md=e=>{var{h:t,s:r,v:n,a:o}=e,i=t/60,a=r/yt,s=n/yt,l=Math.floor(i)%6,c=i-Math.floor(i),f=or*s*(1-a),d=or*s*(1-a*c),m=or*s*(1-a*(1-c));s*=or;var u={};switch(l){case 0:u.r=s,u.g=m,u.b=f;break;case 1:u.r=d,u.g=s,u.b=f;break;case 2:u.r=f,u.g=s,u.b=m;break;case 3:u.r=f,u.g=d,u.b=s;break;case 4:u.r=m,u.g=f,u.b=s;break;case 5:u.r=s,u.g=f,u.b=d;break}return u.r=Math.round(u.r),u.g=Math.round(u.g),u.b=Math.round(u.b),Yr({},u,{a:o})};var Vh=e=>{var{r:t,g:r,b:n}=e;return{r:t,g:r,b:n}},Gh=e=>{var{h:t,s:r,l:n}=e;return{h:t,s:r,l:n}},jr=e=>Ad(Md(e));var qh=e=>{var{h:t,s:r,v:n}=e;return{h:t,s:r,v:n}},Id=e=>{var t,r,n,o,i,a,s,l;return typeof e=="string"&&fo(e)?(a=ir(e),s=e):typeof e!="string"&&(a=e),a&&(n=qh(a),i=Rd(a),o=Md(a),l=Uh(o),s=jr(a),r=Gh(i),t=Vh(o)),{rgb:t,hsl:r,hsv:n,rgba:o,hsla:i,hsva:a,hex:s,hexa:l}};function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ee.apply(this,arguments)}function tt(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}import ag from"react";import Fd,{useCallback as rg}from"react";import Zh,{useRef as Ld,useState as Qh,useCallback as mo,useEffect as Kh}from"react";import{useRef as Yh,useEffect as jh,useCallback as Wh}from"react";function ga(e){var t=Yh(e);return jh(()=>{t.current=e}),Wh((r,n)=>t.current&&t.current(r,n),[])}var ar=e=>"touches"in e,ya=e=>{!ar(e)&&e.preventDefault&&e.preventDefault()},Nd=function(t,r,n){return r===void 0&&(r=0),n===void 0&&(n=1),t>n?n:t<r?r:t},va=(e,t)=>{var r=e.getBoundingClientRect(),n=ar(t)?t.touches[0]:t;return{left:Nd((n.pageX-(r.left+window.pageXOffset))/r.width),top:Nd((n.pageY-(r.top+window.pageYOffset))/r.height),width:r.width,height:r.height,x:n.pageX-(r.left+window.pageXOffset),y:n.pageY-(r.top+window.pageYOffset)}};import{jsx as $h}from"react/jsx-runtime";var Xh=["prefixCls","className","onMove","onDown"],Dd=Zh.forwardRef((e,t)=>{var{prefixCls:r="w-color-interactive",className:n,onMove:o,onDown:i}=e,a=tt(e,Xh),s=Ld(null),l=Ld(!1),[c,f]=Qh(!1),d=ga(o),m=ga(i),u=g=>l.current&&!ar(g)?!1:(l.current=ar(g),!0),p=mo(g=>{ya(g);var x=ar(g)?g.touches.length>0:g.buttons>0;x&&s.current?d&&d(va(s.current,g),g):f(!1)},[d]),v=mo(()=>f(!1),[]),b=mo(g=>{var x=g?window.addEventListener:window.removeEventListener;x(l.current?"touchmove":"mousemove",p),x(l.current?"touchend":"mouseup",v)},[]);Kh(()=>(b(c),()=>{c&&b(!1)}),[c,b]);var h=mo(g=>{ya(g.nativeEvent),u(g.nativeEvent)&&(m&&m(va(s.current,g.nativeEvent),g.nativeEvent),f(!0))},[m]);return $h("div",ee({},a,{className:[r,n||""].filter(Boolean).join(" "),style:ee({},a.style,{touchAction:"none"}),ref:s,tabIndex:0,onMouseDown:h,onTouchStart:h}))});Dd.displayName="Interactive";var po=Dd;import"react";import{useMemo as Jh}from"react";import{jsx as Od}from"react/jsx-runtime";var eg="rgb(0 0 0 / 37%) 0px 1px 4px 0px",zd=e=>{var{className:t,prefixCls:r,left:n,top:o}=e,i={position:"absolute",left:n,top:o};return Jh(()=>Od("div",{className:r+"-pointer "+(t||""),style:i,children:Od("div",{className:r+"-fill",style:{width:18,height:18,transform:n?"translate(-9px, -1px)":"translate(-1px, -9px)",boxShadow:eg,borderRadius:"50%",backgroundColor:"rgb(248, 248, 248)"}})}),[t,n,o,r])};import{jsx as kd}from"react/jsx-runtime";import{jsxs as ng}from"react/jsx-runtime";var tg=["prefixCls","className","hsva","background","bgProps","innerProps","radius","width","height","direction","style","onChange","pointer"],og="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==",Bd=Fd.forwardRef((e,t)=>{var{prefixCls:r="w-color-alpha",className:n,hsva:o,background:i,bgProps:a={},innerProps:s={},radius:l=0,width:c,height:f=16,direction:d="horizontal",style:m,onChange:u,pointer:p}=e,v=tt(e,tg),b=rg(_=>{u&&u(ee({},o,{a:d==="horizontal"?_.left:_.top}),_)},[o]),h=uo(Object.assign({},o,{a:1})),g="linear-gradient(to "+(d==="horizontal"?"right":"bottom")+", rgba(244, 67, 54, 0) 0%, "+h+" 100%)",x={};return d==="horizontal"?x.left=o.a*100+"%":x.top=o.a*100+"%",ng("div",ee({},v,{className:[r,r+"-"+d,n||""].filter(Boolean).join(" "),style:ee({borderRadius:l,background:"url("+og+") left center",backgroundColor:"#fff"},m,{position:"relative"},{width:c,height:f}),ref:t,children:[kd("div",ee({},a,{style:ee({inset:0,position:"absolute",background:i||g,borderRadius:l},a.style)})),kd(po,ee({},s,{style:ee({},s.style,{inset:0,zIndex:1,position:"absolute"}),onMove:b,onDown:b,children:Fd.createElement(p||zd,ee({prefixCls:r},x))}))]}))});Bd.displayName="Aplha";var Ud=Bd;import{jsx as sg}from"react/jsx-runtime";var ig=["prefixCls","className","onChange","direction","hsva"],Hd=ag.forwardRef((e,t)=>{var{prefixCls:r="w-color-saturation",className:n,onChange:o,direction:i="horizontal",hsva:a}=e,s=tt(e,ig),l=uo(Object.assign({},a,{a:1,s:100,v:100}));return sg(Ud,ee({ref:t},s,{className:r+" "+(n||""),hsva:{h:a.h,s:100,v:a.v,a:1-a.v/100},direction:i,background:"linear-gradient(to "+(i==="horizontal"?"right":"bottom")+", "+l+", rgb(0, 0, 0))",onChange:(c,f)=>{o&&o({v:i==="horizontal"?100-f.left*100:100-f.top*100,s:100})}}))});Hd.displayName="ShadeSlider";var Vd=Hd;import Qd from"react";import"react";import{jsx as xa}from"react/jsx-runtime";var lg="rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",Gd=e=>{var{className:t,color:r,left:n,top:o,style:i,prefixCls:a}=e,s=ee({},i,{position:"absolute",top:o,left:n}),l=a+"-pointer "+(t||"");return xa("div",{className:l,style:s,children:xa("div",{className:a+"-fill",style:{width:10,height:10,transform:"translate(-5px, -5px)",boxShadow:lg,borderRadius:"50%",backgroundColor:"#fff"},children:xa("div",{style:{inset:0,borderRadius:"50%",position:"absolute",backgroundColor:r}})})})};var qd=Math.PI*2,cg=(e,t)=>(e%t+t)%t,dg=(e,t)=>Math.sqrt(e*e+t*t);function Yd(e){var{width:t=0}=e,r=t/2;return{width:t,radius:r,cx:r,cy:r}}function jd(e,t){var{cx:r,cy:n}=Yd(e),o=Wd(e),i=(180+Xd(e,t.h,!0))*(qd/360),a=t.s/100*o,s=e.direction==="clockwise"?-1:1;return{x:r+a*Math.cos(i)*s,y:n+a*Math.sin(i)*s}}function Wd(e){var{width:t=0}=e;return t/2}function Xd(e,t,r){var n=e.angle||0,o=e.direction;return r&&o==="clockwise"?t=n+t:o==="clockwise"?t=360-n+t:r&&o==="anticlockwise"?t=n+180-t:o==="anticlockwise"&&(t=n-t),cg(t,360)}function Zd(e,t,r){var{cx:n,cy:o}=Yd(e),i=Wd(e);t=n-t,r=o-r;var a=Xd(e,Math.atan2(-r,-t)*(360/qd)),s=Math.min(dg(t,r),i);return{h:Math.round(a),s:Math.round(100/i*s)}}import{jsx as ba}from"react/jsx-runtime";import{jsxs as ug}from"react/jsx-runtime";var fg=["prefixCls","radius","pointer","className","style","width","height","direction","angle","color","onChange"],mg="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",pg="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)",Kd=Qd.forwardRef((e,t)=>{var{prefixCls:r="w-color-wheel",radius:n=0,pointer:o,className:i,style:a,width:s=200,height:l=200,direction:c="anticlockwise",angle:f=180,color:d,onChange:m}=e,u=tt(e,fg),p=typeof d=="string"&&fo(d)?ir(d):d||{},v=d?jr(p):"",b=jd({width:s},p),h={top:"0",left:"0",color:v},g=(x,_)=>{var y=Zd({width:s},s-x.x,l-x.y),S={h:y.h,s:y.s,v:p.v,a:p.a};m&&m(Id(S))};return ug(po,ee({className:[r,i||""].filter(Boolean).join(" ")},u,{style:ee({},a,{position:"relative",width:s,height:l}),ref:t,onMove:g,onDown:g,children:[Qd.createElement(o||Gd,ee({prefixCls:r,style:{zIndex:1,transform:"translate("+b.x+"px, "+b.y+"px)"}},h)),ba("div",{style:{position:"absolute",borderRadius:"50%",background:c==="anticlockwise"?mg:pg,transform:"rotateZ("+(f+90)+"deg)",inset:0}}),ba("div",{style:{position:"absolute",borderRadius:"50%",background:"radial-gradient(circle closest-side, #fff, transparent)",inset:0}}),ba("div",{style:{backgroundColor:"#000",borderRadius:"50%",position:"absolute",inset:0,opacity:typeof p.v=="number"?1-p.v/100:0}})]}))});Kd.displayName="Wheel";var $d=Kd;import{useEffect as hg}from"react";function ho(e,t){hg(()=>{let r=n=>{!e.current||e.current.contains(n.target)||t(n)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[e,t])}import{useState as gg}from"react";var Jd=e=>{let[t,r]=gg(()=>({prop:e,state:e}));return t.prop!=e&&(t.prop=e,t.state=e),[t.state,n=>{r({prop:e,state:n})}]};import{Fragment as xg,jsx as vt,jsxs as go}from"react/jsx-runtime";var Le=tf.forwardRef(({label:e="",defaultValue:t,setValue:r},n)=>{let[o,i]=Jd(t),[a,s]=yg(!1);ef(()=>{i(t)},[]),ef(()=>{r(o)},[o]);let l=vg(null);return ho(l,()=>s(!1)),go("div",{className:"flex items-center",children:[e&&go(xg,{children:[vt("label",{className:"font-semibold text-primary text-base",children:e}),vt(Ne,{className:"w-2"})]}),go("div",{className:"flex items-center gap-2 w-full relative",children:[vt("div",{className:"w-full h-input rounded",style:{background:o},onClick:()=>{s(!a)}}),vt("div",{ref:l,style:{width:"fit-content",height:"fit-content",position:"absolute",bottom:25,left:-10,zIndex:100,display:a===!0?"block":"none"},children:go("div",{style:{display:"flex",width:"fit-content",height:"fit-content",background:"white",padding:16,flexDirection:"column",justifyContent:"center",alignItems:"center",gap:16,borderRadius:5,filter:"drop-shadow(0px 0px 10px rgba(0,0,0,0.37))"},children:[vt($d,{color:o,onChange:c=>{i(c.hex)},width:200,height:200}),vt(Vd,{width:200,style:{display:"flex",alignItems:"center"},hsva:ir(o),onChange:c=>{i(jr({h:ir(o).h,s:c.s,v:c.v,a:1}))}}),vt("div",{style:{width:16,height:16,background:"white",position:"absolute",borderRadius:3,bottom:-5,transform:"rotate(45deg)"}})]})}),vt("input",{type:"text",value:o,onChange:c=>i(c.target.value),className:"font-medium text-primary bg-primary bg-opacity-10 rounded h-input w-[90px] text-center outline-none text-base"})]})]})});import bg from"react";import{motion as rf}from"framer-motion";import{Fragment as _g,jsx as rt,jsxs as yo}from"react/jsx-runtime";var fe=bg.forwardRef((s,a)=>{var l=s,{label:e=null,value:t,setValue:r=()=>{},arrow:n=!1,step:o=0}=l,i=D(l,["label","value","setValue","arrow","step"]);return yo("div",{className:"flex items-center",children:[e&&yo(_g,{children:[rt("label",{className:"font-semibold text-primary text-base",children:e}),rt(Ne,{className:"w-2"})]}),yo("div",{className:"bg-primary bg-opacity-10 flex flex-row w-fit h-fit rounded items-center",children:[rt("input",w({type:"number",className:"font-medium text-primary bg-transparent h-input w-control-number-input text-center outline-none text-base",ref:a,value:t,onChange:c=>r(c.target.valueAsNumber),step:o},i)),n===!0&&yo("div",{className:"h-input flex flex-col text-primary justify-start items-center w-1",style:{marginRight:8,marginLeft:-5},children:[rt(rf.div,{className:"h-[50%] w-fit cursor-pointer flex items-center",onClick:()=>{r(t+o)},initial:{opacity:.5},whileHover:{opacity:1},children:rt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",children:rt("path",{d:"M 4.468 2.048 C 4.306 1.616 3.694 1.616 3.532 2.048 L 1.853 6.524 C 1.731 6.851 1.972 7.2 2.322 7.2 L 4 7.2 L 4 7.2 L 5.678 7.2 C 6.028 7.2 6.269 6.851 6.147 6.524 Z",fill:"rgb(255, 67, 10)"})})}),rt(rf.div,{className:"h-[50%] w-fit cursor-pointer flex items-center",onClick:()=>{r(t-o)},initial:{opacity:.5},whileHover:{opacity:1},children:rt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",children:rt("path",{d:"M 2.868 1.248 C 2.706 0.816 2.094 0.816 1.932 1.248 L 0.253 5.724 C 0.131 6.051 0.372 6.4 0.722 6.4 L 4.078 6.4 C 4.428 6.4 4.669 6.051 4.547 5.724 Z",transform:"translate(1.6 0.8) rotate(180 2.4 3.2)",fill:"rgb(255, 67, 10)"})})})]})]})]})});import*as of from"react";import{useEffect as nf,useState as Tg}from"react";function Wr(e,t){return Wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Wr(e,t)}function _a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Wr(e,t)}import sr from"react";function Ta(e){return e&&e.stopPropagation&&e.stopPropagation(),e&&e.preventDefault&&e.preventDefault(),!1}function Sa(e){return e==null?[]:Array.isArray(e)?e.slice():[e]}function vo(e){return e!==null&&e.length===1?e[0]:e.slice()}function xo(e){Object.keys(e).forEach(t=>{typeof document<"u"&&document.addEventListener(t,e[t],!1)})}function At(e,t){return Ea(function(r,n){let o=r;return o<=n.min&&(o=n.min),o>=n.max&&(o=n.max),o}(e,t),t)}function Ea(e,t){let r=(e-t.min)%t.step,n=e-r;return 2*Math.abs(r)>=t.step&&(n+=r>0?t.step:-t.step),parseFloat(n.toFixed(5))}var wa=function(e){function t(n){var o;(o=e.call(this,n)||this).onKeyUp=()=>{o.onEnd()},o.onMouseUp=()=>{o.onEnd(o.getMouseEventMap())},o.onTouchEnd=()=>{o.onEnd(o.getTouchEventMap())},o.onBlur=()=>{o.setState({index:-1},o.onEnd(o.getKeyDownEventMap()))},o.onMouseMove=s=>{o.setState({pending:!0});let l=o.getMousePosition(s),c=o.getDiffPosition(l[0]),f=o.getValueFromPosition(c);o.move(f)},o.onTouchMove=s=>{if(s.touches.length>1)return;o.setState({pending:!0});let l=o.getTouchPosition(s);if(o.isScrolling===void 0){let d=l[0]-o.startPosition[0],m=l[1]-o.startPosition[1];o.isScrolling=Math.abs(m)>Math.abs(d)}if(o.isScrolling)return void o.setState({index:-1});let c=o.getDiffPosition(l[0]),f=o.getValueFromPosition(c);o.move(f)},o.onKeyDown=s=>{if(!(s.ctrlKey||s.shiftKey||s.altKey||s.metaKey))switch(o.setState({pending:!0}),s.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":s.preventDefault(),o.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":s.preventDefault(),o.moveUpByStep();break;case"Home":s.preventDefault(),o.move(o.props.min);break;case"End":s.preventDefault(),o.move(o.props.max);break;case"PageDown":s.preventDefault(),o.moveDownByStep(o.props.pageFn(o.props.step));break;case"PageUp":s.preventDefault(),o.moveUpByStep(o.props.pageFn(o.props.step))}},o.onSliderMouseDown=s=>{if(!o.props.disabled&&s.button!==2){if(o.setState({pending:!0}),!o.props.snapDragDisabled){let l=o.getMousePosition(s);o.forceValueFromPosition(l[0],c=>{o.start(c,l[0]),xo(o.getMouseEventMap())})}Ta(s)}},o.onSliderClick=s=>{if(!o.props.disabled&&o.props.onSliderClick&&!o.hasMoved){let l=o.getMousePosition(s),c=At(o.calcValue(o.calcOffsetFromPosition(l[0])),o.props);o.props.onSliderClick(c)}},o.createOnKeyDown=s=>l=>{o.props.disabled||(o.start(s),xo(o.getKeyDownEventMap()),Ta(l))},o.createOnMouseDown=s=>l=>{if(o.props.disabled||l.button===2)return;o.setState({pending:!0});let c=o.getMousePosition(l);o.start(s,c[0]),xo(o.getMouseEventMap()),Ta(l)},o.createOnTouchStart=s=>l=>{if(o.props.disabled||l.touches.length>1)return;o.setState({pending:!0});let c=o.getTouchPosition(l);o.startPosition=c,o.isScrolling=void 0,o.start(s,c[0]),xo(o.getTouchEventMap()),function(f){f.stopPropagation&&f.stopPropagation()}(l)},o.handleResize=()=>{let s=window.setTimeout(()=>{o.pendingResizeTimeouts.shift(),o.resize()},0);o.pendingResizeTimeouts.push(s)},o.renderThumb=(s,l)=>{let c=o.props.thumbClassName+" "+o.props.thumbClassName+"-"+l+" "+(o.state.index===l?o.props.thumbActiveClassName:""),f={ref:m=>{o["thumb"+l]=m},key:o.props.thumbClassName+"-"+l,className:c,style:s,onMouseDown:o.createOnMouseDown(l),onTouchStart:o.createOnTouchStart(l),onFocus:o.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":o.props.orientation,"aria-valuenow":o.state.value[l],"aria-valuemin":o.props.min,"aria-valuemax":o.props.max,"aria-label":Array.isArray(o.props.ariaLabel)?o.props.ariaLabel[l]:o.props.ariaLabel,"aria-labelledby":Array.isArray(o.props.ariaLabelledby)?o.props.ariaLabelledby[l]:o.props.ariaLabelledby},d={index:l,value:vo(o.state.value),valueNow:o.state.value[l]};return o.props.ariaValuetext&&(f["aria-valuetext"]=typeof o.props.ariaValuetext=="string"?o.props.ariaValuetext:o.props.ariaValuetext(d)),o.props.renderThumb(f,d)},o.renderTrack=(s,l,c)=>{let f={key:o.props.trackClassName+"-"+s,className:o.props.trackClassName+" "+o.props.trackClassName+"-"+s,style:o.buildTrackStyle(l,o.state.upperBound-c)},d={index:s,value:vo(o.state.value)};return o.props.renderTrack(f,d)};let i=Sa(n.value);i.length||(i=Sa(n.defaultValue)),o.pendingResizeTimeouts=[];let a=[];for(let s=0;s<i.length;s+=1)i[s]=At(i[s],n),a.push(s);return o.resizeObserver=null,o.resizeElementRef=sr.createRef(),o.state={index:-1,upperBound:0,sliderLength:0,value:i,zIndices:a},o}_a(t,e);var r=t.prototype;return r.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},t.getDerivedStateFromProps=function(n,o){let i=Sa(n.value);return i.length?o.pending?null:{value:i.map(a=>At(a,n))}:null},r.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},r.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},r.onEnd=function(n){n&&function(o){Object.keys(o).forEach(i=>{typeof document<"u"&&document.removeEventListener(i,o[i],!1)})}(n),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},r.getValue=function(){return vo(this.state.value)},r.getClosestIndex=function(n){let o=Number.MAX_VALUE,i=-1,{value:a}=this.state,s=a.length;for(let l=0;l<s;l+=1){let c=this.calcOffset(a[l]),f=Math.abs(n-c);f<o&&(o=f,i=l)}return i},r.getMousePosition=function(n){return[n["page"+this.axisKey()],n["page"+this.orthogonalAxisKey()]]},r.getTouchPosition=function(n){let o=n.touches[0];return[o["page"+this.axisKey()],o["page"+this.orthogonalAxisKey()]]},r.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},r.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},r.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},r.getValueFromPosition=function(n){let o=n/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return At(this.state.startValue+o,this.props)},r.getDiffPosition=function(n){let o=n-this.state.startPosition;return this.props.invert&&(o*=-1),o},r.resize=function(){let{slider:n,thumb0:o}=this;if(!n||!o)return;let i=this.sizeKey(),a=n.getBoundingClientRect(),s=n[i],l=a[this.posMaxKey()],c=a[this.posMinKey()],f=o.getBoundingClientRect()[i.replace("client","").toLowerCase()],d=s-f,m=Math.abs(l-c);this.state.upperBound===d&&this.state.sliderLength===m&&this.state.thumbSize===f||this.setState({upperBound:d,sliderLength:m,thumbSize:f})},r.calcOffset=function(n){let o=this.props.max-this.props.min;return o===0?0:(n-this.props.min)/o*this.state.upperBound},r.calcValue=function(n){return n/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},r.calcOffsetFromPosition=function(n){let{slider:o}=this,i=o.getBoundingClientRect(),a=i[this.posMaxKey()],s=i[this.posMinKey()],l=n-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?a:s));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},r.forceValueFromPosition=function(n,o){let i=this.calcOffsetFromPosition(n),a=this.getClosestIndex(i),s=At(this.calcValue(i),this.props),l=this.state.value.slice();l[a]=s;for(let c=0;c<l.length-1;c+=1)if(l[c+1]-l[c]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{o(a),this.fireChangeEvent("onChange")})},r.clearPendingResizeTimeouts=function(){do{let n=this.pendingResizeTimeouts.shift();clearTimeout(n)}while(this.pendingResizeTimeouts.length)},r.start=function(n,o){let i=this["thumb"+n];i&&i.focus();let{zIndices:a}=this.state;a.splice(a.indexOf(n),1),a.push(n),this.setState(s=>({startValue:s.value[n],startPosition:o!==void 0?o:s.startPosition,index:n,zIndices:a}))},r.moveUpByStep=function(n){n===void 0&&(n=this.props.step);let o=At(this.state.value[this.state.index]+n,this.props);this.move(Math.min(o,this.props.max))},r.moveDownByStep=function(n){n===void 0&&(n=this.props.step);let o=At(this.state.value[this.state.index]-n,this.props);this.move(Math.max(o,this.props.min))},r.move=function(n){let{index:o,value:i}=this.state,{length:a}=i,s=i[o];if(n===s)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;let{pearling:l,max:c,min:f,minDistance:d}=this.props;if(!l){if(o>0){let m=i[o-1];n<m+d&&(n=m+d)}if(o<a-1){let m=i[o+1];n>m-d&&(n=m-d)}}i[o]=n,l&&a>1&&(n>s?(this.pushSucceeding(i,d,o),function(m,u,p,v){for(let b=0;b<m;b+=1){let h=v-b*p;u[m-1-b]>h&&(u[m-1-b]=h)}}(a,i,d,c)):n<s&&(this.pushPreceding(i,d,o),function(m,u,p,v){for(let b=0;b<m;b+=1){let h=v+b*p;u[b]<h&&(u[b]=h)}}(a,i,d,f))),this.setState({value:i},this.fireChangeEvent.bind(this,"onChange"))},r.pushSucceeding=function(n,o,i){let a,s;for(a=i,s=n[a]+o;n[a+1]!==null&&s>n[a+1];a+=1,s=n[a]+o)n[a+1]=Ea(s,this.props)},r.pushPreceding=function(n,o,i){for(let a=i,s=n[a]-o;n[a-1]!==null&&s<n[a-1];a-=1,s=n[a]-o)n[a-1]=Ea(s,this.props)},r.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},r.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},r.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},r.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},r.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},r.fireChangeEvent=function(n){this.props[n]&&this.props[n](vo(this.state.value),this.state.index)},r.buildThumbStyle=function(n,o){let i={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(o)+1};return i[this.posMinKey()]=n+"px",i},r.buildTrackStyle=function(n,o){let i={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return i[this.posMinKey()]=n,i[this.posMaxKey()]=o,i},r.buildMarkStyle=function(n){var o;return(o={position:"absolute"})[this.posMinKey()]=n,o},r.renderThumbs=function(n){let{length:o}=n,i=[];for(let s=0;s<o;s+=1)i[s]=this.buildThumbStyle(n[s],s);let a=[];for(let s=0;s<o;s+=1)a[s]=this.renderThumb(i[s],s);return a},r.renderTracks=function(n){let o=[],i=n.length-1;o.push(this.renderTrack(0,0,n[0]));for(let a=0;a<i;a+=1)o.push(this.renderTrack(a+1,n[a],n[a+1]));return o.push(this.renderTrack(i+1,n[i],this.state.upperBound)),o},r.renderMarks=function(){let{marks:n}=this.props,o=this.props.max-this.props.min+1;return typeof n=="boolean"?n=Array.from({length:o}).map((i,a)=>a):typeof n=="number"&&(n=Array.from({length:o}).map((i,a)=>a).filter(i=>i%n==0)),n.map(parseFloat).sort((i,a)=>i-a).map(i=>{let a=this.calcOffset(i),s={key:i,className:this.props.markClassName,style:this.buildMarkStyle(a)};return this.props.renderMark(s)})},r.render=function(){let n=[],{value:o}=this.state,i=o.length;for(let c=0;c<i;c+=1)n[c]=this.calcOffset(o[c],c);let a=this.props.withTracks?this.renderTracks(n):null,s=this.renderThumbs(n),l=this.props.marks?this.renderMarks():null;return sr.createElement("div",{ref:c=>{this.slider=c,this.resizeElementRef.current=c},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},a,s,l)},t}(sr.Component);wa.displayName="ReactSlider",wa.defaultProps={min:0,max:100,step:1,pageFn:e=>10*e,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:e=>sr.createElement("div",e),renderTrack:e=>sr.createElement("div",e),renderMark:e=>sr.createElement("span",e)};var Xr=wa;import{jsx as Pa,jsxs as Sg}from"react/jsx-runtime";var ae=of.forwardRef(({defaultValue:e,setValue:t,step:r,min:n,max:o},i)=>{let[a,s]=Tg(e);return nf(()=>{s(e)},[]),nf(()=>{t(a)},[a]),Sg("div",{className:"flex items-center w-full",children:[Pa(fe,{value:a,setValue:s,step:r}),Pa(Ne,{className:"w-4"}),Pa(Xr,{value:Number(a),step:r,min:n,max:o,onChange:(l,c)=>s(l),className:"bg-primary h-slider w-full",marks:[(n+o)/2],markClassName:"w-mark h-mark bg-primary top-1/2 transform -translate-y-1/2 slider-mark-center-x",thumbClassName:"bg-primary w-thumb h-thumb rounded-full top-1/2 transform -translate-y-1/2 outline-none cursor-pointer",thumbActiveClassName:"bg-opacity-80"})]})});import{useEffect as Eg,useState as af}from"react";import{jsx as lr,jsxs as wg}from"react/jsx-runtime";var Zr=({defaultValue:e,setValue:t,step:r,min:n,max:o})=>{let i=(e==null?void 0:e[0])||n,a=(e==null?void 0:e[1])||o,[s,l]=af(i),[c,f]=af(a);return Eg(()=>{t([s,c])},[s,c]),wg("div",{className:"flex items-center w-full",children:[lr(fe,{value:s,setValue:l,step:r}),lr(Ne,{className:"w-4"}),lr(Xr,{value:[Number(s),Number(c)],step:r,min:n,max:o,onChange:(d,m)=>{l(d[0]),f(d[1])},defaultValue:[n,o],pearling:!0,minDistance:.5,withTracks:!0,className:"bg-primary h-[8px] w-full bg-opacity-20 rounded-full",marks:[(n+o)/2],markClassName:"w-mark h-mark bg-primary top-1/2 transform translate-x-1 -translate-y-1/2 slider-mark-center-x",thumbClassName:"bg-primary w-thumb h-thumb rounded-full top-1/2 transform -translate-y-1/2 outline-none cursor-pointer",trackClassName:"bg-primary h-[8px] rounded-full relative",renderTrack:(d,m)=>lr("div",I(w({},d),{style:I(w({},d.style),{opacity:m.index===1?.7:0})}))}),lr(Ne,{className:"w-4"}),lr(fe,{value:c,setValue:f,step:r})]})};import*as lf from"react";import{jsx as sf,jsxs as Pg}from"react/jsx-runtime";var V=lf.forwardRef(({label:e,check:t,setValue:r,value:n,name:o},i)=>Pg("label",{className:j("flex justify-center items-center w-full h-input text-primary rounded cursor-pointer bg-primary hover:bg-opacity-10 select-none",t?"bg-opacity-10":"bg-opacity-0"),htmlFor:n,children:[sf("input",{name:o,value:n,type:"radio",id:n,className:"absolute inline-block opacity-0 cursor-pointer",onChange:a=>r(a.target.value)}),sf("span",{className:"text-base font-medium",children:e||n})]}));import{jsx as bo,jsxs as Cg}from"react/jsx-runtime";var Ca=a=>{var s=a,{content:e,onClick:t,isHovered:r,position:n="left",downward:o=!0}=s,i=D(s,["content","onClick","isHovered","position","downward"]);return bo("div",{className:j("text-sm font-medium text-white z-hoverBox"),style:{position:"absolute",marginLeft:n==="center"?0:-10,visibility:r?"visible":"hidden",margin:r===!0?"10px 0":0,top:o===!0?0:"unset",bottom:o===!1?"100%":"inherit",transitionDuration:"0.3s",opacity:r?1:0,minWidth:230,height:"fit-content"},children:Cg("div",{style:{maxWidth:230,width:"fit-content",height:"fit-content"},children:[bo("div",{className:j("bg-primary"),style:{position:"absolute",width:"100%",height:"100%",borderRadius:3,opacity:.8,zIndex:0},children:bo("div",{className:j("bg-primary"),style:{width:17,height:17,background:"rgb(255, 67, 10)",transform:"rotate(45deg)",position:"absolute",left:n==="center"?"calc(50% - 15px)":n==="right"?"calc(100% - 12px - 15px)":12,top:o===!0?-7:null,bottom:o===!1?-7:null,borderRadius:3}})}),bo("p",{style:{padding:8,zIndex:20,position:"relative"},children:e})]})})};import{jsx as _o,jsxs as Rg}from"react/jsx-runtime";var Mt=o=>{var i=o,{content:e,isHovered:t,bottom:r=75}=i,n=D(i,["content","isHovered","bottom"]);return _o("div",{className:j("text-sm font-medium text-white"),style:{position:"absolute",display:"flex",visibility:t?"visible":"hidden",justifyContent:"center",marginBottom:t?r+10:r,transitionDuration:"0.3s",opacity:t?1:0},children:Rg("div",{style:{width:"fit-content",height:"fit-content"},children:[_o("div",{className:j("bg-primary"),style:{position:"absolute",width:"100%",height:"100%",borderRadius:3,opacity:.8,zIndex:0,paddingTop:22,display:"flex",justifyContent:"center"},children:_o("div",{className:j("bg-primary"),style:{width:17,height:17,background:"rgb(255, 67, 10)",transform:"rotate(45deg)",margin:"0 auto",borderRadius:3}})}),_o("p",{style:{padding:8,zIndex:20,position:"relative",whiteSpace:"nowrap"},children:e})]})})};import*as Ag from"react";import{jsx as _E,jsxs as TE}from"react/jsx-runtime";import{useState as Og,useEffect as zg}from"react";import{motion as Aa,useAnimation as Fg,AnimatePresence as kg}from"framer-motion";import*as ke from"react";var Ra=new Map,To=new WeakMap,cf=0,Mg;function Ig(e){return e?(To.has(e)||(cf+=1,To.set(e,cf.toString())),To.get(e)):"0"}function Ng(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?Ig(e.root):e[t]}`).toString()}function Lg(e){let t=Ng(e),r=Ra.get(t);if(!r){let n=new Map,o,i=new IntersectionObserver(a=>{a.forEach(s=>{var l;let c=s.isIntersecting&&o.some(f=>s.intersectionRatio>=f);e.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=c),(l=n.get(s.target))==null||l.forEach(f=>{f(c,s)})})},e);o=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:n},Ra.set(t,r)}return r}function Dg(e,t,r={},n=Mg){if(typeof window.IntersectionObserver>"u"&&n!==void 0){let l=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}let{id:o,observer:i,elements:a}=Lg(r),s=a.get(e)||[];return a.has(e)||a.set(e,s),s.push(t),i.observe(e),function(){s.splice(s.indexOf(t),1),s.length===0&&(a.delete(e),i.unobserve(e)),a.size===0&&(i.disconnect(),Ra.delete(o))}}function df({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:o,triggerOnce:i,skip:a,initialInView:s,fallbackInView:l,onChange:c}={}){var f;let[d,m]=ke.useState(null),u=ke.useRef(),[p,v]=ke.useState({inView:!!s,entry:void 0});u.current=c,ke.useEffect(()=>{if(a||!d)return;let g;return g=Dg(d,(x,_)=>{v({inView:x,entry:_}),u.current&&u.current(x,_),_.isIntersecting&&i&&g&&(g(),g=void 0)},{root:o,rootMargin:n,threshold:e,trackVisibility:r,delay:t},l),()=>{g&&g()}},[Array.isArray(e)?e.toString():e,d,o,n,i,a,r,l,t]);let b=(f=p.entry)==null?void 0:f.target;ke.useEffect(()=>{!d&&b&&!i&&!a&&v({inView:!!s,entry:void 0})},[d,b,i,a,s]);let h=[m,p.inView,p.entry];return h.ref=h[0],h.inView=h[1],h.entry=h[2],h}import{jsx as Qr,jsxs as Bg}from"react/jsx-runtime";function Ma({fontSize:e,color:t,referer:r="",content:n,delay:o,width:i=null,font:a=null,textCenter:s=!1,yBefore:l=20}){let c={before:{transition:{staggerChildren:.015}},after:{transition:{staggerChildren:.015}}},f={before:{opacity:0,y:l,rotate:-15,scale:.4,transition:{type:"spring",duration:.4,damping:10}},after:{opacity:1,y:0,scale:1,rotate:0,transition:{type:"spring",duration:.4,damping:10}}},[d,m]=df(),u=Fg(),[p,v]=Og(!1);return zg(()=>{m?u.start("after"):u.start("before")},[u,m]),setTimeout(()=>{v(!0)},o),Qr(kg,{children:p&&Qr(Aa.div,{style:{position:"relative",wordBreak:"break-word",width:i},children:Qr(Aa.h1,{variants:c,ref:d,initial:"before",animate:u,children:Qr("div",{style:{textAlign:"left",fontSize:e,color:t},children:n.split(" ").map((b,h)=>Bg("div",{style:{display:"inline-block"},children:[Array.from(b).map((g,x)=>Qr(Aa.span,{style:{position:"relative",display:"inline-block",width:"auto"},variants:f,children:g===" "?"\xA0":g},`${x}-${g}`)),h!==n.split(" ").length-1?"\xA0":null]},`word-${b}-${h}`))})})})})}import{motion as kE,AnimatePresence as BE}from"framer-motion";import{jsx as HE,jsxs as VE}from"react/jsx-runtime";import{jsx as ZE}from"react/jsx-runtime";import*as Jr from"react";import{useEffect as Wg,useRef as Xg}from"react";var ff=e=>typeof e=="object"&&e!=null&&e.nodeType===1,uf=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Ia=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let r=getComputedStyle(e,null);return uf(r.overflowY,t)||uf(r.overflowX,t)||(n=>{let o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!o&&(o.clientHeight<n.scrollHeight||o.clientWidth<n.scrollWidth)})(e)}return!1},So=(e,t,r,n,o,i,a,s)=>i<e&&a>t||i>e&&a<t?0:i<=e&&s<=r||a>=t&&s>=r?i-e-n:a>t&&s<r||i<e&&s>r?a-t+o:0,Ug=e=>{let t=e.parentElement;return t??(e.getRootNode().host||null)},Na=(e,t)=>{var r,n,o,i;if(typeof document>"u")return[];let{scrollMode:a,block:s,inline:l,boundary:c,skipOverflowHiddenElements:f}=t,d=typeof c=="function"?c:L=>L!==c;if(!ff(e))throw new TypeError("Invalid target");let m=document.scrollingElement||document.documentElement,u=[],p=e;for(;ff(p)&&d(p);){if(p=Ug(p),p===m){u.push(p);break}p!=null&&p===document.body&&Ia(p)&&!Ia(document.documentElement)||p!=null&&Ia(p,f)&&u.push(p)}let v=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,b=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,{scrollX:h,scrollY:g}=window,{height:x,width:_,top:y,right:S,bottom:E,left:P}=e.getBoundingClientRect(),T=s==="start"||s==="nearest"?y:s==="end"?E:y+x/2,R=l==="center"?P+_/2:l==="end"?S:P,M=[];for(let L=0;L<u.length;L++){let F=u[L],{height:G,width:B,top:ce,right:Z,bottom:re,left:_e}=F.getBoundingClientRect();if(a==="if-needed"&&y>=0&&P>=0&&E<=b&&S<=v&&y>=ce&&E<=re&&P>=_e&&S<=Z)return M;let He=getComputedStyle(F),it=parseInt(He.borderLeftWidth,10),at=parseInt(He.borderTopWidth,10),ue=parseInt(He.borderRightWidth,10),Ve=parseInt(He.borderBottomWidth,10),Te=0,we=0,Ot="offsetWidth"in F?F.offsetWidth-F.clientWidth-it-ue:0,an="offsetHeight"in F?F.offsetHeight-F.clientHeight-at-Ve:0,ts="offsetWidth"in F?F.offsetWidth===0?0:B/F.offsetWidth:0,rs="offsetHeight"in F?F.offsetHeight===0?0:G/F.offsetHeight:0;if(m===F)Te=s==="start"?T:s==="end"?T-b:s==="nearest"?So(g,g+b,b,at,Ve,g+T,g+T+x,x):T-b/2,we=l==="start"?R:l==="center"?R-v/2:l==="end"?R-v:So(h,h+v,v,it,ue,h+R,h+R+_,_),Te=Math.max(0,Te+g),we=Math.max(0,we+h);else{Te=s==="start"?T-ce-at:s==="end"?T-re+Ve+an:s==="nearest"?So(ce,re,G,at,Ve+an,T,T+x,x):T-(ce+G/2)+an/2,we=l==="start"?R-_e-it:l==="center"?R-(_e+B/2)+Ot/2:l==="end"?R-Z+ue+Ot:So(_e,Z,B,it,ue+Ot,R,R+_,_);let{scrollLeft:ns,scrollTop:os}=F;Te=Math.max(0,Math.min(os+Te/rs,F.scrollHeight-G/rs+an)),we=Math.max(0,Math.min(ns+we/ts,F.scrollWidth-B/ts+Ot)),T+=os-Te,R+=ns-we}M.push({el:F,top:Te,left:we})}return M};var Hg=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function mf(e,t){if(!e.isConnected||!(n=>{let o=n;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(e))return;if((n=>typeof n=="object"&&typeof n.behavior=="function")(t))return t.behavior(Na(e,t));let r=typeof t=="boolean"||t==null?void 0:t.behavior;for(let{el:n,top:o,left:i}of Na(e,Hg(t)))n.scroll({top:o,left:i,behavior:r})}import{jsx as cr,jsxs as Eo}from"react/jsx-runtime";var pf=()=>{let[e,t]=N("wireframe"),[r,n]=N("axesHelper"),[o,i]=N("gizmoHelper");return Eo("div",{className:"flex flex-col gap-3",children:[Eo(k,{title:"Wireframe",children:[cr(V,{name:"wireframe",value:"enable",setValue:t,check:e==="enable",label:"On"}),cr(V,{name:"wireframe",value:"false",setValue:t,check:e==="false",label:"Off"})]}),Eo(k,{title:"Axes",children:[cr(V,{name:"axesHelper",value:"on",setValue:n,check:r==="on",label:"On"}),cr(V,{name:"axesHelper",value:"off",setValue:n,check:r==="off",label:"Off"})]}),Eo(k,{title:"Gizmo",children:[cr(V,{name:"gizmoHelper",value:"show",setValue:i,check:o==="show",label:"On"}),cr(V,{name:"gizmoHelper",value:"hide",setValue:i,check:o==="hide",label:"Off"})]})]})};import*as bf from"react";import*as gf from"react";import{jsx as wo,jsxs as hf}from"react/jsx-runtime";var Po=o=>{var i=o,{content:e,active:t,onClick:r}=i,n=D(i,["content","active","onClick"]);let[a,s]=gf.useState(!1),l=(c,f)=>c===!0?1:f===!0&&c!==!0?.1:0;return hf("div",{className:j("text-sm font-medium cursor-pointer flex justify-center items-center",t&&"bg-primary"),style:{borderRadius:15,width:30,height:30,transitionDuration:"0.3s",background:"rgba(255,67,10,"+l(t,a)+")"},onMouseEnter:()=>{s(!0)},onMouseLeave:()=>{s(!1)},onClick:r,children:[hf("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:[wo("path",{d:"M 0 0 L 0 8.5",transform:"translate(8 12) rotate(60 0.5 4.25)",fill:"transparent",strokeWidth:"1.8",stroke:t?"white":"rgb(255,67,10)",strokeLinecap:"round"}),wo("path",{d:"M 0 0 L 0 8.5",transform:"translate(15 12) rotate(120 0.5 4.25)",fill:"transparent",strokeWidth:"1.8",stroke:t?"white":"rgb(255,67,10)",strokeLinecap:"round"}),wo("path",{d:"M 12 5 L 12 13.5",fill:"transparent",strokeWidth:"1.8",stroke:t?"white":"rgb(255,67,10)",strokeLinecap:"round"})]}),wo(Mt,{content:e,isHovered:a})]})};import*as Kr from"react";import{jsx as yf,jsxs as Vg}from"react/jsx-runtime";var La=()=>{let[e,t]=Kr.useState("Copy URL"),[r,n]=Kr.useState(!1),o=()=>q(void 0,null,function*(){yield setTimeout(()=>{n(!1)},3e3)});return Kr.useEffect(()=>{n(!0),o()},[]),Vg("div",{className:"flex flex-col items-center justify-center",style:{marginLeft:5},children:[yf("div",{className:"bg-primary flex w-[90px] cursor-pointer items-center justify-center rounded-sm p-1.5 text-sm font-medium text-white",onClick:()=>q(void 0,null,function*(){window.navigator.clipboard.writeText(window.location.href),t("Copied!"),yield setTimeout(()=>{t("Copy URL")},2e3)}),onMouseOver:()=>{n(!0)},onMouseLeave:()=>{n(!1)},children:e}),yf(Mt,{content:"Share it, or use it in Figma/Framer",isHovered:r,bottom:90})]})};import*as xf from"react";import{jsx as nt,jsxs as Da}from"react/jsx-runtime";function dr(r){var n=r,{name:e}=n,t=D(n,["name"]);switch(e){case"Info":return Da("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"rgb(255,67,10)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[nt("circle",{cx:"12",cy:"12",r:"10"}),nt("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),nt("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]});case"CornerUpLeft":return Da("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"rgb(255,67,10)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[nt("polyline",{points:"9 14 4 9 9 4"}),nt("path",{d:"M20 20v-7a4 4 0 0 0-4-4H4"})]});case"Minimize2":return Da("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"rgb(255,67,10)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[nt("polyline",{points:"4 14 10 14 10 20"}),nt("polyline",{points:"20 10 14 10 14 4"}),nt("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),nt("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]});default:break}}import{jsx as vf,jsxs as Gg}from"react/jsx-runtime";var $r=i=>{var a=i,{icon:e,content:t,active:r,onClick:n}=a,o=D(a,["icon","content","active","onClick"]);let[s,l]=xf.useState(!1),c=(f,d)=>f===!0?1:d===!0&&f!==!0?.1:0;return Gg("div",{className:j("text-sm font-medium cursor-pointer flex justify-center items-center",r&&"bg-primary"),style:{borderRadius:15,width:30,height:30,transitionDuration:"0.3s",background:"rgba(255,67,10,"+c(r,s)+")"},onMouseEnter:()=>{l(!0)},onMouseLeave:()=>{l(!1)},onClick:n,children:[vf(dr,{name:e,size:20,color:r?"white":"rgb(255,67,10)"}),vf(Mt,{content:t,isHovered:s})]})};import{jsx as Co,jsxs as qg}from"react/jsx-runtime";var Ro=n=>{var o=n,{title:e,darkMode:t}=o,r=D(o,["title","darkMode"]);let[i,a]=N("zoomOut"),[s,l]=N("toggleAxis"),[c,f]=bf.useState("copy url");return qg("div",{className:j("flex items-center justify-center p-1",t&&"bg-controls-sub-panel"),style:{gap:6,width:"fit-content",height:"fit-content",borderRadius:40},children:[Co($r,{icon:"CornerUpLeft",content:"undo",onClick:()=>{let d=window.history.state.prevUrls||[];if(d.length>1){d.pop();let m=new URL(d[d.length-1]).search;dt(m),d.pop(),window.history.pushState({prevUrls:d},document.title,"")}else alert("no history")}}),Co(Po,{content:"3d axis",active:s,onClick:()=>l(!s)}),Co($r,{icon:"Minimize2",content:"zoom out",active:i,onClick:()=>a(!i)}),Co(La,{})]})};import{jsx as Yg}from"react/jsx-runtime";var It=o=>{var i=o,{title:e,active:t,onClick:r}=i,n=D(i,["title","active","onClick"]);return Yg("div",{className:j("text-xl font-medium text-primary text-opacity-20 cursor-pointer p-3 w-[25%] text-center select-none",t&&"text-opacity-100"),onClick:r,children:e})};import{jsx as Ao,jsxs as jg}from"react/jsx-runtime";var Mo=o=>{var i=o,{activeTab:e,setActiveTab:t,isMobile:r}=i,n=D(i,["activeTab","setActiveTab","isMobile"]);return jg("div",{className:"flex flex-row justify-start w-[fit-content] h-[58px] cursor-pointer",style:{width:r===!1?"fit-content":"100%",height:r===!1?58:"100%",justifyContent:r===!1?"flex-start":"space-between",background:r===!1?"transparent":"white"},onClick:()=>t("shape"),children:[Ao(It,{title:"Shape",active:e==="shape",onClick:()=>{t(e==="shape"?"none":"shape")}}),Ao(It,{title:"Colors",active:e==="colors",onClick:a=>{a.stopPropagation(),t(e==="colors"?"none":"colors")}}),Ao(It,{title:"Motion",active:e==="motion",onClick:a=>{a.stopPropagation(),t(e==="motion"?"none":"motion")}}),Ao(It,{title:"View",active:e==="view",onClick:a=>{a.stopPropagation(),t(e==="view"?"none":"view")}})]})};import{Fragment as Zg,jsx as fr,jsxs as Oa}from"react/jsx-runtime";var k=f=>{var d=f,{title:e,children:t,gap:r="w-2",info:n,hoverContent:o,isHovered:i,onMouseEnter:a,onMouseLeave:s,autoScroll:l=!1}=d,c=D(d,["title","children","gap","info","hoverContent","isHovered","onMouseEnter","onMouseLeave","autoScroll"]);let m=Xg(null);return Wg(()=>{let u=m.current;u&&l&&mf(u,{scrollMode:"if-needed",behavior:"smooth"})},[m,l]),Oa("div",I(w({ref:m,className:"flex justify-between items-center gap-3.5"},c),{children:[Oa("span",{className:"font-semibold text-primary w-[50%] text-base relative select-none",children:[e," ",fr("span",{className:"cursor-pointer",style:{display:"inline-block",opacity:.6},onMouseEnter:a,onMouseLeave:s,children:n===!0&&fr(dr,{name:"Info"})}),o&&fr(Ca,{content:o,isHovered:i===e,downward:!1})]}),fr("div",{className:"flex justify-between w-full",children:Jr.Children.map(t,(u,p)=>Oa(Zg,{children:[fr("div",{className:"w-full",children:Jr.cloneElement(u,{})},p),r&&p<Jr.Children.count(t)-1&&fr(Ne,{className:`${r} flex-shrink-0`})]}))})]}))};import{jsx as be,jsxs as za}from"react/jsx-runtime";var Fa=()=>{let[e,t]=N("type"),[r,n]=N("shader"),[o,i]=N("animate"),[a,s]=N("uTime"),[l,c]=N("uSpeed"),[f,d]=N("uStrength"),[m,u]=N("uDensity"),[p,v]=N("uFrequency"),[b,h]=N("uAmplitude"),[g,x]=N("pixelDensity"),[_,y]=_f.useState("");return za("div",{className:"flex flex-col gap-3",children:[za(k,{title:"Type",children:[be(V,{name:"type",value:"plane",setValue:t,check:e==="plane",label:"Plane"}),be(V,{name:"type",value:"sphere",setValue:t,check:e==="sphere",label:"Sphere"}),be(V,{name:"type",value:"waterPlane",setValue:t,check:e==="waterPlane",label:"Water"})]}),["plane","waterPlane"].includes(e)&&za(k,{title:"Shader",children:[be(V,{name:"shader",value:"defaults",setValue:n,check:r==="defaults",label:"A"}),be(V,{name:"shader",value:"positionMix",setValue:n,check:r==="positionMix",label:"B"})]}),be(k,{title:"Noise Strength",info:!0,hoverContent:"Control the height of the bumps",isHovered:_,onMouseEnter:()=>{y("Noise Strength")},onMouseLeave:()=>{y("")},children:be(ae,{defaultValue:f,setValue:d,step:.1,min:0,max:10})}),be(k,{title:"Noise Density",info:!0,hoverContent:"Control the frequency of the bumps",isHovered:_,onMouseEnter:()=>{y("Noise Density")},onMouseLeave:()=>{y("")},children:be(ae,{defaultValue:m,setValue:u,step:.1,min:0,max:7})}),e==="sphere"&&be(k,{title:"Spiral",children:be(ae,{defaultValue:b||0,setValue:h,step:.1,min:0,max:7})}),be(k,{title:"Pixel Density",children:be(ae,{defaultValue:g,setValue:x,step:.1,min:0,max:3})})]})};import*as en from"react";import{Fragment as Qg,jsx as te,jsxs as ur}from"react/jsx-runtime";var ka=({isFigma:e})=>{let[t,r]=N("color1"),[n,o]=N("color2"),[i,a]=N("color3"),[s,l]=N("grain"),[c,f]=N("lightType"),[d,m]=N("envPreset"),[u,p]=N("reflection"),[v,b]=N("brightness"),[h,g]=N("bgColor1"),[x,_]=N("bgColor2"),y=ie(R=>R.updateHoverState),[S,E]=en.useState("off"),[P,T]=en.useState("");return en.useEffect(()=>{E(h!=="#000000"||x!=="#000000"?"on":"off")},[h,x]),ur("div",{className:"flex flex-col gap-3",children:[te(k,{title:"Color 1",info:!0,onMouseEnter:()=>y(1),onMouseLeave:()=>y(0),children:te(Le,{defaultValue:t,setValue:r})}),te(k,{title:"Color 2",info:!0,onMouseEnter:()=>y(2),onMouseLeave:()=>y(0),children:te(Le,{defaultValue:n,setValue:o})}),te(k,{title:"Color 3",info:!0,onMouseEnter:()=>y(3),onMouseLeave:()=>y(0),children:te(Le,{defaultValue:i,setValue:a})}),ur(k,{title:"Grain",info:!0,hoverContent:"Grain effects can slow down the performance of the animation. ",isHovered:P,onMouseEnter:()=>{T("Grain")},onMouseLeave:()=>{T("")},children:[te(V,{name:"grain",value:"on",setValue:l,check:s==="on",label:"On"}),te(V,{name:"grain",value:"off",setValue:l,check:s==="off",label:"Off"})]}),ur(k,{title:"Environment",info:!0,hoverContent:"Environment lighting creates more dynamic lighting effects, e.g. reflections",isHovered:P,onMouseEnter:()=>{T("Environment")},onMouseLeave:()=>{T("")},children:[te(V,{name:"lightType",value:"env",setValue:f,check:c==="env",label:"On"}),te(V,{name:"lightType",value:"3d",setValue:f,check:c==="3d",label:"Off"})]}),c==="env"&&ur(k,{title:"Env Preset",children:[te(V,{name:"envPreset",value:"city",setValue:m,check:d==="city",label:"City"}),te(V,{name:"envPreset",value:"dawn",setValue:m,check:d==="dawn",label:"Dawn"}),te(V,{name:"envPreset",value:"lobby",setValue:m,check:d==="lobby",label:"Lobby"})]}),c==="env"&&te(k,{title:"Reflection",children:te(ae,{defaultValue:u,setValue:p,step:.1,min:0,max:1})}),c==="3d"&&te(k,{title:"Brightness",children:te(ae,{defaultValue:v,setValue:b,step:.1,min:0,max:3})}),e===!1&&ur(k,{title:"Custom Background",info:!0,hoverContent:"Change the background behind the 3d object. Default to be black",isHovered:P,onMouseEnter:()=>{T("Custom Background")},onMouseLeave:()=>{T("")},children:[te(V,{name:"customBg",value:"on",setValue:E,check:S==="on",label:"On"}),te(V,{name:"customBg",value:"off",setValue:E,check:S==="off",label:"Off"})]}),S==="on"&&ur(Qg,{children:[te(k,{title:"Bg Color 1",children:te(Le,{defaultValue:h===null?"#000000":h,setValue:g})}),te(k,{title:"Bg Color 2",children:te(Le,{defaultValue:x===null?"#000000":x,setValue:_})})]})]})};import*as Tf from"react";import{Fragment as Kg,jsx as Be,jsxs as Io}from"react/jsx-runtime";var Ba=()=>{let[e,t]=N("animate"),[r,n]=N("uTime"),[o,i]=N("uSpeed"),[a,s]=N("range"),[l,c]=N("rangeStart"),[f,d]=N("rangeEnd"),[m,u]=Tf.useState("");return Io("div",{className:"flex flex-col gap-3",children:[Io(k,{title:"Animate",children:[Be(V,{name:"animate",value:"on",setValue:t,check:e==="on",label:"On"}),Be(V,{name:"animate",value:"off",setValue:t,check:e==="off",label:"Off"})]}),e==="off"&&Be(k,{title:"Movements",children:Be(ae,{defaultValue:r,setValue:n,step:.1,min:0,max:9})}),e==="on"&&Io(Kg,{children:[Be(k,{title:"Speed",children:Be(ae,{defaultValue:o,setValue:i,step:.1,min:0,max:2})}),Io(k,{title:"Range",info:!0,hoverContent:"Make the motion repeated by setting a beginning and end. Off to make it infinite. ",isHovered:m,onMouseEnter:()=>{u("Range")},onMouseLeave:()=>{u("")},children:[Be(V,{name:"range",value:"enabled",setValue:s,check:a==="enabled",label:"On"}),Be(V,{name:"range",value:"disabled",setValue:s,check:a==="disabled",label:"Off"})]}),a==="enabled"&&Be(k,{title:"Range Start/End",info:!0,hoverContent:"Set a start and end of the repeated range.",isHovered:m,onMouseEnter:()=>{u("Range Start/End")},onMouseLeave:()=>{u("")},children:Be(Zr,{defaultValue:[l,f],setValue:p=>{let[v,b]=p;l!==v&&(n(v),c(v)),f!==b&&d(b)},step:.1,min:0,max:40})})]})]})};import*as Sf from"react";import{jsx as ge,jsxs as No}from"react/jsx-runtime";var Ua=()=>{let[e,t]=N("cDistance"),[r,n]=N("cameraZoom"),[o,i]=N("cAzimuthAngle"),[a,s]=N("cPolarAngle"),[l,c]=N("positionX"),[f,d]=N("positionY"),[m,u]=N("positionZ"),[p,v]=N("rotationX"),[b,h]=N("rotationY"),[g,x]=N("rotationZ"),[_,y]=N("fov"),[S,E]=Sf.useState(""),[P]=N("type");return No("div",{className:"flex flex-col gap-3",children:[P!=="sphere"&&ge(k,{title:"Distance",children:ge(ae,{defaultValue:e,setValue:t,step:.1,min:0,max:20})}),P==="sphere"&&ge(k,{title:"Zoom",children:ge(ae,{defaultValue:r,setValue:n,step:.1,min:.1,max:30})}),No(k,{title:"Camera Angle",info:!0,hoverContent:"Imagine a globe. Azimuth moves the camera in the direction of latitude, and polar, in the direction of longtitude",isHovered:S,onMouseEnter:()=>{E("Camera Angle")},onMouseLeave:()=>{E("")},children:[ge(fe,{label:"azimuth",step:10,value:o,setValue:i,arrow:!0}),ge(fe,{label:"polar",step:10,min:0,max:180,value:a,setValue:s,arrow:!0})]}),No(k,{title:"Object Position",children:[ge(fe,{label:"x",step:.1,value:l,setValue:c,arrow:!0}),ge(fe,{label:"y",step:.1,value:f,setValue:d,arrow:!0}),ge(fe,{label:"z",step:.1,value:m,setValue:u,arrow:!0})]}),No(k,{title:"Object Rotation",children:[ge(fe,{label:"x",step:10,value:p,setValue:v,arrow:!0}),ge(fe,{label:"y",step:10,value:b,setValue:h,arrow:!0}),ge(fe,{label:"z",step:10,value:g,setValue:x,arrow:!0})]}),ge(k,{title:"Field of view",children:ge(ae,{defaultValue:_,setValue:y,step:10,min:0,max:180})})]})};import{jsx as Lo,jsxs as Jg}from"react/jsx-runtime";var $g=()=>{let[e,t]=N("bgColor1"),[r,n]=N("bgColor2");return Jg("div",{className:"flex flex-col gap-3",children:[Lo(k,{title:"Bg Color 1",info:!0,children:Lo(Le,{defaultValue:e,setValue:t})}),Lo(k,{title:"Bg Color 2",info:!0,children:Lo(Le,{defaultValue:r,setValue:n})})]})};import*as Do from"react";import{jsx as Ue,jsxs as Ha}from"react/jsx-runtime";var Va=()=>{let[e,t]=N("uTime"),[r,n]=N("rangeStart"),[o,i]=N("rangeEnd"),[a,s]=Do.useState(""),[l,c]=N("pixelDensity"),[f,d]=N("frameRate"),[m,u]=N("destination"),[p,v]=N("format");return Do.useEffect(()=>{d(10)},[]),Ha("div",{className:"flex flex-col gap-3",children:[Ue(k,{title:"Start/End",info:!0,hoverContent:"Set a start and end of the repeated range.",isHovered:a,onMouseEnter:()=>{s("Start/End")},onMouseLeave:()=>{s("")},children:Ue(Zr,{defaultValue:[r,o],setValue:b=>{let[h,g]=b;r!==h&&(t(h),n(h)),o!==g&&i(g)},step:.1,min:0,max:40})}),Ue(k,{title:"Frame Rate",info:!0,hoverContent:"Frames per second. The higher the value is, the animation is smoother, but file gets larger.",isHovered:a,onMouseEnter:()=>{s("Frame Rate")},onMouseLeave:()=>{s("")},children:Ue(ae,{defaultValue:f,setValue:d,step:1,min:1,max:30})}),Ue(k,{title:"Pixel Density",info:!0,hoverContent:"The higher the pixel density, the more detailed the image is. If you want to extract a large GIF, set the value higher.",isHovered:a,onMouseEnter:()=>{s("Pixel Density")},onMouseLeave:()=>{s("")},children:Ue(ae,{defaultValue:l,setValue:c,step:1,min:1,max:9})}),Ha(k,{title:"Destination",info:!0,hoverContent:"Add the extracted file into the Figma canvas, or download in your device",isHovered:a,onMouseEnter:()=>{s("Destination")},onMouseLeave:()=>{s("")},children:[Ue(V,{name:"destination",value:"onCanvas",setValue:b=>{u(b),v("gif")},check:m==="onCanvas",label:"On canvas"}),Ue(V,{name:"destination",value:"localFile",setValue:u,check:m==="localFile",label:"Local file"})]}),m==="localFile"&&Ha(k,{title:"Format",autoScroll:!0,children:[Ue(V,{name:"format",value:"webm",setValue:v,check:p==="webm",label:".webm"}),Ue(V,{name:"format",value:"gif",setValue:v,check:p==="gif",label:".gif"})]})]})};import{useState as a0}from"react";import{motion as Rf}from"framer-motion";var Ef="f1eccf29b11824a9599eafab5bfc0a8687de5ce70852605629103e68248bf53c",e0=`._controlMobile_16m09_1 {
  width: 100%;
  height: fit-content;
}
._controlMobile_16m09_1 ._hideBtn_16m09_5 {
  width: 100vw;
  color: #ff430a;
}
._controlMobile_16m09_1 ._hideBtn_16m09_5 div {
  margin: 10px auto;
  display: flex;
  height: 1.8em;
  width: 1.8em;
  border-radius: 100%;
  background-color: white;
}
._controlMobile_16m09_1 ._hideBtn_16m09_5 p {
  line-height: 1.8em;
  width: 100%;
  text-align: center;
}`;(function(){if(typeof document<"u"&&!document.getElementById(Ef)){var e=document.createElement("style");e.id=Ef,e.textContent=e0,document.head.appendChild(e)}})();var Oo={controlMobile:"_controlMobile_16m09_1",hideBtn:"_hideBtn_16m09_5"};import t0,{useRef as r0}from"react";import{useAnimation as n0,motion as wf}from"framer-motion";import{jsx as Pf}from"react/jsx-runtime";function Ga({mode:e="mobile",setMode:t=void 0,children:r,activeTab:n="none",setActiveTab:o=void 0,className:i=""}){let a=n0();t0.useEffect(()=>{n==="none"?a.start({height:58,transition:{duration:.3}}):a.start({height:"fit-content",transition:{duration:.3}})},[n]);let s=r0(null);return ho(s,()=>o("none")),Pf(wf.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},style:{width:"100vw",height:"fit-content",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2},children:Pf(wf.div,{ref:s,className:j("z-10 rounded-sm",i),style:{width:"584px",display:"flex",flexDirection:"column",boxShadow:e==="mobile"||e==="web"?"0px 0px 20px 0px rgba(0, 0, 0, 0.1)":"none",background:e==="about"?"#141414":"white",originY:1,justifyContent:"flex-end",marginBottom:20},transition:{type:"spring",damping:12,stiffness:200,delay:2},animate:a,children:r})})}Ga.defaultProps={};import{motion as o0}from"framer-motion";import{jsx as tn,jsxs as i0}from"react/jsx-runtime";var Cf=({activeTab:e,setActiveTab:t,isFigma:r,isMobile:n,isGIF:o})=>{let[i]=N("type");return i?i0(o0.div,{className:j("w-full bg-controls-panel-mobile text-primary mx-auto relative hide-scrollbar h-fit"),style:{originY:1},animate:{padding:e==="none"?0:20,overflow:e==="none"?"hidden":"visible",borderRadius:n===!0?0:"4px 4px 0 0",marginBottom:n===!0&&r===!1?56:0},transition:{duration:.72,padding:{duration:0},overflow:{delay:e!=="none"?.72:0}},children:[e==="shape"&&o===!1&&tn(Fa,{}),e==="colors"&&o===!1&&tn(ka,{isFigma:r}),e==="motion"&&o===!1&&tn(Ba,{}),e==="view"&&o===!1&&tn(Ua,{}),o===!0&&tn(Va,{})]}):null};import{jsx as ot,jsxs as qa}from"react/jsx-runtime";var Af=({isMobile:e,isFigma:t=!1,isGIF:r=!1})=>{let n=!e&&!t,[o,i]=a0(n?"none":"shape"),a=Xe(c=>c.mode),s=Xe(c=>c.setMode),l=qa("div",{style:{display:"flex",flexDirection:t===!0?"column-reverse":"column",justifyContent:"flex-end"},onMouseMove:()=>{ie.setState({hover:"control"})},onMouseLeave:()=>{ie.setState({hover:"default"})},children:[ot(Cf,{activeTab:o,setActiveTab:i,isFigma:t,isMobile:e,isGIF:r}),qa("div",{style:{width:"100%",display:r===!0?"none":"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",height:58},className:j(t&&"sticky top-0",e&&"absolute z-allControl"),children:[ot(Mo,{activeTab:o,setActiveTab:i,isMobile:e}),e===!1&&ot(Ro,{darkMode:!1})]})]});return ot("div",{children:e===!0?qa("div",{className:Oo.controlMobile,children:[!t&&ot(Rf.div,{className:Oo.floating,children:ot(Rf.div,{className:Oo.hideBtn,onClick:()=>{i("none")},animate:{opacity:o==="none"?0:1,marginTop:o==="none"?"5px":"-35px",transition:{duration:.5}},children:ot("div",{children:ot("p",{children:"\u2715"})})})}),l]}):ot(Ga,{mode:a,setMode:s,activeTab:o,setActiveTab:i,children:l})})};import*as If from"react";import{motion as zo,useAnimation as Fo}from"framer-motion";var Mf="33d775a5affb6a8afc7cd758e2e859e369362ecc83ee9f4e5d347568463de16e",s0=`@import url("https://fonts.googleapis.com/css2?family=Lora:wght@400;500;700&display=swap");
._presetWrapper_153u3_2 {
  width: 100vw;
  height: fit-content;
}
@media (max-width: 640px) {
  ._presetWrapper_153u3_2 {
    width: fit-content;
  }
}

._presetTitle_153u3_12 {
  width: 100vw;
  height: fit-content;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: "Lora", serif;
  font-weight: 500;
}

._slideBtns_153u3_22 {
  display: flex;
  font-family: "Inter", sans-serif;
}

._slideBtn_153u3_22 {
  border-radius: 100px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  margin-right: -5px;
}

._clickOnTitle_153u3_36 {
  width: 100%;
  height: 50%;
  background: white;
  cursor: pointer;
  filter: blur(30px);
  border-radius: 100%;
}`;(function(){if(typeof document<"u"&&!document.getElementById(Mf)){var e=document.createElement("style");e.id=Mf,e.textContent=s0,document.head.appendChild(e)}})();var xt={presetWrapper:"_presetWrapper_153u3_2",presetTitle:"_presetTitle_153u3_12",slideBtns:"_slideBtns_153u3_22",slideBtn:"_slideBtn_153u3_22",clickOnTitle:"_clickOnTitle_153u3_36"};import{jsx as mr,jsxs as ko}from"react/jsx-runtime";function Ya({color:e="#FF430A",title:t="title",index:r=0,fontSize:n=120,isMobile:o=!1,arrowOn:i=!0}){let a=Xe(p=>p.activePreset),s=Xe(p=>p.setActivePreset),l=()=>{let p;a!==We.length-1?p=a+1:p=0,s(p),dt(We[p].url)},c=()=>{let p;a!==0?p=a-1:p=We.length-1,s(p),dt(We[p].url)};If.useEffect(()=>{d.start({opacity:1,transition:{delay:.3}}),f.start({opacity:1,transition:{delay:.3}})},[]);let f=Fo(),d=Fo(),m=Fo(),u=Fo();return mr("div",{className:xt.presetWrapper,children:ko("div",{className:xt.presetTitle,style:{display:r===a?"flex":"none",gap:25,flexDirection:o===!0?"column":"row"},children:[ko("div",{style:{width:"fit-content",height:"fit-content",position:"relative"},children:[ko("div",{style:{width:"100%",height:"100%",position:"absolute",display:"flex",flexDirection:"column",zIndex:10},children:[mr(zo.div,{className:xt.clickOnTitle,style:{opacity:0},whileHover:{opacity:.4},animate:m,onClick:l,onMouseMove:()=>{ie.setState({hover:"arrowUp"}),f.start({opacity:1}),d.start({opacity:.4})},onMouseLeave:()=>{ie.setState({hover:"default"}),f.start({opacity:1}),d.start({opacity:1})}}),mr(zo.div,{className:xt.clickOnTitle,style:{opacity:0},whileHover:{opacity:.4},animate:u,onClick:c,onMouseMove:()=>{ie.setState({hover:"arrowDown"}),d.start({opacity:1}),f.start({opacity:.4})},onMouseLeave:()=>{ie.setState({hover:"default"}),d.start({opacity:1}),f.start({opacity:1})}})]}),mr(Ma,{delay:0,font:'"Lora", serif',color:e,fontSize:n,yBefore:50,content:o===!0?t.substring(3):t})]}),ko("div",{className:xt.slideBtns,style:{color:e,fontSize:o===!0?22:30,display:i===!1?"none":"flex"},children:[mr(zo.div,{className:xt.slideBtn,initial:{opacity:0},animate:d,onMouseOver:()=>{u.start({opacity:.4}),f.start({opacity:.4}),ie.setState({hover:"arrowDown"})},onMouseLeave:()=>{m.start({opacity:0}),u.start({opacity:0}),d.start({opacity:1}),f.start({opacity:1}),ie.setState({hover:"default"})},onClick:c,style:{width:o?35:40,height:o?35:40},children:"\u2193"}),mr(zo.div,{className:xt.slideBtn,animate:f,initial:{opacity:0},onMouseOver:()=>{m.start({opacity:.4}),d.start({opacity:.4}),ie.setState({hover:"arrowUp"})},onMouseLeave:()=>{m.start({opacity:0}),u.start({opacity:0}),d.start({opacity:1}),f.start({opacity:1}),ie.setState({hover:"default"})},onClick:l,style:{width:o===!0?35:40,height:o===!0?35:40},children:"\u2191"})]})]})})}import{Fragment as c0,jsx as Nf}from"react/jsx-runtime";function l0({isMobile:e=!1,fontSize:t=120,arrowOn:r=!0}){return Nf(c0,{children:We.map((n,o)=>Nf(Ya,{index:o,color:n.color,title:o<10?"0"+o.toString()+" "+n.title:o.toString()+" "+n.title,isMobile:e,arrowOn:r,fontSize:t},o))})}var d0=(...e)=>e.filter(t=>!!t).join(" ");var Kf=st(Ye());import{useEffect as Dt,useLayoutEffect as I0,useState as De}from"react";import N0 from"react";import{useAnimationControls as L0}from"framer-motion";var Lf={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function rn(e=256){let t=0,r=new Uint8Array(e);return{get buffer(){return r.buffer},reset(){t=0},bytesView(){return r.subarray(0,t)},bytes(){return r.slice(0,t)},writeByte(o){n(t+1),r[t]=o,t++},writeBytes(o,i=0,a=o.length){n(t+a);for(let s=0;s<a;s++)r[t++]=o[s+i]},writeBytesView(o,i=0,a=o.byteLength){n(t+a),r.set(o.subarray(i,i+a),t),t+=a}};function n(o){var i=r.length;if(i>=o)return;var a=1024*1024;o=Math.max(o,i*(i<a?2:1.125)>>>0),i!=0&&(o=Math.max(o,256));let s=r;r=new Uint8Array(o),t>0&&r.set(s.subarray(0,t),0)}}var ja=12,Df=5003,f0=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function u0(e,t,r,n,o=rn(512),i=new Uint8Array(256),a=new Int32Array(Df),s=new Int32Array(Df)){let l=a.length,c=Math.max(2,n);i.fill(0),s.fill(0),a.fill(-1);let f=0,d=0,m=c+1,u=m,p=!1,v=u,b=(1<<v)-1,h=1<<m-1,g=h+1,x=h+2,_=0,y=r[0],S=0;for(let T=l;T<65536;T*=2)++S;S=8-S,o.writeByte(c),P(h);let E=r.length;for(let T=1;T<E;T++){e:{let R=r[T],M=(R<<ja)+y,L=R<<S^y;if(a[L]===M){y=s[L];break e}let F=L===0?1:l-L;for(;a[L]>=0;)if(L-=F,L<0&&(L+=l),a[L]===M){y=s[L];break e}P(y),y=R,x<1<<ja?(s[L]=x++,a[L]=M):(a.fill(-1),x=h+2,p=!0,P(h))}}return P(y),P(g),o.writeByte(0),o.bytesView();function P(T){for(f&=f0[d],d>0?f|=T<<d:f=T,d+=v;d>=8;)i[_++]=f&255,_>=254&&(o.writeByte(_),o.writeBytesView(i,0,_),_=0),f>>=8,d-=8;if((x>b||p)&&(p?(v=u,b=(1<<v)-1,p=!1):(++v,b=v===ja?1<<v:(1<<v)-1)),T==g){for(;d>0;)i[_++]=f&255,_>=254&&(o.writeByte(_),o.writeBytesView(i,0,_),_=0),f>>=8,d-=8;_>0&&(o.writeByte(_),o.writeBytesView(i,0,_),_=0)}}}var Of=u0;function Bo(e,t,r){return e<<8&63488|t<<2&992|r>>3}function Uo(e,t,r,n){return e>>4|t&240|(r&240)<<4|(n&240)<<8}function Ho(e,t,r){return e>>4<<8|t&240|r>>4}function Vo(e,t,r){return e<t?t:e>r?r:e}function nn(e){return e*e}function zf(e,t,r){var n=0,o=1e100;let i=e[t],a=i.cnt,s=i.ac,l=i.rc,c=i.gc,f=i.bc;for(var d=i.fw;d!=0;d=e[d].fw){let u=e[d],p=u.cnt,v=a*p/(a+p);if(!(v>=o)){var m=0;r&&(m+=v*nn(u.ac-s),m>=o)||(m+=v*nn(u.rc-l),!(m>=o)&&(m+=v*nn(u.gc-c),!(m>=o)&&(m+=v*nn(u.bc-f),!(m>=o)&&(o=m,n=d))))}}i.err=o,i.nn=n}function Wa(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function m0(e,t){let r=t==="rgb444"?4096:65536,n=new Array(r),o=e.length;if(t==="rgba4444")for(let i=0;i<o;++i){let a=e[i],s=a>>24&255,l=a>>16&255,c=a>>8&255,f=a&255,d=Uo(f,c,l,s),m=d in n?n[d]:n[d]=Wa();m.rc+=f,m.gc+=c,m.bc+=l,m.ac+=s,m.cnt++}else if(t==="rgb444")for(let i=0;i<o;++i){let a=e[i],s=a>>16&255,l=a>>8&255,c=a&255,f=Ho(c,l,s),d=f in n?n[f]:n[f]=Wa();d.rc+=c,d.gc+=l,d.bc+=s,d.cnt++}else for(let i=0;i<o;++i){let a=e[i],s=a>>16&255,l=a>>8&255,c=a&255,f=Bo(c,l,s),d=f in n?n[f]:n[f]=Wa();d.rc+=c,d.gc+=l,d.bc+=s,d.cnt++}return n}function Go(e,t,r={}){let{format:n="rgb565",clearAlpha:o=!0,clearAlphaColor:i=0,clearAlphaThreshold:a=0,oneBitAlpha:s=!1}=r;if(!e||!e.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(e instanceof Uint8Array)&&!(e instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");let l=new Uint32Array(e.buffer),c=r.useSqrt!==!1,f=n==="rgba4444",d=m0(l,n),m=d.length,u=m-1,p=new Uint32Array(m+1);for(var v=0,h=0;h<m;++h){let B=d[h];if(B!=null){var b=1/B.cnt;f&&(B.ac*=b),B.rc*=b,B.gc*=b,B.bc*=b,d[v++]=B}}nn(t)/v<.022&&(c=!1);for(var h=0;h<v-1;++h)d[h].fw=h+1,d[h+1].bk=h,c&&(d[h].cnt=Math.sqrt(d[h].cnt));c&&(d[h].cnt=Math.sqrt(d[h].cnt));var g,x,_;for(h=0;h<v;++h){zf(d,h,!1);var y=d[h].err;for(x=++p[0];x>1&&(_=x>>1,!(d[g=p[_]].err<=y));x=_)p[x]=g;p[x]=h}var S=v-t;for(h=0;h<S;){for(var E;;){var P=p[1];if(E=d[P],E.tm>=E.mtm&&d[E.nn].mtm<=E.tm)break;E.mtm==u?P=p[1]=p[p[0]--]:(zf(d,P,!1),E.tm=h);var y=d[P].err;for(x=1;(_=x+x)<=p[0]&&(_<p[0]&&d[p[_]].err>d[p[_+1]].err&&_++,!(y<=d[g=p[_]].err));x=_)p[x]=g;p[x]=P}var T=d[E.nn],R=E.cnt,M=T.cnt,b=1/(R+M);f&&(E.ac=b*(R*E.ac+M*T.ac)),E.rc=b*(R*E.rc+M*T.rc),E.gc=b*(R*E.gc+M*T.gc),E.bc=b*(R*E.bc+M*T.bc),E.cnt+=T.cnt,E.mtm=++h,d[T.bk].fw=T.fw,d[T.fw].bk=T.bk,T.mtm=u}let L=[];var F=0;for(h=0;;++F){let G=Vo(Math.round(d[h].rc),0,255),B=Vo(Math.round(d[h].gc),0,255),ce=Vo(Math.round(d[h].bc),0,255),Z=255;f&&(Z=Vo(Math.round(d[h].ac),0,255),s&&(Z=Z<=(typeof s=="number"?s:127)?0:255),o&&Z<=a&&(G=B=ce=i,Z=0));let re=f?[G,B,ce,Z]:[G,B,ce];if(p0(L,re)||L.push(re),(h=d[h].fw)==0)break}return L}function p0(e,t){for(let r=0;r<e.length;r++){let n=e[r],o=n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2],i=n.length>=4&&t.length>=4?n[3]===t[3]:!0;if(o&&i)return!0}return!1}function Xa(e,t,r="rgb565"){if(!e||!e.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(e instanceof Uint8Array)&&!(e instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(t.length>256)throw new Error("applyPalette() only works with 256 colors or less");let n=new Uint32Array(e.buffer),o=n.length,i=r==="rgb444"?4096:65536,a=new Uint8Array(o),s=new Array(i),l=r==="rgba4444";if(r==="rgba4444")for(let c=0;c<o;c++){let f=n[c],d=f>>24&255,m=f>>16&255,u=f>>8&255,p=f&255,v=Uo(p,u,m,d),b=v in s?s[v]:s[v]=h0(p,u,m,d,t);a[c]=b}else{let c=r==="rgb444"?Ho:Bo;for(let f=0;f<o;f++){let d=n[f],m=d>>16&255,u=d>>8&255,p=d&255,v=c(p,u,m),b=v in s?s[v]:s[v]=g0(p,u,m,t);a[f]=b}}return a}function h0(e,t,r,n,o){let i=0,a=1e100;for(let s=0;s<o.length;s++){let l=o[s],c=l[3],f=Nt(c-n);if(f>a)continue;let d=l[0];if(f+=Nt(d-e),f>a)continue;let m=l[1];if(f+=Nt(m-t),f>a)continue;let u=l[2];f+=Nt(u-r),!(f>a)&&(a=f,i=s)}return i}function g0(e,t,r,n){let o=0,i=1e100;for(let a=0;a<n.length;a++){let s=n[a],l=s[0],c=Nt(l-e);if(c>i)continue;let f=s[1];if(c+=Nt(f-t),c>i)continue;let d=s[2];c+=Nt(d-r),!(c>i)&&(i=c,o=a)}return o}function Nt(e){return e*e}function kf(e={}){let{initialCapacity:t=4096,auto:r=!0}=e,n=rn(t),o=5003,i=new Uint8Array(256),a=new Int32Array(o),s=new Int32Array(o),l=!1;return{reset(){n.reset(),l=!1},finish(){n.writeByte(Lf.trailer)},bytes(){return n.bytes()},bytesView(){return n.bytesView()},get buffer(){return n.buffer},get stream(){return n},writeHeader:c,writeFrame(f,d,m,u={}){let{transparent:p=!1,transparentIndex:v=0,delay:b=0,palette:h=null,repeat:g=0,colorDepth:x=8,dispose:_=-1}=u,y=!1;if(r?l||(y=!0,c(),l=!0):y=Boolean(u.first),d=Math.max(0,Math.floor(d)),m=Math.max(0,Math.floor(m)),y){if(!h)throw new Error("First frame must include a { palette } option");v0(n,d,m,h,x),Ff(n,h),g>=0&&x0(n,g)}let S=Math.round(b/10);y0(n,_,S,p,v);let E=Boolean(h)&&!y;b0(n,d,m,E?h:null),E&&Ff(n,h),_0(n,f,d,m,x,i,a,s)}};function c(){Bf(n,"GIF89a")}}function y0(e,t,r,n,o){e.writeByte(33),e.writeByte(249),e.writeByte(4),o<0&&(o=0,n=!1);var i,a;n?(i=1,a=2):(i=0,a=0),t>=0&&(a=t&7),a<<=2;let s=0;e.writeByte(0|a|s|i),bt(e,r),e.writeByte(o||0),e.writeByte(0)}function v0(e,t,r,n,o=8){let s=Za(n.length)-1,l=1<<7|o-1<<4|0<<3|s,c=0,f=0;bt(e,t),bt(e,r),e.writeBytes([l,c,f])}function x0(e,t){e.writeByte(33),e.writeByte(255),e.writeByte(11),Bf(e,"NETSCAPE2.0"),e.writeByte(3),e.writeByte(1),bt(e,t),e.writeByte(0)}function Ff(e,t){let r=1<<Za(t.length);for(let n=0;n<r;n++){let o=[0,0,0];n<t.length&&(o=t[n]),e.writeByte(o[0]),e.writeByte(o[1]),e.writeByte(o[2])}}function b0(e,t,r,n){if(e.writeByte(44),bt(e,0),bt(e,0),bt(e,t),bt(e,r),n){let a=Za(n.length)-1;e.writeByte(128|a)}else e.writeByte(0)}function _0(e,t,r,n,o=8,i,a,s){Of(r,n,t,o,e,i,a,s)}function bt(e,t){e.writeByte(t&255),e.writeByte(t>>8&255)}function Bf(e,t){for(var r=0;r<t.length;r++)e.writeByte(t.charCodeAt(r))}function Za(e){return Math.max(Math.ceil(Math.log2(e)),1)}function qo(e){return new Promise(t=>setTimeout(t,e*1e3))}function on(e){return q(this,null,function*(){let t=new Image;return t.src=e,yield new Promise((r,n)=>{t.onload=r,t.onerror=n}),t})}var T0=`(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var NeuQuant=require("./TypedNeuQuant.js");var LZWEncoder=require("./LZWEncoder.js");function ByteArray(){this.page=-1;this.pages=[];this.newPage()}ByteArray.pageSize=4096;ByteArray.charMap={};for(var i=0;i<256;i++)ByteArray.charMap[i]=String.fromCharCode(i);ByteArray.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(ByteArray.pageSize);this.cursor=0};ByteArray.prototype.getData=function(){var rv="";for(var p=0;p<this.pages.length;p++){for(var i=0;i<ByteArray.pageSize;i++){rv+=ByteArray.charMap[this.pages[p][i]]}}return rv};ByteArray.prototype.writeByte=function(val){if(this.cursor>=ByteArray.pageSize)this.newPage();this.pages[this.page][this.cursor++]=val};ByteArray.prototype.writeUTFBytes=function(string){for(var l=string.length,i=0;i<l;i++)this.writeByte(string.charCodeAt(i))};ByteArray.prototype.writeBytes=function(array,offset,length){for(var l=length||array.length,i=offset||0;i<l;i++)this.writeByte(array[i])};function GIFEncoder(width,height){this.width=~~width;this.height=~~height;this.transparent=null;this.transIndex=0;this.repeat=-1;this.delay=0;this.image=null;this.pixels=null;this.indexedPixels=null;this.colorDepth=null;this.colorTab=null;this.neuQuant=null;this.usedEntry=new Array;this.palSize=7;this.dispose=-1;this.firstFrame=true;this.sample=10;this.dither=false;this.globalPalette=false;this.out=new ByteArray}GIFEncoder.prototype.setDelay=function(milliseconds){this.delay=Math.round(milliseconds/10)};GIFEncoder.prototype.setFrameRate=function(fps){this.delay=Math.round(100/fps)};GIFEncoder.prototype.setDispose=function(disposalCode){if(disposalCode>=0)this.dispose=disposalCode};GIFEncoder.prototype.setRepeat=function(repeat){this.repeat=repeat};GIFEncoder.prototype.setTransparent=function(color){this.transparent=color};GIFEncoder.prototype.addFrame=function(imageData){this.image=imageData;this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null;this.getImagePixels();this.analyzePixels();if(this.globalPalette===true)this.globalPalette=this.colorTab;if(this.firstFrame){this.writeLSD();this.writePalette();if(this.repeat>=0){this.writeNetscapeExt()}}this.writeGraphicCtrlExt();this.writeImageDesc();if(!this.firstFrame&&!this.globalPalette)this.writePalette();this.writePixels();this.firstFrame=false};GIFEncoder.prototype.finish=function(){this.out.writeByte(59)};GIFEncoder.prototype.setQuality=function(quality){if(quality<1)quality=1;this.sample=quality};GIFEncoder.prototype.setDither=function(dither){if(dither===true)dither="FloydSteinberg";this.dither=dither};GIFEncoder.prototype.setGlobalPalette=function(palette){this.globalPalette=palette};GIFEncoder.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette};GIFEncoder.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")};GIFEncoder.prototype.analyzePixels=function(){if(!this.colorTab){this.neuQuant=new NeuQuant(this.pixels,this.sample);this.neuQuant.buildColormap();this.colorTab=this.neuQuant.getColormap()}if(this.dither){this.ditherPixels(this.dither.replace("-serpentine",""),this.dither.match(/-serpentine/)!==null)}else{this.indexPixels()}this.pixels=null;this.colorDepth=8;this.palSize=7;if(this.transparent!==null){this.transIndex=this.findClosest(this.transparent,true)}};GIFEncoder.prototype.indexPixels=function(imgq){var nPix=this.pixels.length/3;this.indexedPixels=new Uint8Array(nPix);var k=0;for(var j=0;j<nPix;j++){var index=this.findClosestRGB(this.pixels[k++]&255,this.pixels[k++]&255,this.pixels[k++]&255);this.usedEntry[index]=true;this.indexedPixels[j]=index}};GIFEncoder.prototype.ditherPixels=function(kernel,serpentine){var kernels={FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]};if(!kernel||!kernels[kernel]){throw"Unknown dithering kernel: "+kernel}var ds=kernels[kernel];var index=0,height=this.height,width=this.width,data=this.pixels;var direction=serpentine?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var y=0;y<height;y++){if(serpentine)direction=direction*-1;for(var x=direction==1?0:width-1,xend=direction==1?width:0;x!==xend;x+=direction){index=y*width+x;var idx=index*3;var r1=data[idx];var g1=data[idx+1];var b1=data[idx+2];idx=this.findClosestRGB(r1,g1,b1);this.usedEntry[idx]=true;this.indexedPixels[index]=idx;idx*=3;var r2=this.colorTab[idx];var g2=this.colorTab[idx+1];var b2=this.colorTab[idx+2];var er=r1-r2;var eg=g1-g2;var eb=b1-b2;for(var i=direction==1?0:ds.length-1,end=direction==1?ds.length:0;i!==end;i+=direction){var x1=ds[i][1];var y1=ds[i][2];if(x1+x>=0&&x1+x<width&&y1+y>=0&&y1+y<height){var d=ds[i][0];idx=index+x1+y1*width;idx*=3;data[idx]=Math.max(0,Math.min(255,data[idx]+er*d));data[idx+1]=Math.max(0,Math.min(255,data[idx+1]+eg*d));data[idx+2]=Math.max(0,Math.min(255,data[idx+2]+eb*d))}}}}};GIFEncoder.prototype.findClosest=function(c,used){return this.findClosestRGB((c&16711680)>>16,(c&65280)>>8,c&255,used)};GIFEncoder.prototype.findClosestRGB=function(r,g,b,used){if(this.colorTab===null)return-1;if(this.neuQuant&&!used){return this.neuQuant.lookupRGB(r,g,b)}var c=b|g<<8|r<<16;var minpos=0;var dmin=256*256*256;var len=this.colorTab.length;for(var i=0,index=0;i<len;index++){var dr=r-(this.colorTab[i++]&255);var dg=g-(this.colorTab[i++]&255);var db=b-(this.colorTab[i++]&255);var d=dr*dr+dg*dg+db*db;if((!used||this.usedEntry[index])&&d<dmin){dmin=d;minpos=index}}return minpos};GIFEncoder.prototype.getImagePixels=function(){var w=this.width;var h=this.height;this.pixels=new Uint8Array(w*h*3);var data=this.image;var srcPos=0;var count=0;for(var i=0;i<h;i++){for(var j=0;j<w;j++){this.pixels[count++]=data[srcPos++];this.pixels[count++]=data[srcPos++];this.pixels[count++]=data[srcPos++];srcPos++}}};GIFEncoder.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33);this.out.writeByte(249);this.out.writeByte(4);var transp,disp;if(this.transparent===null){transp=0;disp=0}else{transp=1;disp=2}if(this.dispose>=0){disp=dispose&7}disp<<=2;this.out.writeByte(0|disp|0|transp);this.writeShort(this.delay);this.out.writeByte(this.transIndex);this.out.writeByte(0)};GIFEncoder.prototype.writeImageDesc=function(){this.out.writeByte(44);this.writeShort(0);this.writeShort(0);this.writeShort(this.width);this.writeShort(this.height);if(this.firstFrame||this.globalPalette){this.out.writeByte(0)}else{this.out.writeByte(128|0|0|0|this.palSize)}};GIFEncoder.prototype.writeLSD=function(){this.writeShort(this.width);this.writeShort(this.height);this.out.writeByte(128|112|0|this.palSize);this.out.writeByte(0);this.out.writeByte(0)};GIFEncoder.prototype.writeNetscapeExt=function(){this.out.writeByte(33);this.out.writeByte(255);this.out.writeByte(11);this.out.writeUTFBytes("NETSCAPE2.0");this.out.writeByte(3);this.out.writeByte(1);this.writeShort(this.repeat);this.out.writeByte(0)};GIFEncoder.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);var n=3*256-this.colorTab.length;for(var i=0;i<n;i++)this.out.writeByte(0)};GIFEncoder.prototype.writeShort=function(pValue){this.out.writeByte(pValue&255);this.out.writeByte(pValue>>8&255)};GIFEncoder.prototype.writePixels=function(){var enc=new LZWEncoder(this.width,this.height,this.indexedPixels,this.colorDepth);enc.encode(this.out)};GIFEncoder.prototype.stream=function(){return this.out};module.exports=GIFEncoder},{"./LZWEncoder.js":2,"./TypedNeuQuant.js":3}],2:[function(require,module,exports){var EOF=-1;var BITS=12;var HSIZE=5003;var masks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function LZWEncoder(width,height,pixels,colorDepth){var initCodeSize=Math.max(2,colorDepth);var accum=new Uint8Array(256);var htab=new Int32Array(HSIZE);var codetab=new Int32Array(HSIZE);var cur_accum,cur_bits=0;var a_count;var free_ent=0;var maxcode;var clear_flg=false;var g_init_bits,ClearCode,EOFCode;function char_out(c,outs){accum[a_count++]=c;if(a_count>=254)flush_char(outs)}function cl_block(outs){cl_hash(HSIZE);free_ent=ClearCode+2;clear_flg=true;output(ClearCode,outs)}function cl_hash(hsize){for(var i=0;i<hsize;++i)htab[i]=-1}function compress(init_bits,outs){var fcode,c,i,ent,disp,hsize_reg,hshift;g_init_bits=init_bits;clear_flg=false;n_bits=g_init_bits;maxcode=MAXCODE(n_bits);ClearCode=1<<init_bits-1;EOFCode=ClearCode+1;free_ent=ClearCode+2;a_count=0;ent=nextPixel();hshift=0;for(fcode=HSIZE;fcode<65536;fcode*=2)++hshift;hshift=8-hshift;hsize_reg=HSIZE;cl_hash(hsize_reg);output(ClearCode,outs);outer_loop:while((c=nextPixel())!=EOF){fcode=(c<<BITS)+ent;i=c<<hshift^ent;if(htab[i]===fcode){ent=codetab[i];continue}else if(htab[i]>=0){disp=hsize_reg-i;if(i===0)disp=1;do{if((i-=disp)<0)i+=hsize_reg;if(htab[i]===fcode){ent=codetab[i];continue outer_loop}}while(htab[i]>=0)}output(ent,outs);ent=c;if(free_ent<1<<BITS){codetab[i]=free_ent++;htab[i]=fcode}else{cl_block(outs)}}output(ent,outs);output(EOFCode,outs)}function encode(outs){outs.writeByte(initCodeSize);remaining=width*height;curPixel=0;compress(initCodeSize+1,outs);outs.writeByte(0)}function flush_char(outs){if(a_count>0){outs.writeByte(a_count);outs.writeBytes(accum,0,a_count);a_count=0}}function MAXCODE(n_bits){return(1<<n_bits)-1}function nextPixel(){if(remaining===0)return EOF;--remaining;var pix=pixels[curPixel++];return pix&255}function output(code,outs){cur_accum&=masks[cur_bits];if(cur_bits>0)cur_accum|=code<<cur_bits;else cur_accum=code;cur_bits+=n_bits;while(cur_bits>=8){char_out(cur_accum&255,outs);cur_accum>>=8;cur_bits-=8}if(free_ent>maxcode||clear_flg){if(clear_flg){maxcode=MAXCODE(n_bits=g_init_bits);clear_flg=false}else{++n_bits;if(n_bits==BITS)maxcode=1<<BITS;else maxcode=MAXCODE(n_bits)}}if(code==EOFCode){while(cur_bits>0){char_out(cur_accum&255,outs);cur_accum>>=8;cur_bits-=8}flush_char(outs)}}this.encode=encode}module.exports=LZWEncoder},{}],3:[function(require,module,exports){var ncycles=100;var netsize=256;var maxnetpos=netsize-1;var netbiasshift=4;var intbiasshift=16;var intbias=1<<intbiasshift;var gammashift=10;var gamma=1<<gammashift;var betashift=10;var beta=intbias>>betashift;var betagamma=intbias<<gammashift-betashift;var initrad=netsize>>3;var radiusbiasshift=6;var radiusbias=1<<radiusbiasshift;var initradius=initrad*radiusbias;var radiusdec=30;var alphabiasshift=10;var initalpha=1<<alphabiasshift;var alphadec;var radbiasshift=8;var radbias=1<<radbiasshift;var alpharadbshift=alphabiasshift+radbiasshift;var alpharadbias=1<<alpharadbshift;var prime1=499;var prime2=491;var prime3=487;var prime4=503;var minpicturebytes=3*prime4;function NeuQuant(pixels,samplefac){var network;var netindex;var bias;var freq;var radpower;function init(){network=[];netindex=new Int32Array(256);bias=new Int32Array(netsize);freq=new Int32Array(netsize);radpower=new Int32Array(netsize>>3);var i,v;for(i=0;i<netsize;i++){v=(i<<netbiasshift+8)/netsize;network[i]=new Float64Array([v,v,v,0]);freq[i]=intbias/netsize;bias[i]=0}}function unbiasnet(){for(var i=0;i<netsize;i++){network[i][0]>>=netbiasshift;network[i][1]>>=netbiasshift;network[i][2]>>=netbiasshift;network[i][3]=i}}function altersingle(alpha,i,b,g,r){network[i][0]-=alpha*(network[i][0]-b)/initalpha;network[i][1]-=alpha*(network[i][1]-g)/initalpha;network[i][2]-=alpha*(network[i][2]-r)/initalpha}function alterneigh(radius,i,b,g,r){var lo=Math.abs(i-radius);var hi=Math.min(i+radius,netsize);var j=i+1;var k=i-1;var m=1;var p,a;while(j<hi||k>lo){a=radpower[m++];if(j<hi){p=network[j++];p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias}if(k>lo){p=network[k--];p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias}}}function contest(b,g,r){var bestd=~(1<<31);var bestbiasd=bestd;var bestpos=-1;var bestbiaspos=bestpos;var i,n,dist,biasdist,betafreq;for(i=0;i<netsize;i++){n=network[i];dist=Math.abs(n[0]-b)+Math.abs(n[1]-g)+Math.abs(n[2]-r);if(dist<bestd){bestd=dist;bestpos=i}biasdist=dist-(bias[i]>>intbiasshift-netbiasshift);if(biasdist<bestbiasd){bestbiasd=biasdist;bestbiaspos=i}betafreq=freq[i]>>betashift;freq[i]-=betafreq;bias[i]+=betafreq<<gammashift}freq[bestpos]+=beta;bias[bestpos]-=betagamma;return bestbiaspos}function inxbuild(){var i,j,p,q,smallpos,smallval,previouscol=0,startpos=0;for(i=0;i<netsize;i++){p=network[i];smallpos=i;smallval=p[1];for(j=i+1;j<netsize;j++){q=network[j];if(q[1]<smallval){smallpos=j;smallval=q[1]}}q=network[smallpos];if(i!=smallpos){j=q[0];q[0]=p[0];p[0]=j;j=q[1];q[1]=p[1];p[1]=j;j=q[2];q[2]=p[2];p[2]=j;j=q[3];q[3]=p[3];p[3]=j}if(smallval!=previouscol){netindex[previouscol]=startpos+i>>1;for(j=previouscol+1;j<smallval;j++)netindex[j]=i;previouscol=smallval;startpos=i}}netindex[previouscol]=startpos+maxnetpos>>1;for(j=previouscol+1;j<256;j++)netindex[j]=maxnetpos}function inxsearch(b,g,r){var a,p,dist;var bestd=1e3;var best=-1;var i=netindex[g];var j=i-1;while(i<netsize||j>=0){if(i<netsize){p=network[i];dist=p[1]-g;if(dist>=bestd)i=netsize;else{i++;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3]}}}}if(j>=0){p=network[j];dist=g-p[1];if(dist>=bestd)j=-1;else{j--;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3]}}}}}return best}function learn(){var i;var lengthcount=pixels.length;var alphadec=30+(samplefac-1)/3;var samplepixels=lengthcount/(3*samplefac);var delta=~~(samplepixels/ncycles);var alpha=initalpha;var radius=initradius;var rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(i=0;i<rad;i++)radpower[i]=alpha*((rad*rad-i*i)*radbias/(rad*rad));var step;if(lengthcount<minpicturebytes){samplefac=1;step=3}else if(lengthcount%prime1!==0){step=3*prime1}else if(lengthcount%prime2!==0){step=3*prime2}else if(lengthcount%prime3!==0){step=3*prime3}else{step=3*prime4}var b,g,r,j;var pix=0;i=0;while(i<samplepixels){b=(pixels[pix]&255)<<netbiasshift;g=(pixels[pix+1]&255)<<netbiasshift;r=(pixels[pix+2]&255)<<netbiasshift;j=contest(b,g,r);altersingle(alpha,j,b,g,r);if(rad!==0)alterneigh(rad,j,b,g,r);pix+=step;if(pix>=lengthcount)pix-=lengthcount;i++;if(delta===0)delta=1;if(i%delta===0){alpha-=alpha/alphadec;radius-=radius/radiusdec;rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(j=0;j<rad;j++)radpower[j]=alpha*((rad*rad-j*j)*radbias/(rad*rad))}}}function buildColormap(){init();learn();unbiasnet();inxbuild()}this.buildColormap=buildColormap;function getColormap(){var map=[];var index=[];for(var i=0;i<netsize;i++)index[network[i][3]]=i;var k=0;for(var l=0;l<netsize;l++){var j=index[l];map[k++]=network[j][0];map[k++]=network[j][1];map[k++]=network[j][2]}return map}this.getColormap=getColormap;this.lookupRGB=inxsearch}module.exports=NeuQuant},{}],4:[function(require,module,exports){var GIFEncoder,renderFrame;GIFEncoder=require("./GIFEncoder.js");renderFrame=function(frame){var encoder,page,stream,transfer;encoder=new GIFEncoder(frame.width,frame.height);if(frame.index===0){encoder.writeHeader()}else{encoder.firstFrame=false}encoder.setTransparent(frame.transparent);encoder.setRepeat(frame.repeat);encoder.setDelay(frame.delay);encoder.setQuality(frame.quality);encoder.setDither(frame.dither);encoder.setGlobalPalette(frame.globalPalette);encoder.addFrame(frame.data);if(frame.last){encoder.finish()}if(frame.globalPalette===true){frame.globalPalette=encoder.getGlobalPalette()}stream=encoder.stream();frame.data=stream.pages;frame.cursor=stream.cursor;frame.pageSize=stream.constructor.pageSize;if(frame.canTransfer){transfer=function(){var i,len,ref,results;ref=frame.data;results=[];for(i=0,len=ref.length;i<len;i++){page=ref[i];results.push(page.buffer)}return results}();return self.postMessage(frame,transfer)}else{return self.postMessage(frame)}};self.onmessage=function(event){return renderFrame(event.data)}},{"./GIFEncoder.js":1}]},{},[4]);`,Lt;try{Lt=new Blob([T0],{type:"application/javascript"})}catch(e){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,Lt=new BlobBuilder,Lt.append(response),Lt=Lt.getBlob()}var pr=!1;function Qa(e,t,r){return q(this,null,function*(){pr=!1;let{rangeStart:n,rangeEnd:o,setAnimate:i,setUTime:a,frameRate:s,grain:l}=e,f=1/s*1e3;i("off"),a(n);let d=o-n,m=Math.ceil(d*s);return console.log("totalFrames",m),console.log("duration",d),new Promise((u,p)=>q(this,null,function*(){let v=new Array(m).fill(0).map((g,x)=>x);if(r.signal.addEventListener("abort",()=>{pr=!0,p(new Error("Long-await function was cancelled."))}),l==="on"){let g=kf();for(let S of v){if(pr){t(-1);break}let E=n+S/s;a(E);let[P,T,R]=yield w0(),{data:M}=P,L="rgb444",F=Go(M,256,{format:L}),G=Xa(M,F,L);yield g.writeFrame(G,T,R,{palette:F,delay:f}),console.log("GIF Frame has written"),yield qo(.01),t(S/(m-1))}g.finish();let x=g.bytesView();e.destination==="localFile"&&!pr&&E0(x,"shadergradient.gif",{type:"image/gif"}),i("on");let y="data:image/gif;base64,"+(yield P0(x));u(Uf(y))}else{var h=new GIF({workers:2,quality:10,workerScript:URL.createObjectURL(Lt),dither:"Atkinson"});h.on("finished",_=>q(this,null,function*(){e.destination==="localFile"&&!pr&&Hf(_,"shadergradient.gif"),i("on");let y=yield C0(_);u(Uf(y))})),h.on("progress",_=>t(_));let x=document.createElement("canvas").getContext("2d");for(let _ of v){if(pr){t(-1);break}let y=n+_/s;a(y),yield S0(x,h)}h.render()}}))})}function S0(e,t){return q(this,null,function*(){var i;let n=((i=document.getElementById("gradientCanvas"))==null?void 0:i.children[0]).toDataURL("image/png",1),o=yield on(n);e.canvas.width=o.width,e.canvas.height=o.height,e.drawImage(o,0,0),t.addFrame(new ImageData(e.getImageData(0,0,e.canvas.width,e.canvas.height).data,e.canvas.width,e.canvas.height),{delay:100})})}function Uf(e){return q(this,null,function*(){let t=atob(e.split(",")[1]),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r})}function E0(e,t,r){let n=e instanceof Blob?e:new Blob([e],{type:r});Hf(n,t)}function Hf(e,t){let r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,n.click()}function w0(){return q(this,null,function*(){var i;let t=((i=document.getElementById("gradientCanvas"))==null?void 0:i.children[0]).toDataURL("image/png",1),r=yield on(t),o=document.createElement("canvas").getContext("2d");return o.canvas.width=r.width,o.canvas.height=r.height,o.drawImage(r,0,0),[new ImageData(o.getImageData(0,0,o.canvas.width,o.canvas.height).data,o.canvas.width,o.canvas.height),r.width,r.height]})}var P0=e=>q(void 0,null,function*(){let t=yield new Promise(r=>{let n=new FileReader;n.onload=()=>r(n.result),n.readAsDataURL(new Blob([e]))});return t.substring(t.indexOf(",")+1)});function C0(e){return q(this,null,function*(){return new Promise((t,r)=>{var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=function(){r(new Error("Failed to convert Blob to Data URL"))},n.readAsDataURL(e)})})}function Vf(){return q(this,null,function*(){return new Promise((e,t)=>q(this,null,function*(){let n=document.getElementById("gradientCanvas").children[0].toDataURL("image/png",1),o=yield on(n);console.log("Image has loaded");let i=yield R0(o);console.log(`${i.length} bytes!.`),e(i)}))})}function R0(e){return q(this,null,function*(){return new Promise((t,r)=>{let o=document.createElement("canvas").getContext("2d");o.canvas.width=e.width,o.canvas.height=e.height,o.drawImage(e,0,0),o.canvas.toBlob(i=>i.arrayBuffer().then(a=>t(new Uint8Array(a))).catch(r))})})}var Ka=!1;function Gf(e,t,r){return q(this,null,function*(){let{rangeStart:n,rangeEnd:o}=e,i=o-n;Ka=!1,A0(i),r.signal.addEventListener("abort",()=>{t(-1),Ka=!0,clearInterval(s),hr.stop()});let s=setInterval(()=>{t(l=>{let c=l+1/i;return c>=1&&clearInterval(s),c})},1e3)})}var hr,$a=[];function A0(e){return q(this,null,function*(){var n;let t=(n=document.getElementById("gradientCanvas"))==null?void 0:n.children[0];$a=[];let r=t.captureStream();hr=new MediaRecorder(r,{mimeType:"video/webm;codecs=h264",videoBitsPerSecond:8e6}),hr.addEventListener("dataavailable",o=>{o.data.size>0&&$a.push(o.data)}),hr.addEventListener("stop",()=>{Ka||M0()}),hr.start(),yield qo(e),hr.stop()})}function M0(){let e=new Blob($a,{type:"video/webm"}),t=URL.createObjectURL(e),r=document.createElement("a");document.body.appendChild(r),r.style="display: none",r.href=t,r.download="shadergradient.webm",r.click(),window.URL.revokeObjectURL(t)}var qf={},Ja=e=>{let t=e.toString();return t.substring(t.indexOf("{")+1,t.lastIndexOf("}"))},Yf=e=>q(void 0,null,function*(){parent.postMessage({pluginMessage:{type:"execute",code:Ja(e)}},"*")}),jf=(e,t,r)=>q(void 0,null,function*(){if(e.destination==="onCanvas"){let n=yield Qa(e,t,r);parent.postMessage({pluginMessage:{type:"SNAPSHOT_GIF",code:Ja(t),bytes:n}},"*")}else e.destination==="localFile"&&(e.format==="gif"?yield Qa(e,t,r):e.format==="webm"&&(yield Gf(e,t,r)))}),Wf=e=>q(void 0,null,function*(){let t=yield Vf();parent.postMessage({pluginMessage:{type:"SNAPSHOT",code:Ja(e),bytes:t}},"*")});import{useFrame as LR}from"@react-three/fiber";import{useRef as OR}from"react";import*as Xf from"three";var{to:zR,rotDur:FR,meshDur:kR,rotDelay:BR,meshDelay:UR}=Sn,es=new Xf.Clock;import{useDBTable as jo}from"https://framer.com/m/SupabaseConnector-ARlr.js";import{Fragment as k0,jsx as X,jsxs as B0}from"react/jsx-runtime";import{createElement as F0}from"react";function $R(e){return t=>X(e,I(w({},t),{onClick:()=>q(this,null,function*(){Yf(()=>{qf.createRectangle().resize(300,300)})})}))}function JR(e){return n=>{var o=n,{style:t}=o,r=D(o,["style"]);let[i]=ct(),a=!0;return X(e,I(w({},r),{style:I(w({},t),{cursor:"pointer",opacity:a?1:.5}),onTap:()=>{a?Wf(()=>{}):r==null||r.onTap()}}))}}function e2(e){return n=>{var o=n,{style:t}=o,r=D(o,["style"]);let[i]=ct(),a=!0,[,s]=Q("rangeStart"),[,l]=Q("rangeEnd"),[,c]=Q("pixelDensity"),[,f]=Q("toggleAxis"),[,d]=Q("zoomOut");return X(e,I(w({},r),{style:I(w({},t),{cursor:"pointer",opacity:a?1:.5}),onTap:()=>{a===!1?r==null||r.onError():(r==null||r.onTap(),s(5),l(8),c(2),f(!1),d(!1))},onError:()=>{console.log("error (checkEnabled)")}}))}}var Yo,Zf=7;function t2(e){return t=>X(e,I(w({},t),{onClick:()=>Yo.abort()}))}function r2(e){return n=>{var o=n,{style:t}=o,r=D(o,["style"]);var Ve;let[i,a]=De(-1),s=i>=0&&i<1,[l]=ct(),c=!0,[f,d]=Q("animate"),[,m]=Q("uTime"),[u]=Q("range"),[p]=Q("rangeStart"),[v]=Q("rangeEnd"),[b]=Q("frameRate"),[h]=Q("pixelDensity"),[g]=Q("destination"),[x]=Q("format"),[_]=Q("grain"),[y,S]=De(0),[E,P]=De(0),T=(Ve=l.user)==null?void 0:Ve.id,[R,M,L,F]=jo("users","sg-figma"),G=R.find(Te=>Te.figma_user_id===T),B=z0(G==null?void 0:G.trial_started_at),[ce,Z]=Xo("sub1"),re=B<=0&&!Z&&!ce,_e=re?"Upgrade to Pro":g==="onCanvas"?"Add GIF to canvas":"Download",He=!ce&&`(${B} days left)`;Dt(()=>{S(v-p)},[p,v]),Dt(()=>{P($f({format:x,duration:y,frameRate:b,pixelDensity:h}))},[x,y,h,b]);let it=f==="on"&&u==="enabled"&&E<300,at={rangeStart:p,rangeEnd:v,setAnimate:d,setUTime:m,frameRate:b,destination:g,format:x,grain:_},ue="dbLoading";return s?ue="loading":E>300?ue="error-1":c?Z?re&&(ue="upgrade"):ue="default":ue="error-2",B0(k0,{children:[F0(e,I(w({},r),{key:i,style:I(w({},t),{cursor:"pointer"}),onTapGIF:()=>{Yo=new AbortController,c&&it?re?r==null||r.onTapGIFU():G?(a(0),console.log("startTime",Date.now()),es.start(),jf(at,a,Yo)):r==null||r.onTapGIFN():r==null||r.onTapGIF()},onTapGIFU:()=>console.log("onTapGIFU (ignore the default event)"),onTapGIFN:()=>console.log("onTapGIFN (ignore the default event)"),progress:i*100,title:_e,credit:He,variant:ue})),ue==="loading"&&X("div",{onClick:()=>Yo.abort(),style:{position:"absolute",width:"100%",height:"100%",top:0,left:0,cursor:"wait"}})]})}}function n2(e){return t=>{let[r]=Xo(t["data-framer-name"]);if(r)return X(e,w({},t))}}function o2(e){return t=>{let[r]=Xo(t["data-framer-name"]);return X(e,I(w({},t),{text:r?"Upgraded!":`Check
your browser`}))}}function i2(e){return t=>{let[r]=Wo();return X(e,I(w({},t),{text:(r==null?void 0:r.email)||""}))}}function a2(e){return t=>{let[r,n]=Xo("userInfo-channel"),[o]=Wo("sg-info"),i="Loading";return n?i="Loading":o?r?i="Pro":i="Free":i="NoUser",X(e,I(w({},t),{supportLink:`${Yl}?prefilled_email=${encodeURIComponent(o==null?void 0:o.email)}`,status:r?"PRO USER":"FREE USER",email:o?`(${o==null?void 0:o.email})`:"",variant:i}))}}function s2(e){return n=>{var o=n,{style:t}=o,r=D(o,["style"]);return X(e,I(w({},r),{style:I(w({},t),{cursor:"pointer"}),onClick:()=>alert("This feature is under development.")}))}}function l2(e){return t=>{var a;let[r]=ct(),[n]=Wo(),[o]=kt(),i=o==="year";return X(e,I(w({},t),{href:`${i?Gl:ql}?prefilled_email=${encodeURIComponent(n==null?void 0:n.email)}&client_reference_id=${(a=r.user)==null?void 0:a.id}`}))}}function c2(e){return t=>{let[,r]=kt();return X(e,I(w({},t),{onMonthly:()=>r("year"),onYearly:()=>r("month")}))}}function d2(e){return t=>{let[r]=kt();return X(e,I(w({},t),{variant:r==="year"?"year":"month"}))}}function f2(e){return t=>{let[r]=kt(),n=r==="year";return X(e,I(w({},t),{text:n?" \u2014 just $2 a month":" \u2014 just $4 a month"}))}}function u2(e){return t=>{let[r]=kt(),n=r==="year";return X(e,I(w({},t),{opacity:n?1:0,y:n?10:0}))}}function m2(e){return n=>{var o=n,{style:t}=o,r=D(o,["style"]);let i=lt(s=>s.activePreset),a=lt(s=>s.setActivePreset);return X(e,I(w({},r),{style:I(w({},t),{cursor:"pointer"}),onClick:()=>{let s;i!==0?s=i-1:s=je.length-1,a(s),Ft(je[s].url)}}))}}function p2(e){return n=>{var o=n,{style:t}=o,r=D(o,["style"]);let i=lt(s=>s.activePreset),a=lt(s=>s.setActivePreset);return X(e,I(w({},r),{style:I(w({},t),{cursor:"pointer"}),onClick:()=>{let s;i!==je.length-1?s=i+1:s=0,a(s),Ft(je[s].url)}}))}}function h2(e){return t=>{let r=lt(n=>n.activePreset);return X(e,I(w({},t),{text:je[r].title}))}}function g2(e){return n=>{var o=n,{style:t}=o,r=D(o,["style"]);let[i,a]=Q("toggleAxis");return X(e,I(w({},r),{style:I(w({},t),{cursor:"pointer"}),onClick:()=>a(!i)}))}}function y2(e){return n=>{var o=n,{style:t}=o,r=D(o,["style"]);let[i,a]=Q("zoomOut");return X(e,I(w({},r),{style:I(w({},t),{cursor:"pointer"}),onClick:()=>a(!i)}))}}function v2(e){return n=>{var o=n,{style:t}=o,r=D(o,["style"]);let[i,a]=N0.useState("copy url");return X(e,I(w({},r),{style:I(w({},t),{cursor:"pointer"}),onClick:()=>q(this,null,function*(){window.navigator.clipboard.writeText(window.location.href),a("copied!"),yield setTimeout(()=>{a("copy url")},1e3)})}))}}function x2(e){return n=>{var o=n,{style:t}=o,r=D(o,["style"]);return X(e,I(w({},r),{style:I(w({},t),{cursor:"pointer"}),onClick:()=>{let i=window.history.state.prevUrls||[];if(i.length>1){i.pop();let a=new URL(i[i.length-1]).search;Ft(a),i.pop(),window.history.pushState({prevUrls:i},document.title,"")}else alert("no history")}}))}}function b2(e){return t=>{let r=Is(),[n,o]=De(""),[i,a]=De(!0),s="default";return n&&(i?s="valid":s="invalid"),X(e,I(w({},t),{onChange:l=>{let c=l.target.value;o(c),D0(c)?a(!0):a(!1)},onKeyDown:l=>{l.key==="Enter"&&i&&(r(n),t==null||t.onKeyDown())},onSubmit:()=>{i&&(r(n),t==null||t.onSubmit())},variant:s}))}}function _2(e){return t=>{O0();let[r,n]=De(!1);return Dt(()=>{let o=setInterval(()=>{document.getElementById("shadergradient-app-styles")&&n(!0)},200);return()=>clearInterval(o)},[]),X(e,I(w({},t),{style:I(w({},t.style),{opacity:r?1:0,zIndex:2147483640})}))}}var D0=e=>{let t=Kf.parse(e,{parseNumbers:!0,parseBooleans:!0,arrayFormat:"index"});return t.color1&&t.color2&&t.color3};function T2(e){return n=>{var o=n,{className:t}=o,r=D(o,["className"]);return X(e,I(w({},r),{className:j("hide-scrollbar",t)}))}}function O0(){let[,e]=ct();Dt(()=>{parent.postMessage({pluginMessage:{type:"UI_READY"}},"*"),onmessage=t=>{let r=t.data.pluginMessage;switch(r==null?void 0:r.type){case"SELECTION":e({selection:r.selection.length});break;case"USER_INFO":e({user:r.user});break;default:break}}},[])}function S2(e){return r=>{var t=D(r,[]);let[n]=Q("rangeStart"),[o]=Q("rangeEnd"),[i]=Q("pixelDensity"),[a]=Q("frameRate"),[s]=Q("destination"),[l,c]=De(333),[f,d]=De(333),[m]=Q("format"),u=300,[p,v]=De(0),[b,h]=De(0);return Dt(()=>{v(o-n)},[n,o]),Dt(()=>{h($f({format:m,duration:p,frameRate:a,pixelDensity:i})),setTimeout(()=>{Qf({setWidth:c,setHeight:d,pixelDensity:i})},100)},[m,p,i,a]),I0(()=>{function g(){Qf({setWidth:c,setHeight:d,pixelDensity:i})}return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[i]),X(e,I(w({},t),{size:`${Math.ceil(b*10)/10}MB`,duration:`(${Math.ceil(p*10)/10}s)`,resolution:`${l} x ${f} px`,variant:b>u&&s==="onCanvas"?"Error":s==="localFile"?"Export":"Default"}))}}function E2(e){return r=>{var t=D(r,[]);let n=L0(),[o]=Q("rangeStart"),[i]=Q("rangeEnd"),[a,s]=De(i-o),l=()=>q(this,null,function*(){return n.set({width:"0%",transition:{duration:0}}),yield n.start({width:"100%",transition:{duration:a,repeat:1/0,repeatType:"loop",ease:"linear"}})});return Dt(()=>{s(i-o),es.start(),l()},[i,o]),X(e,I(w({},t),{animate:n}))}}function Wo(e="sg-figma-hook"){var i;let[t]=ct(),r=(i=t.user)==null?void 0:i.id,[n,o]=jo("users",e);return[n.find(a=>a.figma_user_id===r),o]}function Xo(e){let[t,r]=Wo(),n=t==null?void 0:t.id,[o,i]=jo("subscriptions",e);return[o.find(s=>s.user_id===n&&s.status==="active"),r||i]}function Qf({setWidth:e,setHeight:t,pixelDensity:r}){var a;let n=(a=document.getElementById("gradientCanvas"))==null?void 0:a.children[0],{width:o,height:i}=n.getBoundingClientRect();e(Math.round(o*r)),t(Math.round(i*r))}function $f({format:e,duration:t,frameRate:r,pixelDensity:n}){let i=(e==="webm"?.00745:.149)*t*r*n*n;return Math.round(i*10)/10}function z0(e){if(!e)return Zf;let r=new Date().getTime()-new Date(e).getTime(),n=Zf-r/(1e3*3600*24);return n<0?0:Math.round(n)}function w2(e){return t=>{var i;let[,,r]=jo("users","sg-figma-t"),[n]=ct(),o=(i=n.user)==null?void 0:i.id;return X(e,I(w({},t),{onSubmit:a=>{r({email:a,figma_user_id:o,trial_started_at:new Date}),t==null||t.onSubmit()}}))}}export{h2 as ActiveTitle,Af as AllControls,m2 as ArrowLeft,p2 as ArrowRight,Po as AxisButton,j_ as Background,$g as BackgroundControls,ka as ColorControls,It as ControlTypeTitle,Mo as ControlTypeTitles,dr as Feather,Va as GIFControls,S2 as GIFStatusOverride,T2 as HideScrollBar,$r as IconButtons,_2 as LoadViewAfterStyleSheet,Ba as MotionControls,je as PRESETS,Ya as PresetTitle,l0 as PresetTitles,d2 as Price,f2 as PriceText,u2 as SaleTag,Fa as ShapeControls,w2 as StartTrial,H_ as StoreGradient,xy as StoreGradientCanvas,Fh as TestControl,E2 as Timeline,c2 as TogglePrice,g2 as Tool3dAxis,v2 as ToolCopy,x2 as ToolUndo,y2 as ToolZoomOut,pf as Tools,Ro as ToolsBox,b2 as UrlInput,Ua as ViewControls,au as aboutAngles,su as aboutPositions,lu as aboutRotations,e2 as checkEnabled,$R as createRectangle,d0 as cx,r2 as extractGIF,s2 as extractGIFDEV,t2 as goBack,JR as insertCanvasAsImage,n2 as isUpgraded,cu as mainLoading,l2 as subscribeLink,Ft as updateGradientState,o2 as upgradingText,Tu as useCursorStore,lt as useUIStore,i2 as userEmail,a2 as userInfo};
