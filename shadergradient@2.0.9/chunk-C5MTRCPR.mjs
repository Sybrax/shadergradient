import{a as c,b as r}from"./chunk-F3ULA5MU.mjs";import{c as D}from"./chunk-V2B32BRK.mjs";import{H as R,e as p,z as T}from"./chunk-O4LYKYI3.mjs";import{b as a}from"./chunk-XV5JMMUO.mjs";import{useEffect as y,useMemo as O}from"react";import{jsx as P}from"react/jsx-runtime";var S=({animate:H,uniforms:m,vertexShader:b,fragmentShader:E,onInit:n})=>{let l=O(()=>{let u=Object.entries(m),f=m.colors,o=c(f[0]),t=c(f[1]),s=c(f[2]),M={uC1r:{value:r(o==null?void 0:o.r)},uC1g:{value:r(o==null?void 0:o.g)},uC1b:{value:r(o==null?void 0:o.b)},uC2r:{value:r(t==null?void 0:t.r)},uC2g:{value:r(t==null?void 0:t.g)},uC2b:{value:r(t==null?void 0:t.b)},uC3r:{value:r(s==null?void 0:s.r)},uC3g:{value:r(s==null?void 0:s.g)},uC3b:{value:r(s==null?void 0:s.b)}},g=u.reduce((e,[v,d])=>{let j=T.clone({[v]:{value:d}});return a(a({},e),j)},{}),i=new R({userData:g,metalness:.2,side:p,onBeforeCompile:e=>{e.uniforms=a(a(a({},e.uniforms),g),M),e.vertexShader=b,e.fragmentShader=E}});return u.forEach(([e])=>Object.defineProperty(i,e,{get:()=>i.uniforms[e].value,set:v=>i.uniforms[e].value=v})),n&&n(i),i},[m,b,E,n]);return y(()=>()=>{l.dispose()},[l]),D(({clock:u})=>{H==="on"&&l.userData.uTime&&(l.userData.uTime.value=u.getElapsedTime())}),P("primitive",{attach:"material",object:l})};export{S as a};
