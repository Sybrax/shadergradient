import{a as c,b as r}from"./chunk-F3ULA5MU.mjs";import{c as D}from"./chunk-DQNNXJ42.mjs";import{H as R,e as p,z as T}from"./chunk-65UQCRZJ.mjs";import{b as a}from"./chunk-FLVFHPBB.mjs";import{useEffect as j,useMemo as y}from"react";import{jsx as O}from"react/jsx-runtime";var F=({uniforms:m,vertexShader:b,fragmentShader:E,onInit:n})=>{let l=y(()=>{let u=Object.entries(m),f=m.colors,o=c(f[0]),t=c(f[1]),s=c(f[2]),H={uC1r:{value:r(o==null?void 0:o.r)},uC1g:{value:r(o==null?void 0:o.g)},uC1b:{value:r(o==null?void 0:o.b)},uC2r:{value:r(t==null?void 0:t.r)},uC2g:{value:r(t==null?void 0:t.g)},uC2b:{value:r(t==null?void 0:t.b)},uC3r:{value:r(s==null?void 0:s.r)},uC3g:{value:r(s==null?void 0:s.g)},uC3b:{value:r(s==null?void 0:s.b)}},g=u.reduce((e,[v,M])=>{let d=T.clone({[v]:{value:M}});return a(a({},e),d)},{}),i=new R({userData:g,metalness:.2,side:p,onBeforeCompile:e=>{e.uniforms=a(a(a({},e.uniforms),g),H),e.vertexShader=b,e.fragmentShader=E}});return u.forEach(([e])=>Object.defineProperty(i,e,{get:()=>i.uniforms[e].value,set:v=>i.uniforms[e].value=v})),n&&n(i),i},[m,b,E,n]);return j(()=>()=>{l.dispose()},[l]),D(({clock:u})=>{l.userData.uTime&&(l.userData.uTime.value=u.getElapsedTime())}),O("primitive",{attach:"material",object:l})};export{F as a};
