var jf=Object.create;var Gr=Object.defineProperty,Xf=Object.defineProperties,Zf=Object.getOwnPropertyDescriptor,Qf=Object.getOwnPropertyDescriptors,Wf=Object.getOwnPropertyNames,Vr=Object.getOwnPropertySymbols,Kf=Object.getPrototypeOf,_n=Object.prototype.hasOwnProperty,Ts=Object.prototype.propertyIsEnumerable;var bs=(e,t,r)=>t in e?Gr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,M=(e,t)=>{for(var r in t||={})_n.call(t,r)&&bs(e,r,t[r]);if(Vr)for(var r of Vr(t))Ts.call(t,r)&&bs(e,r,t[r]);return e},V=(e,t)=>Xf(e,Qf(t));var F=(e,t)=>{var r={};for(var o in e)_n.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Vr)for(var o of Vr(e))t.indexOf(o)<0&&Ts.call(e,o)&&(r[o]=e[o]);return r};var rr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ie=(e,t)=>{for(var r in t)Gr(e,r,{get:t[r],enumerable:!0})},$f=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Wf(t))!_n.call(e,n)&&n!==r&&Gr(e,n,{get:()=>t[n],enumerable:!(o=Zf(t,n))||o.enumerable});return e};var st=(e,t,r)=>(r=e!=null?jf(Kf(e)):{},$f(t||!e||!e.__esModule?Gr(r,"default",{value:e,enumerable:!0}):r,e));var Pt=(e,t,r)=>new Promise((o,n)=>{var i=l=>{try{a(r.next(l))}catch(c){n(c)}},s=l=>{try{a(r.throw(l))}catch(c){n(c)}},a=l=>l.done?o(l.value):Promise.resolve(l.value).then(i,s);a((r=r.apply(e,t)).next())});var Ps=rr((s0,Es)=>{"use strict";Es.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var zs=rr((a0,As)=>{"use strict";var Rs="%[a-f0-9]{2}",ws=new RegExp("("+Rs+")|([^%]+?)","gi"),Cs=new RegExp("("+Rs+")+","gi");function bn(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],bn(r),bn(o))}function ou(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(ws)||[],r=1;r<t.length;r++)e=bn(t,r).join(""),t=e.match(ws)||[];return e}}function nu(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=Cs.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var o=ou(r[0]);o!==r[0]&&(t[r[0]]=o)}r=Cs.exec(e)}t["%C2"]="\uFFFD";for(var n=Object.keys(t),i=0;i<n.length;i++){var s=n[i];e=e.replace(new RegExp(s,"g"),t[s])}return e}As.exports=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return nu(e)}}});var Ls=rr((l0,Ms)=>{"use strict";Ms.exports=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];let r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]}});var Os=rr((c0,Ds)=>{"use strict";Ds.exports=function(e,t){for(var r={},o=Object.keys(e),n=Array.isArray(t),i=0;i<o.length;i++){var s=o[i],a=e[s];(n?t.indexOf(s)!==-1:t(s,a,e))&&(r[s]=a)}return r}});var Qe=rr(le=>{"use strict";var iu=Ps(),su=zs(),Fs=Ls(),au=Os(),lu=e=>e==null,Tn=Symbol("encodeFragmentIdentifier");function cu(e){switch(e.arrayFormat){case"index":return t=>(r,o)=>{let n=r.length;return o===void 0||e.skipNull&&o===null||e.skipEmptyString&&o===""?r:o===null?[...r,[$(t,e),"[",n,"]"].join("")]:[...r,[$(t,e),"[",$(n,e),"]=",$(o,e)].join("")]};case"bracket":return t=>(r,o)=>o===void 0||e.skipNull&&o===null||e.skipEmptyString&&o===""?r:o===null?[...r,[$(t,e),"[]"].join("")]:[...r,[$(t,e),"[]=",$(o,e)].join("")];case"colon-list-separator":return t=>(r,o)=>o===void 0||e.skipNull&&o===null||e.skipEmptyString&&o===""?r:o===null?[...r,[$(t,e),":list="].join("")]:[...r,[$(t,e),":list=",$(o,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t=e.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(o,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?o:(n=n===null?"":n,o.length===0?[[$(r,e),t,$(n,e)].join("")]:[[o,$(n,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,o)=>o===void 0||e.skipNull&&o===null||e.skipEmptyString&&o===""?r:o===null?[...r,$(t,e)]:[...r,[$(t,e),"=",$(o,e)].join("")]}}function fu(e){let t;switch(e.arrayFormat){case"index":return(r,o,n)=>{if(t=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!t){n[r]=o;return}n[r]===void 0&&(n[r]={}),n[r][t[1]]=o};case"bracket":return(r,o,n)=>{if(t=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!t){n[r]=o;return}if(n[r]===void 0){n[r]=[o];return}n[r]=[].concat(n[r],o)};case"colon-list-separator":return(r,o,n)=>{if(t=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!t){n[r]=o;return}if(n[r]===void 0){n[r]=[o];return}n[r]=[].concat(n[r],o)};case"comma":case"separator":return(r,o,n)=>{let i=typeof o=="string"&&o.includes(e.arrayFormatSeparator),s=typeof o=="string"&&!i&&Fe(o,e).includes(e.arrayFormatSeparator);o=s?Fe(o,e):o;let a=i||s?o.split(e.arrayFormatSeparator).map(l=>Fe(l,e)):o===null?o:Fe(o,e);n[r]=a};case"bracket-separator":return(r,o,n)=>{let i=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!i){n[r]=o&&Fe(o,e);return}let s=o===null?[]:o.split(e.arrayFormatSeparator).map(a=>Fe(a,e));if(n[r]===void 0){n[r]=s;return}n[r]=[].concat(n[r],s)};default:return(r,o,n)=>{if(n[r]===void 0){n[r]=o;return}n[r]=[].concat(n[r],o)}}}function Ns(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function $(e,t){return t.encode?t.strict?iu(e):encodeURIComponent(e):e}function Fe(e,t){return t.decode?su(e):e}function Hs(e){return Array.isArray(e)?e.sort():typeof e=="object"?Hs(Object.keys(e)).sort((t,r)=>Number(t)-Number(r)).map(t=>e[t]):e}function ks(e){let t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function uu(e){let t="",r=e.indexOf("#");return r!==-1&&(t=e.slice(r)),t}function Us(e){e=ks(e);let t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function Is(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function Bs(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),Ns(t.arrayFormatSeparator);let r=fu(t),o=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return o;for(let n of e.split("&")){if(n==="")continue;let[i,s]=Fs(t.decode?n.replace(/\+/g," "):n,"=");s=s===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?s:Fe(s,t),r(Fe(i,t),s,o)}for(let n of Object.keys(o)){let i=o[n];if(typeof i=="object"&&i!==null)for(let s of Object.keys(i))i[s]=Is(i[s],t);else o[n]=Is(i,t)}return t.sort===!1?o:(t.sort===!0?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((n,i)=>{let s=o[i];return Boolean(s)&&typeof s=="object"&&!Array.isArray(s)?n[i]=Hs(s):n[i]=s,n},Object.create(null))}le.extract=Us;le.parse=Bs;le.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),Ns(t.arrayFormatSeparator);let r=s=>t.skipNull&&lu(e[s])||t.skipEmptyString&&e[s]==="",o=cu(t),n={};for(let s of Object.keys(e))r(s)||(n[s]=e[s]);let i=Object.keys(n);return t.sort!==!1&&i.sort(t.sort),i.map(s=>{let a=e[s];return a===void 0?"":a===null?$(s,t):Array.isArray(a)?a.length===0&&t.arrayFormat==="bracket-separator"?$(s,t)+"[]":a.reduce(o(s),[]).join("&"):$(s,t)+"="+$(a,t)}).filter(s=>s.length>0).join("&")};le.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,o]=Fs(e,"#");return Object.assign({url:r.split("?")[0]||"",query:Bs(Us(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:Fe(o,t)}:{})};le.stringifyUrl=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[Tn]:!0},t);let r=ks(e.url).split("?")[0]||"",o=le.extract(e.url),n=le.parse(o,{sort:!1}),i=Object.assign(n,e.query),s=le.stringify(i,t);s&&(s=`?${s}`);let a=uu(e.url);return e.fragmentIdentifier&&(a=`#${t[Tn]?$(e.fragmentIdentifier,t):e.fragmentIdentifier}`),`${r}${s}${a}`};le.pick=(e,t,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[Tn]:!1},r);let{url:o,query:n,fragmentIdentifier:i}=le.parseUrl(e,r);return le.stringifyUrl({url:o,query:au(n,t),fragmentIdentifier:i},r)};le.exclude=(e,t,r)=>{let o=Array.isArray(t)?n=>!t.includes(n):(n,i)=>!t(n,i);return le.pick(e,o,r)}});import{Canvas as xu}from"@react-three/fiber";var Ss=(e,t)=>({dpr:e,camera:{fov:t},linear:!0,flat:!0,gl:{preserveDrawingBuffer:!0}});var Jf=[190,140],eu=[0,10,0],tu=[0,10,50];var ru={meshDelay:0,meshDur:0,rotDelay:1.7,rotDur:1,posDelay:1.3,posDur:2.2,logoTransition:3.1,text:2.5,to:1};var Pn=st(Qe());import{useCallback as En}from"react";var Gs=st(Qe());import wt from"zustand";import{combine as mu}from"zustand/middleware";var Sn=[{title:"Halo",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=3.6&cPolarAngle=90&cameraZoom=1&color1=%23ff5005&color2=%23dbba95&color3=%23d0bce1&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=-1.4&positionY=0&positionZ=0&reflection=0.1&rotationX=0&rotationY=10&rotationZ=50&shader=defaults&type=plane&uDensity=1.3&uSpeed=0.4&uStrength=4&uTime=0&uFrequency=5.5&wireframe=false"},{title:"Pensive",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.5&cAzimuthAngle=250&cDistance=1.5&cPolarAngle=140&cameraZoom=12.5&color1=%23809bd6&color2=%23910aff&color3=%23af38ff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.5&rotationX=0&rotationY=0&rotationZ=140&shader=defaults&type=sphere&uAmplitude=7&uDensity=0.8&uFrequency=5.5&uSpeed=0.3&uStrength=0.4&uTime=0&wireframe=false"},{title:"Mint",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=170&cDistance=4.4&cPolarAngle=70&cameraZoom=1&color1=%2394ffd1&color2=%236bf5ff&color3=%23ffffff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0.9&positionZ=-0.3&reflection=0.1&rotationX=45&rotationY=0&rotationZ=0&type=waterPlane&uAmplitude=0&uDensity=1.2&uFrequency=0&uSpeed=0.2&uStrength=3.4&uTime=0&wireframe=false&shader=defaults"},{title:"Interstella",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=0.8&cAzimuthAngle=270&cDistance=0.5&cPolarAngle=180&cameraZoom=15.1&color1=%2373bfc4&color2=%23ff810a&color3=%238da0ce&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=env&pixelDensity=1&fov=45&positionX=-0.1&positionY=0&positionZ=0&reflection=0.4&rotationX=0&rotationY=130&rotationZ=70&shader=defaults&type=sphere&uAmplitude=3.2&uDensity=0.8&uFrequency=5.5&uSpeed=0.3&uStrength=0.3&uTime=0&wireframe=false"},{title:"Nighty night",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1&cAzimuthAngle=180&cDistance=2.8&cPolarAngle=80&cameraZoom=9.1&color1=%23606080&color2=%238d7dca&color3=%23212121&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=50&rotationY=0&rotationZ=-60&shader=defaults&type=waterPlane&uAmplitude=0&uDensity=1.5&uFrequency=0&uSpeed=0.3&uStrength=1.5&uTime=8&wireframe=false"},{title:"Viola orientalis",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&brightness=1.1&cAzimuthAngle=0&cDistance=7.1&cPolarAngle=140&cameraZoom=17.3&color1=%23ffffff&color2=%23ffbb00&color3=%230700ff&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=0&type=sphere&uAmplitude=1.4&uDensity=1.1&uSpeed=0.1&uStrength=1&uTime=0&wireframe=false&uFrequency=5.5&shader=defaults"},{title:"Universe",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&brightness=1.1&cAzimuthAngle=180&cDistance=3.9&cPolarAngle=115&cameraZoom=1&color1=%235606FF&color2=%23FE8989&color3=%23000000&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=-0.5&positionY=0.1&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=235&type=waterPlane&uAmplitude=0&uDensity=1.1&uSpeed=0.1&uStrength=2.4&uTime=0.2&uFrequency=5.5&wireframe=false&shader=defaults"},{title:"Sunset",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&bgColor1=%23000000&bgColor2=%23000000&brightness=1.5&cAzimuthAngle=60&cDistance=7.1&cPolarAngle=90&cameraZoom=15.3&color1=%23ff7a33&color2=%2333a0ff&color3=%23ffc53d&embedMode=off&envPreset=dawn&grain=off&http%3A%2F%2Flocalhost%3A3002%2Fcustomize%3Fanimate=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=-0.15&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=0&shader=defaults&type=sphere&uAmplitude=1.4&uDensity=1.1&uSpeed=0.1&uStrength=0.4&uTime=0&uFrequency=5.5&wireframe=false"},{title:"Mandarin",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&bgColor1=%23000000&bgColor2=%23000000&brightness=1.2&cAzimuthAngle=180&cDistance=2.4&cPolarAngle=95&cameraZoom=1&color1=%23ff6a1a&color2=%23c73c00&color3=%23FD4912&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=-2.1&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=225&shader=defaults&type=waterPlane&uAmplitude=0&uFrequency=5.5&uDensity=1.8&uSpeed=0.2&uStrength=3&uTime=0.2&wireframe=false"},{title:"Cotton Candy",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=2.9&cPolarAngle=120&cameraZoom=1&color1=%23ebedff&color2=%23f3f2f8&color3=%23dbf8ff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=1.8&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=-90&type=waterPlane&uDensity=1&uSpeed=0.3&uStrength=3&uTime=0.2&uFrequency=5.5&wireframe=false&shader=defaults"}],Vs=Sn[0].url;var pu=M({},qs()),at=wt(e=>pu),Ys=e=>{let t=typeof e=="string",r=e;t&&(r=qs(e)),at.setState(r,t)};function qs(e=Vs){return Gs.parse(e,{parseNumbers:!0,parseBooleans:!0,arrayFormat:"index"})}var h0=wt(()=>({dom:null})),hu=wt(e=>({hoverState:0,hover:"default",updateHoverState:t=>e({hoverState:t})})),js=wt(mu({activePreset:0,mode:"full",loadingPercentage:0},e=>({setActivePreset:t=>e(r=>({activePreset:t})),setMode:t=>e(r=>V(M({},r),{mode:t})),setLoadingPercentage:t=>e(r=>V(M({},r),{loadingPercentage:t}))}))),g0=wt(e=>({figma:{selection:0,user:null},setFigma:t=>e(r=>({figma:M(M({},r.figma),t)}))}));var v0=wt(e=>({billingInterval:"year",setBillingInterval:t=>e(r=>({billingInterval:t}))}));var Xs=st(Qe());import{useCallback as b0}from"react";import{useEffect as P0}from"react";var gu=(e,t=null)=>{let r=En(s=>typeof s[e]!="undefined"?s[e]:t,[e,t]),o=at(r),n=En(s=>at.setState({[e]:s(at.getState()[e])}),[e]),i=En(s=>{n(a=>(typeof s=="function"&&(s=s(a||t)),Number.isFinite(s)&&(s=parseFloat(s.toFixed(2))),setTimeout(()=>{let l=at.getState();vu(Pn.stringifyUrl({url:window.location.pathname,query:l},{skipNull:!0,arrayFormat:"index"}))},0),s))},[n]);return[o,i]};function vu(e){var t;window.history.pushState({prevUrls:[...((t=window.history.state)==null?void 0:t.prevUrls)||[],window.location.origin+e]},document.title,e)}var wn=gu;import{Fragment as yu,jsx as Zs}from"react/jsx-runtime";function U0(o){var n=o,{children:e,pointerEvents:t="none"}=n,r=F(n,["children","pointerEvents"]);let[i]=wn("pixelDensity"),[s]=wn("fov");return Zs(yu,{children:Zs(xu,V(M(V(M({id:"gradientCanvas",resize:{offsetSize:!0}},Ss(i,s)),{style:{pointerEvents:t}}),r),{children:e}),i+s)})}var Ws=st(Qe());import Ct from"zustand";import{combine as bu}from"zustand/middleware";var Ne=[{title:"Halo",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=3.6&cPolarAngle=90&cameraZoom=1&color1=%23ff5005&color2=%23dbba95&color3=%23d0bce1&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=-1.4&positionY=0&positionZ=0&reflection=0.1&rotationX=0&rotationY=10&rotationZ=50&shader=defaults&type=plane&uDensity=1.3&uSpeed=0.4&uStrength=4&uTime=0&uFrequency=5.5&wireframe=false"},{title:"Pensive",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.5&cAzimuthAngle=250&cDistance=1.5&cPolarAngle=140&cameraZoom=12.5&color1=%23809bd6&color2=%23910aff&color3=%23af38ff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.5&rotationX=0&rotationY=0&rotationZ=140&shader=defaults&type=sphere&uAmplitude=7&uDensity=0.8&uFrequency=5.5&uSpeed=0.3&uStrength=0.4&uTime=0&wireframe=false"},{title:"Mint",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=170&cDistance=4.4&cPolarAngle=70&cameraZoom=1&color1=%2394ffd1&color2=%236bf5ff&color3=%23ffffff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0.9&positionZ=-0.3&reflection=0.1&rotationX=45&rotationY=0&rotationZ=0&type=waterPlane&uAmplitude=0&uDensity=1.2&uFrequency=0&uSpeed=0.2&uStrength=3.4&uTime=0&wireframe=false&shader=defaults"},{title:"Interstella",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=0.8&cAzimuthAngle=270&cDistance=0.5&cPolarAngle=180&cameraZoom=15.1&color1=%2373bfc4&color2=%23ff810a&color3=%238da0ce&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=env&pixelDensity=1&fov=45&positionX=-0.1&positionY=0&positionZ=0&reflection=0.4&rotationX=0&rotationY=130&rotationZ=70&shader=defaults&type=sphere&uAmplitude=3.2&uDensity=0.8&uFrequency=5.5&uSpeed=0.3&uStrength=0.3&uTime=0&wireframe=false"},{title:"Nighty night",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1&cAzimuthAngle=180&cDistance=2.8&cPolarAngle=80&cameraZoom=9.1&color1=%23606080&color2=%238d7dca&color3=%23212121&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=50&rotationY=0&rotationZ=-60&shader=defaults&type=waterPlane&uAmplitude=0&uDensity=1.5&uFrequency=0&uSpeed=0.3&uStrength=1.5&uTime=8&wireframe=false"},{title:"Viola orientalis",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&brightness=1.1&cAzimuthAngle=0&cDistance=7.1&cPolarAngle=140&cameraZoom=17.3&color1=%23ffffff&color2=%23ffbb00&color3=%230700ff&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=0&type=sphere&uAmplitude=1.4&uDensity=1.1&uSpeed=0.1&uStrength=1&uTime=0&wireframe=false&uFrequency=5.5&shader=defaults"},{title:"Universe",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&brightness=1.1&cAzimuthAngle=180&cDistance=3.9&cPolarAngle=115&cameraZoom=1&color1=%235606FF&color2=%23FE8989&color3=%23000000&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=-0.5&positionY=0.1&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=235&type=waterPlane&uAmplitude=0&uDensity=1.1&uSpeed=0.1&uStrength=2.4&uTime=0.2&uFrequency=5.5&wireframe=false&shader=defaults"},{title:"Sunset",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&bgColor1=%23000000&bgColor2=%23000000&brightness=1.5&cAzimuthAngle=60&cDistance=7.1&cPolarAngle=90&cameraZoom=15.3&color1=%23ff7a33&color2=%2333a0ff&color3=%23ffc53d&embedMode=off&envPreset=dawn&grain=off&http%3A%2F%2Flocalhost%3A3002%2Fcustomize%3Fanimate=on&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=-0.15&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=0&shader=defaults&type=sphere&uAmplitude=1.4&uDensity=1.1&uSpeed=0.1&uStrength=0.4&uTime=0&uFrequency=5.5&wireframe=false"},{title:"Mandarin",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=on&bgColor1=%23000000&bgColor2=%23000000&brightness=1.2&cAzimuthAngle=180&cDistance=2.4&cPolarAngle=95&cameraZoom=1&color1=%23ff6a1a&color2=%23c73c00&color3=%23FD4912&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=-2.1&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=225&shader=defaults&type=waterPlane&uAmplitude=0&uFrequency=5.5&uDensity=1.8&uSpeed=0.2&uStrength=3&uTime=0.2&wireframe=false"},{title:"Cotton Candy",color:"white",url:"?range=enabled&rangeStart=0&rangeEnd=40&frameRate=10&destination=onCanvas&format=gif&animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=2.9&cPolarAngle=120&cameraZoom=1&color1=%23ebedff&color2=%23f3f2f8&color3=%23dbf8ff&embedMode=off&envPreset=city&gizmoHelper=hide&grain=off&lightType=3d&pixelDensity=1&fov=45&positionX=0&positionY=1.8&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=-90&type=waterPlane&uDensity=1&uSpeed=0.3&uStrength=3&uTime=0.2&uFrequency=5.5&wireframe=false&shader=defaults"}],Qs=Ne[0].url;var Tu=M({},Ks()),xe=Ct(e=>Tu),We=e=>{let t=typeof e=="string",r=e;t&&(r=Ks(e)),xe.setState(r,t)};function Ks(e=Qs){return Ws.parse(e,{parseNumbers:!0,parseBooleans:!0,arrayFormat:"index"})}var Z0=Ct(()=>({dom:null})),ee=Ct(e=>({hoverState:0,hover:"default",updateHoverState:t=>e({hoverState:t})})),He=Ct(bu({activePreset:0,mode:"full",loadingPercentage:0},e=>({setActivePreset:t=>e(r=>({activePreset:t})),setMode:t=>e(r=>V(M({},r),{mode:t})),setLoadingPercentage:t=>e(r=>V(M({},r),{loadingPercentage:t}))}))),Q0=Ct(e=>({figma:{selection:0,user:null},setFigma:t=>e(r=>({figma:M(M({},r.figma),t)}))}));var W0=Ct(e=>({billingInterval:"year",setBillingInterval:t=>e(r=>({billingInterval:t}))}));var Rn=st(Qe());import{useCallback as Cn}from"react";var A=(e,t=null)=>{let r=Cn(s=>typeof s[e]!="undefined"?s[e]:t,[e,t]),o=xe(r),n=Cn(s=>xe.setState({[e]:s(xe.getState()[e])}),[e]),i=Cn(s=>{n(a=>(typeof s=="function"&&(s=s(a||t)),Number.isFinite(s)&&(s=parseFloat(s.toFixed(2))),setTimeout(()=>{let l=xe.getState();Su(Rn.stringifyUrl({url:window.location.pathname,query:l},{skipNull:!0,arrayFormat:"index"}))},0),s))},[n]);return[o,i]};function Su(e){var t;window.history.pushState({prevUrls:[...((t=window.history.state)==null?void 0:t.prevUrls)||[],window.location.origin+e]},document.title,e)}import{useEffect as og}from"react";var zn=st(Qe());import{useCallback as An}from"react";var Eu=(e,t=null)=>{let r=An(s=>typeof s[e]!="undefined"?s[e]:t,[e,t]),o=xe(r),n=An(s=>xe.setState({[e]:s(xe.getState()[e])}),[e]),i=An(s=>{n(a=>(typeof s=="function"&&(s=s(a||t)),Number.isFinite(s)&&(s=parseFloat(s.toFixed(2))),setTimeout(()=>{let l=xe.getState();Pu(zn.stringifyUrl({url:window.location.pathname,query:l},{skipNull:!0,arrayFormat:"index"}))},0),s))},[n]);return[o,i]};function Pu(e){var t;window.history.pushState({prevUrls:[...((t=window.history.state)==null?void 0:t.prevUrls)||[],window.location.origin+e]},document.title,e)}var H=Eu;function Yr(e){return e/180*Math.PI}function Mn(e){return e.map(t=>Yr(t))}function $s(e){return e.replace("http://localhost:3001/customize","").replace("https://shadergradient.co/customize","").replace("https://www.shadergradient.co/customize","")}var Y=(...e)=>e.filter(t=>!!t).join(" ");var Js=st(Qe());function ea(e,o){var n=o,{urlString:t}=n,r=F(n,["urlString"]);let[i]=H("type"),[s]=H("animate"),[a]=H("range"),[l]=H("rangeStart"),[c]=H("rangeEnd"),[u]=H("uTime"),[f]=H("uSpeed"),[m]=H("uStrength"),[d]=H("uDensity"),[p]=H("uFrequency"),[_]=H("uAmplitude"),[x]=H("positionX"),[v]=H("positionY"),[h]=H("positionZ"),[y]=H("rotationX"),[b]=H("rotationY"),[g]=H("rotationZ"),[T]=H("color1"),[w]=H("color2"),[C]=H("color3"),[S]=H("cAzimuthAngle"),[R]=H("cPolarAngle"),[z]=H("cDistance"),[O]=H("cameraZoom"),[N]=H("wireframe"),[K]=H("shader"),[X]=H("lightType"),[we]=H("brightness"),[ne]=H("envPreset"),[ae]=H("grain"),[Oe]=H("reflection"),[yt]=H("zoomOut"),[_t]=H("toggleAxis"),bt=ee(Et=>Et.hoverState),[Tt]=H("frameRate"),[St]=H("destination"),[Ce]=H("format"),ve={type:i,animate:s,range:a,rangeStart:l,rangeEnd:c,frameRate:Tt,destination:St,format:Ce,uTime:u,uSpeed:f,uStrength:m,uDensity:d,uFrequency:p,uAmplitude:_,positionX:x,positionY:v,positionZ:h,rotationX:y,rotationY:b,rotationZ:g,color1:T,color2:w,color3:C,cAzimuthAngle:S,cPolarAngle:R,cDistance:z,cameraZoom:O,wireframe:N,shader:K,lightType:X,brightness:we,envPreset:ne,grain:ae,reflection:Oe,zoomOut:yt,toggleAxis:_t,hoverState:bt};if(e==="props")return M(M({},ve),r);if(e==="query")return t?Js.parse($s(t),{parseNumbers:!0,parseBooleans:!0,arrayFormat:"index"}):ve}import{useEffect as fd,useMemo as ud}from"react";import{BufferGeometry as Mu,Clock as Lu,Float32BufferAttribute as ia,LinearFilter as oa,Mesh as zg,OrthographicCamera as Du,RGBAFormat as Ou,Vector2 as na,WebGLRenderTarget as Iu}from"three";import{BufferGeometry as wu,Float32BufferAttribute as ta,OrthographicCamera as Cu,Mesh as Ru}from"three";var ke=class{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}},Au=new Cu(-1,1,1,-1,0,1),Ln=new wu;Ln.setAttribute("position",new ta([-1,3,0,-1,-1,0,3,-1,0],3));Ln.setAttribute("uv",new ta([0,2,0,0,2,0],2));var qr=class{constructor(t){this._mesh=new Ru(Ln,t)}dispose(){this._mesh.geometry.dispose()}render(t){t.render(this._mesh,Au)}get material(){return this._mesh.material}set material(t){this._mesh.material=t}};var or=class extends ke{constructor(t,r){super(),this.scene=t,this.camera=r,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(t,r,o){let n=t.getContext(),i=t.state;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0);let s,a;this.inverse?(s=0,a=1):(s=1,a=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),i.buffers.stencil.setFunc(n.ALWAYS,s,4294967295),i.buffers.stencil.setClear(a),i.buffers.stencil.setLocked(!0),t.setRenderTarget(o),this.clear&&t.clear(),t.render(this.scene,this.camera),t.setRenderTarget(r),this.clear&&t.clear(),t.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(n.EQUAL,1,4294967295),i.buffers.stencil.setOp(n.KEEP,n.KEEP,n.KEEP),i.buffers.stencil.setLocked(!0)}},jr=class extends ke{constructor(){super(),this.needsSwap=!1}render(t){t.state.buffers.stencil.setLocked(!1),t.state.buffers.stencil.setTest(!1)}};import{ShaderMaterial as ra,UniformsUtils as zu}from"three";var nr=class extends ke{constructor(t,r){super(),this.textureID=r!==void 0?r:"tDiffuse",t instanceof ra?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=zu.clone(t.uniforms),this.material=new ra({defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this.fsQuad=new qr(this.material)}render(t,r,o){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=o.texture),this.fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(r),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}};var Dn={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;

		}`};var Xr=class{constructor(t,r){if(this.renderer=t,r===void 0){let o={minFilter:oa,magFilter:oa,format:Ou},n=t.getSize(new na);this._pixelRatio=t.getPixelRatio(),this._width=n.width,this._height=n.height,r=new Iu(this._width*this._pixelRatio,this._height*this._pixelRatio,o),r.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=r.width,this._height=r.height;this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],Dn===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),nr===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new nr(Dn),this.clock=new Lu}swapBuffers(){let t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t}addPass(t){this.passes.push(t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(t,r){this.passes.splice(r,0,t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(t){let r=this.passes.indexOf(t);r!==-1&&this.passes.splice(r,1)}isLastEnabledPass(t){for(let r=t+1;r<this.passes.length;r++)if(this.passes[r].enabled)return!1;return!0}render(t){t===void 0&&(t=this.clock.getDelta());let r=this.renderer.getRenderTarget(),o=!1;for(let n=0,i=this.passes.length;n<i;n++){let s=this.passes[n];if(s.enabled!==!1){if(s.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),s.render(this.renderer,this.writeBuffer,this.readBuffer,t,o),s.needsSwap){if(o){let a=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),l.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}or!==void 0&&(s instanceof or?o=!0:s instanceof jr&&(o=!1))}}this.renderer.setRenderTarget(r)}reset(t){if(t===void 0){let r=this.renderer.getSize(new na);this._pixelRatio=this.renderer.getPixelRatio(),this._width=r.width,this._height=r.height,t=this.renderTarget1.clone(),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(t,r){this._width=t,this._height=r;let o=this._width*this._pixelRatio,n=this._height*this._pixelRatio;this.renderTarget1.setSize(o,n),this.renderTarget2.setSize(o,n);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(o,n)}setPixelRatio(t){this._pixelRatio=t,this.setSize(this._width,this._height)}};var Ig=new Du(-1,1,1,-1,0,1),sa=new Mu;sa.setAttribute("position",new ia([-1,3,0,-1,-1,0,3,-1,0],3));sa.setAttribute("uv",new ia([0,2,0,0,2,0],2));import{Color as Fu}from"three";var Zr=class extends ke{constructor(t,r,o,n,i){super(),this.scene=t,this.camera=r,this.overrideMaterial=o,this.clearColor=n,this.clearAlpha=i!==void 0?i:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Fu}render(t,r,o){let n=t.autoClear;t.autoClear=!1;let i,s;this.overrideMaterial!==void 0&&(s=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(t.getClearColor(this._oldClearColor),i=t.getClearAlpha(),t.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:o),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),this.clearColor&&t.setClearColor(this._oldClearColor,i),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=s),t.autoClear=n}};import{ShaderMaterial as ld,UniformsUtils as cd}from"three";var Z={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18};import{EventDispatcher as td,Uniform as rd}from"three";var aa="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}";var la="vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}";var ca="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}";var fa="float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}";var ua="float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}";var da="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}";var ma="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}";var pa="float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}";var ha="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}";var ga="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}";var va="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}";var xa="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}";var ya="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}";var _a="float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}";var ba="float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}";var Ta="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}";var Sa="float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}";var Ea="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}";var od=new Map([[Z.SKIP,null],[Z.ADD,aa],[Z.ALPHA,la],[Z.AVERAGE,ca],[Z.COLOR_BURN,fa],[Z.COLOR_DODGE,ua],[Z.DARKEN,da],[Z.DIFFERENCE,ma],[Z.EXCLUSION,ha],[Z.LIGHTEN,ga],[Z.MULTIPLY,va],[Z.DIVIDE,pa],[Z.NEGATION,xa],[Z.NORMAL,ya],[Z.OVERLAY,_a],[Z.REFLECT,ba],[Z.SCREEN,Ta],[Z.SOFT_LIGHT,Sa],[Z.SUBTRACT,Ea]]),ir=class extends td{constructor(t,r=1){super(),this.blendFunction=t,this.opacity=new rd(r)}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t,this.dispatchEvent({type:"change"})}getShaderCode(){return od.get(this.blendFunction)}};var lt={uniforms:{tDiffuse:{value:null},shape:{value:1},radius:{value:2},rotateR:{value:Math.PI/12*1},rotateG:{value:Math.PI/12*2},rotateB:{value:Math.PI/12*3},scatter:{value:1},width:{value:20},height:{value:20},blending:{value:1},blendingMode:{value:1},greyscale:{value:!1},disable:{value:!1}},vertexShader:`

		varying vec2 vUV;
		varying vec3 vPosition;

		void main() {

			vUV = uv;
			vPosition = position;

			gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);

		}`,fragmentShader:`

		#define SQRT2_MINUS_ONE 0.41421356
		#define SQRT2_HALF_MINUS_ONE 0.20710678
		#define PI2 6.28318531
		#define SHAPE_DOT 1
		#define SHAPE_ELLIPSE 2
		#define SHAPE_LINE 3
		#define SHAPE_SQUARE 4
		#define BLENDING_LINEAR 1
		#define BLENDING_MULTIPLY 2
		#define BLENDING_ADD 3
		#define BLENDING_LIGHTER 4
		#define BLENDING_DARKER 5
		uniform sampler2D tDiffuse;
		uniform float radius;
		uniform float rotateR;
		uniform float rotateG;
		uniform float rotateB;
		uniform float scatter;
		uniform float width;
		uniform float height;
		uniform int shape;
		uniform bool disable;
		uniform float blending;
		uniform int blendingMode;
		varying vec2 vUV;
		varying vec3 vPosition;
		uniform bool greyscale;
		const int samples = 8;

		float blend( float a, float b, float t ) {

		// linear blend
			return a * ( 1.0 - t ) + b * t;

		}

		float hypot( float x, float y ) {

		// vector magnitude
			return sqrt( x * x + y * y );

		}

		float rand( vec2 seed ){

		// get pseudo-random number
			return fract( sin( dot( seed.xy, vec2( 12.9898, 78.233 ) ) ) * 43758.5453 );

		}

		float distanceToDotRadius( float channel, vec2 coord, vec2 normal, vec2 p, float angle, float rad_max ) {

		// apply shape-specific transforms
			float dist = hypot( coord.x - p.x, coord.y - p.y );
			float rad = channel;

			if ( shape == SHAPE_DOT ) {

				rad = pow( abs( rad ), 1.125 ) * rad_max;

			} else if ( shape == SHAPE_ELLIPSE ) {

				rad = pow( abs( rad ), 1.125 ) * rad_max;

				if ( dist != 0.0 ) {
					float dot_p = abs( ( p.x - coord.x ) / dist * normal.x + ( p.y - coord.y ) / dist * normal.y );
					dist = ( dist * ( 1.0 - SQRT2_HALF_MINUS_ONE ) ) + dot_p * dist * SQRT2_MINUS_ONE;
				}

			} else if ( shape == SHAPE_LINE ) {

				rad = pow( abs( rad ), 1.5) * rad_max;
				float dot_p = ( p.x - coord.x ) * normal.x + ( p.y - coord.y ) * normal.y;
				dist = hypot( normal.x * dot_p, normal.y * dot_p );

			} else if ( shape == SHAPE_SQUARE ) {

				float theta = atan( p.y - coord.y, p.x - coord.x ) - angle;
				float sin_t = abs( sin( theta ) );
				float cos_t = abs( cos( theta ) );
				rad = pow( abs( rad ), 1.4 );
				rad = rad_max * ( rad + ( ( sin_t > cos_t ) ? rad - sin_t * rad : rad - cos_t * rad ) );

			}

			return rad - dist;

		}

		struct Cell {

		// grid sample positions
			vec2 normal;
			vec2 p1;
			vec2 p2;
			vec2 p3;
			vec2 p4;
			float samp2;
			float samp1;
			float samp3;
			float samp4;

		};

		vec4 getSample( vec2 point ) {

		// multi-sampled point
			vec4 tex = texture2D( tDiffuse, vec2( point.x / width, point.y / height ) );
			float base = rand( vec2( floor( point.x ), floor( point.y ) ) ) * PI2;
			float step = PI2 / float( samples );
			// float dist = radius * 0.66;
			float dist = radius * 0.0;

			for ( int i = 0; i < samples; ++i ) {

				float r = base + step * float( i );
				vec2 coord = point + vec2( cos( r ) * dist, sin( r ) * dist );
				tex += texture2D( tDiffuse, vec2( coord.x / width, coord.y / height ) );

			}

			tex /= float( samples ) + 1.0;
			return tex;

		}

		float getDotColour( Cell c, vec2 p, int channel, float angle, float aa ) {

		// get colour for given point
			float dist_c_1, dist_c_2, dist_c_3, dist_c_4, res;

			if ( channel == 0 ) {

				c.samp1 = getSample( c.p1 ).r;
				c.samp2 = getSample( c.p2 ).r;
				c.samp3 = getSample( c.p3 ).r;
				c.samp4 = getSample( c.p4 ).r;

			} else if (channel == 1) {

				c.samp1 = getSample( c.p1 ).g;
				c.samp2 = getSample( c.p2 ).g;
				c.samp3 = getSample( c.p3 ).g;
				c.samp4 = getSample( c.p4 ).g;

			} else {

				c.samp1 = getSample( c.p1 ).b;
				c.samp3 = getSample( c.p3 ).b;
				c.samp2 = getSample( c.p2 ).b;
				c.samp4 = getSample( c.p4 ).b;

			}

			dist_c_1 = distanceToDotRadius( c.samp1, c.p1, c.normal, p, angle, radius );
			dist_c_2 = distanceToDotRadius( c.samp2, c.p2, c.normal, p, angle, radius );
			dist_c_3 = distanceToDotRadius( c.samp3, c.p3, c.normal, p, angle, radius );
			dist_c_4 = distanceToDotRadius( c.samp4, c.p4, c.normal, p, angle, radius );
			res = ( dist_c_1 > 0.0 ) ? clamp( dist_c_1 / aa, 0.0, 1.0 ) : 0.0;
			// res = 0.0;
			res += ( dist_c_2 > 0.0 ) ? clamp( dist_c_2 / aa, 0.0, 1.0 ) : 0.0;
			res += ( dist_c_3 > 0.0 ) ? clamp( dist_c_3 / aa, 0.0, 1.0 ) : 0.0;
			res += ( dist_c_4 > 0.0 ) ? clamp( dist_c_4 / aa, 0.0, 1.0 ) : 0.0;
			res = clamp( res, 0.0, 1.0 );

			return res;
			// return 2

		}

		Cell getReferenceCell( vec2 p, vec2 origin, float grid_angle, float step ) {

		// get containing cell
			Cell c;

		// calc grid
			vec2 n = vec2( cos( grid_angle ), sin( grid_angle ) );
			float threshold = step * 0.5;
			float dot_normal = n.x * ( p.x - origin.x ) + n.y * ( p.y - origin.y );
			float dot_line = -n.y * ( p.x - origin.x ) + n.x * ( p.y - origin.y );
			vec2 offset = vec2( n.x * dot_normal, n.y * dot_normal );
			float offset_normal = mod( hypot( offset.x, offset.y ), step );
			float normal_dir = ( dot_normal < 0.0 ) ? 1.0 : -1.0;
			float normal_scale = ( ( offset_normal < threshold ) ? -offset_normal : step - offset_normal ) * normal_dir;
			float offset_line = mod( hypot( ( p.x - offset.x ) - origin.x, ( p.y - offset.y ) - origin.y ), step );
			float line_dir = ( dot_line < 0.0 ) ? 1.0 : -1.0;
			float line_scale = ( ( offset_line < threshold ) ? -offset_line : step - offset_line ) * line_dir;

		// get closest corner
			c.normal = n;
			c.p1.x = p.x - n.x * normal_scale + n.y * line_scale;
			c.p1.y = p.y - n.y * normal_scale - n.x * line_scale;

		// scatter
			if ( scatter != 0.0 ) {

				float off_mag = scatter * threshold * 0.5;
				float off_angle = rand( vec2( floor( c.p1.x ), floor( c.p1.y ) ) ) * PI2;
				c.p1.x += cos( off_angle ) * off_mag;
				c.p1.y += sin( off_angle ) * off_mag;

			}

		// find corners
			float normal_step = normal_dir * ( ( offset_normal < threshold ) ? step : -step );
			float line_step = line_dir * ( ( offset_line < threshold ) ? step : -step );
			c.p2.x = c.p1.x - n.x * normal_step;
			c.p2.y = c.p1.y - n.y * normal_step;
			c.p3.x = c.p1.x + n.y * line_step;
			c.p3.y = c.p1.y - n.x * line_step;
			c.p4.x = c.p1.x - n.x * normal_step + n.y * line_step;
			c.p4.y = c.p1.y - n.y * normal_step - n.x * line_step;

			return c;

		}

		float blendColour( float a, float b, float t ) {

		// blend colours
			if ( blendingMode == BLENDING_LINEAR ) {
				return blend( a, b, 1.0 - t );
			} else if ( blendingMode == BLENDING_ADD ) {
				return blend( a, min( 1.0, a + b ), t );
			} else if ( blendingMode == BLENDING_MULTIPLY ) {
				return blend( a, max( 0.0, a * b ), t );
			} else if ( blendingMode == BLENDING_LIGHTER ) {
				return blend( a, max( a, b ), t );
			} else if ( blendingMode == BLENDING_DARKER ) {
				return blend( a, min( a, b ), t );
			} else {
				return blend( a, b, 1.0 - t );
			}

		}

		void main() {

			if ( ! disable ) {

		// setup
				vec2 p = vec2( vUV.x * width, vUV.y * height ) - vec2(vPosition.x, vPosition.y) * 3.0; // - position values to remove black borders.
				vec2 origin = vec2( 0, 0 );
				float aa = ( radius < 2.5 ) ? radius * 0.5 : 1.25;
				// float aa = 0.0;

		// get channel samples
				Cell cell_r = getReferenceCell( p, origin, rotateR, radius );
				Cell cell_g = getReferenceCell( p, origin, rotateG, radius );
				Cell cell_b = getReferenceCell( p, origin, rotateB, radius );
				float r = getDotColour( cell_r, p, 0, rotateR, aa );
				float g = getDotColour( cell_g, p, 1, rotateG, aa );
				float b = getDotColour( cell_b, p, 2, rotateB, aa );

		// blend with original
				vec4 colour = texture2D( tDiffuse, vUV );
				
				// add masking before blendColour
				if (colour.r == 0.0) {
					r = 0.0;
				} else {
					r = blendColour( r, colour.r, blending );
				}

				if (colour.g == 0.0) {
					g = 0.0;
				} else {
					g = blendColour( g, colour.g, blending );
				}

				if (colour.b == 0.0) {
					b = 0.0;
				} else {
					b = blendColour( b, colour.b, blending );
				}
				
				
				

				if ( greyscale ) {
					r = g = b = (r + b + g) / 3.0;
				}

				// add alpha channel to each r, g, b colors
				vec4 vR;
				vec4 vG;
				vec4 vB;
	
				// apply transparent to outside of mesh
				if (r == 0.0 && colour.r == 0.0) {
					vR = vec4( 0, 0, 0, 0 );
				} else {
					vR = vec4( r, 0, 0, 1 );
				}
	
				if (g == 0.0 && colour.g == 0.0) {
					vG = vec4( 0, 0, 0, 0 );
				} else {
					vG = vec4( 0, g, 0, 1 );
				}
	
				if (b == 0.0 && colour.b == 0.0) {
					vB = vec4( 0, 0, 0, 0 );
				} else {
					vB = vec4( 0, 0, b, 1 );
				}

				// gl_FragColor = vec4( r, g, b, 1.0 );
				gl_FragColor = vR + vG + vB;

			} else {

				gl_FragColor = texture2D( tDiffuse, vUV );

			}

		}`};import{BufferGeometry as nd,Float32BufferAttribute as Pa,OrthographicCamera as id,Mesh as sd}from"three";var Qr=class{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}},ad=new id(-1,1,1,-1,0,1),On=new nd;On.setAttribute("position",new Pa([-1,3,0,-1,-1,0,3,-1,0],3));On.setAttribute("uv",new Pa([0,2,0,0,2,0],2));var Wr=class{constructor(t){this._mesh=new sd(On,t)}dispose(){this._mesh.geometry.dispose()}render(t){t.render(this._mesh,ad)}get material(){return this._mesh.material}set material(t){this._mesh.material=t}};var wa=!0,Kr=class extends Qr{constructor(t,r,o){super(),lt===void 0&&console.error("THREE.HalftonePass requires HalftoneShader"),this.uniforms=cd.clone(lt.uniforms),this.material=new ld({uniforms:this.uniforms,fragmentShader:lt.fragmentShader,vertexShader:lt.vertexShader}),wa&&(this.uniforms.width.value=t,this.uniforms.height.value=r),this.uniforms.disable.value=o.disable,this.fsQuad=new Wr(this.material),this.blendMode=new ir(Z.SCREEN),this.extensions=null}render(t,r,o){this.material.uniforms.tDiffuse.value=o.texture,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(r),this.clear&&t.clear(),this.fsQuad.render(t))}setSize(t,r){wa&&(this.uniforms.width.value=t,this.uniforms.height.value=r)}initialize(t,r,o){}addEventListener(){}getAttributes(){return this.attributes}getFragmentShader(){return lt.fragmentShader}getVertexShader(){return lt.vertexShader}update(t,r,o){}};import{useThree as dd,useFrame as md}from"@react-three/fiber";function In(e){let{gl:t,scene:r,camera:o,size:n}=dd(),i=ud(()=>{let s=new Xr(t);s.addPass(new Zr(r,o));let a={shape:1,radius:2,rotateR:Math.PI/12,rotateB:Math.PI/12*2,rotateG:Math.PI/12*3,scatter:1,blending:1,blendingMode:1,greyscale:!1,disable:e},l=new Kr(n.width,n.height,a);return s.addPass(l),s},[t,r,o,n,e]);fd(()=>i==null?void 0:i.setSize(n.width,n.height),[i,n]),md((s,a)=>(t.autoClear=!0,void i.render(a)),1)}import*as J from"react";import{createPortal as Ed,useFrame as Pd,useThree as At}from"@react-three/fiber";import{Matrix4 as wd,Object3D as Cd,Quaternion as Da,Scene as Rd,Vector3 as $r}from"three";import*as Ue from"react";import{useThree as Fn,useFrame as gd}from"@react-three/fiber";function pd(e){return function(t){e.forEach(function(r){typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Ca=pd;import*as Rt from"react";import*as ct from"three";import{useThree as hd}from"@react-three/fiber";function Ra(e,t,r){let{gl:o,size:n,viewport:i}=hd(),s=typeof e=="number"?e:n.width*i.dpr,a=typeof t=="number"?t:n.height*i.dpr,m=(typeof e=="number"?r:e)||{},{samples:c}=m,u=F(m,["samples"]),f=Rt.useMemo(()=>{let d;return d=new ct.WebGLRenderTarget(s,a,M({minFilter:ct.LinearFilter,magFilter:ct.LinearFilter,encoding:o.outputEncoding,type:ct.HalfFloatType},u)),d.samples=c,d},[]);return Rt.useLayoutEffect(()=>{f.setSize(s,a),c&&(f.samples=c)},[c,f,s,a]),Rt.useEffect(()=>()=>f.dispose(),[]),f}import{Fragment as xd,jsx as Aa,jsxs as yd}from"react/jsx-runtime";var vd=e=>typeof e=="function",za=Ue.forwardRef((a,s)=>{var l=a,{envMap:e,resolution:t=256,frames:r=1/0,children:o,makeDefault:n}=l,i=F(l,["envMap","resolution","frames","children","makeDefault"]);let c=Fn(({set:h})=>h),u=Fn(({camera:h})=>h),f=Fn(({size:h})=>h),m=Ue.useRef(null),d=Ue.useRef(null),p=Ra(t);Ue.useLayoutEffect(()=>{i.manual||m.current.updateProjectionMatrix()},[f,i]),Ue.useLayoutEffect(()=>{m.current.updateProjectionMatrix()}),Ue.useLayoutEffect(()=>{if(n){let h=u;return c(()=>({camera:m.current})),()=>c(()=>({camera:h}))}},[m,n,c]);let _=0,x=null,v=vd(o);return gd(h=>{v&&(r===1/0||_<r)&&(d.current.visible=!1,h.gl.setRenderTarget(p),x=h.scene.background,e&&(h.scene.background=e),h.gl.render(h.scene,m.current),h.scene.background=x,h.gl.setRenderTarget(null),d.current.visible=!0,_++)}),yd(xd,{children:[Aa("orthographicCamera",V(M({left:f.width/-2,right:f.width/2,top:f.height/2,bottom:f.height/-2,ref:Ca([m,s])},i),{children:!v&&o})),Aa("group",{ref:d,children:v&&o(p.texture)})]})});import*as Ma from"react";import{Raycaster as _d,Camera as bd}from"three";import{useThree as Td,applyProps as Sd}from"@react-three/fiber";function La(e,t){let r=Td(n=>n.pointer),[o]=Ma.useState(()=>{let n=new _d;return t&&Sd(n,t,{}),function(i,s){n.setFromCamera(r,e instanceof bd?e:e.current);let a=this.constructor.prototype.raycast.bind(this);a&&a(n,s)}});return o}import{jsx as Ha,jsxs as Md}from"react/jsx-runtime";var ka=J.createContext({}),Ua=()=>J.useContext(ka),Ad=2*Math.PI,Oa=new Cd,Ia=new wd,[zt,Nn]=[new Da,new Da],Fa=new $r,Na=new $r,zd=e=>"minPolarAngle"in e,Ba=({alignment:e="bottom-right",margin:t=[80,80],renderPriority:r=0,autoClear:o=!0,onUpdate:n,onTarget:i,children:s})=>{let a=At(({size:O})=>O),l=At(({camera:O})=>O),c=At(({controls:O})=>O),u=At(({gl:O})=>O),f=At(({scene:O})=>O),m=At(({invalidate:O})=>O),d=J.useRef(),p=J.useRef(),_=J.useRef(null),[x]=J.useState(()=>new Rd),v=J.useRef(!1),h=J.useRef(0),y=J.useRef(new $r(0,0,0)),b=J.useRef(new $r(0,0,0));J.useEffect(()=>{b.current.copy(l.up)},[l]);let g=J.useCallback(O=>{v.current=!0,(c||i)&&(y.current=(c==null?void 0:c.target)||(i==null?void 0:i())),h.current=l.position.distanceTo(Fa),zt.copy(l.quaternion),Na.copy(O).multiplyScalar(h.current).add(Fa),Oa.lookAt(Na),Nn.copy(Oa.quaternion),m()},[c,l,i,m]);J.useEffect(()=>(f.background&&(d.current=f.background,f.background=null,x.background=d.current),()=>{d.current&&(f.background=d.current)}),[]),Pd((O,N)=>{var K;if(_.current&&p.current){if(v.current)if(zt.angleTo(Nn)<.01)v.current=!1,zd(c)&&l.up.copy(b.current);else{let X=N*Ad;zt.rotateTowards(Nn,X),l.position.set(0,0,1).applyQuaternion(zt).multiplyScalar(h.current).add(y.current),l.up.set(0,1,0).applyQuaternion(zt).normalize(),l.quaternion.copy(zt),n?n():c&&c.update(),m()}Ia.copy(l.matrix).invert(),(K=p.current)==null||K.quaternion.setFromRotationMatrix(Ia),o&&(u.autoClear=!1),u.clearDepth(),u.render(x,_.current)}},r);let T=La(_),w=J.useMemo(()=>({tweenCamera:g,raycast:T}),[g]),[C,S]=t,R=e.endsWith("-center")?0:e.endsWith("-left")?-a.width/2+C:a.width/2-C,z=e.startsWith("center-")?0:e.startsWith("top-")?a.height/2-S:-a.height/2+S;return Ed(Md(ka.Provider,{value:w,children:[Ha(za,{ref:_,position:[0,0,200]}),Ha("group",{ref:p,position:[R,z,0],children:s})]}),x)};import*as eo from"react";import{useThree as Ld}from"@react-three/fiber";import{CanvasTexture as Dd}from"three";import{Fragment as Va,jsx as ie,jsxs as Jr}from"react/jsx-runtime";function Hn({scale:e=[.8,.05,.05],color:t,rotation:r}){return ie("group",{rotation:r,children:Jr("mesh",{position:[.4,0,0],children:[ie("boxGeometry",{args:e}),ie("meshBasicMaterial",{color:t,toneMapped:!1})]})})}function Mt(l){var c=l,{onClick:e,font:t,disabled:r,arcStyle:o,label:n,labelColor:i,axisHeadScale:s=1}=c,a=F(c,["onClick","font","disabled","arcStyle","label","labelColor","axisHeadScale"]);let u=Ld(v=>v.gl),f=eo.useMemo(()=>{let v=document.createElement("canvas");v.width=64,v.height=64;let h=v.getContext("2d");return h.beginPath(),h.arc(32,32,16,0,2*Math.PI),h.closePath(),h.fillStyle=o,h.fill(),n&&(h.font=t,h.textAlign="center",h.fillStyle=i,h.fillText(n,32,41)),new Dd(v)},[o,n,i,t]),[m,d]=eo.useState(!1),p=(n?1:.75)*(m?1.2:1)*s;return ie("sprite",V(M({scale:p,onPointerOver:r?void 0:v=>{v.stopPropagation(),d(!0)},onPointerOut:r?void 0:e||(v=>{v.stopPropagation(),d(!1)})},a),{children:ie("spriteMaterial",{map:f,"map-encoding":u.outputEncoding,"map-anisotropy":u.capabilities.getMaxAnisotropy()||1,alphaTest:.3,opacity:n?1:.75,toneMapped:!1})}))}var Ga=f=>{var m=f,{hideNegativeAxes:e,hideAxisHeads:t,disabled:r,font:o="18px Inter var, Arial, sans-serif",axisColors:n=["#ff2060","#20df80","#2080ff"],axisHeadScale:i=1,axisScale:s,labels:a=["X","Y","Z"],labelColor:l="#000",onClick:c}=m,u=F(m,["hideNegativeAxes","hideAxisHeads","disabled","font","axisColors","axisHeadScale","axisScale","labels","labelColor","onClick"]);let[d,p,_]=n,{tweenCamera:x,raycast:v}=Ua(),h={font:o,disabled:r,labelColor:l,raycast:v,onClick:c,axisHeadScale:i,onPointerDown:r?void 0:y=>{x(y.object.position),y.stopPropagation()}};return Jr("group",V(M({scale:40},u),{children:[ie(Hn,{color:d,rotation:[0,0,0],scale:s}),ie(Hn,{color:p,rotation:[0,0,Math.PI/2],scale:s}),ie(Hn,{color:_,rotation:[0,-Math.PI/2,0],scale:s}),!t&&Jr(Va,{children:[ie(Mt,M({arcStyle:d,position:[1,0,0],label:a[0]},h)),ie(Mt,M({arcStyle:p,position:[0,1,0],label:a[1]},h)),ie(Mt,M({arcStyle:_,position:[0,0,1],label:a[2]},h)),!e&&Jr(Va,{children:[ie(Mt,M({arcStyle:d,position:[-1,0,0]},h)),ie(Mt,M({arcStyle:p,position:[0,-1,0]},h)),ie(Mt,M({arcStyle:_,position:[0,0,-1]},h))]})]}),ie("ambientLight",{intensity:.5}),ie("pointLight",{position:[10,10,10],intensity:.5})]}))};import{Fragment as Od,jsx as kn}from"react/jsx-runtime";function Ya({isFigmaPlugin:e}){return kn(Od,{children:kn(Ba,{alignment:"bottom-right",margin:e?[25,25]:[65,110],renderPriority:2,children:kn(Ga,{axisColors:["#FF430A","#FF430A","#FF430A"],labelColor:"white",hideNegativeAxes:!0,axisHeadScale:.8})})})}var re={LEFT:1,RIGHT:2,MIDDLE:4},P=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768});function ft(e){return e.isPerspectiveCamera}function Ke(e){return e.isOrthographicCamera}var Lt=Math.PI*2,qa=Math.PI/2,el=1e-5;function j(e,t=el){return Math.abs(e)<t}function q(e,t,r=el){return j(e-t,r)}function ja(e,t){return Math.round(e/t)*t}function sr(e){return isFinite(e)?e:e<0?-Number.MAX_VALUE:Number.MAX_VALUE}function ar(e){return Math.abs(e)<Number.MAX_VALUE?e:e*(1/0)}function Un(e,t){t.set(0,0),e.forEach(r=>{t.x+=r.clientX,t.y+=r.clientY}),t.x/=e.length,t.y/=e.length}function Bn(e,t){return Ke(e)?(console.warn(`${t} is not supported in OrthographicCamera`),!0):!1}function Xa(e){return e.invert?e.invert():e.inverse(),e}var jn=class{constructor(){this._listeners={}}addEventListener(t,r){let o=this._listeners;o[t]===void 0&&(o[t]=[]),o[t].indexOf(r)===-1&&o[t].push(r)}removeEventListener(t,r){let n=this._listeners[t];if(n!==void 0){let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}removeAllEventListeners(t){if(!t){this._listeners={};return}Array.isArray(this._listeners[t])&&(this._listeners[t].length=0)}dispatchEvent(t){let o=this._listeners[t.type];if(o!==void 0){t.target=this;let n=o.slice(0);for(let i=0,s=n.length;i<s;i++)n[i].call(this,t)}}},tl=typeof window<"u",Id=tl&&/Mac/.test(navigator.platform),Za=!(tl&&"PointerEvent"in window),to=1/8,L,Qa,ro,Vn,ce,k,G,Dt,Re,Ae,ut,Wa,Ka,ye,lr,Ot,$a,Gn,Ja,Yn,qn,oo,cr=class extends jn{constructor(t,r){if(super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=0,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.dampingFactor=.05,this.draggingDampingFactor=.25,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=P.NONE,this._viewport=null,this._dollyControlAmount=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._activePointers=[],this._truckInternal=(o,n,i)=>{if(ft(this._camera)){let s=k.copy(this._camera.position).sub(this._target),a=this._camera.getEffectiveFOV()*L.MathUtils.DEG2RAD,l=s.length()*Math.tan(a*.5),c=this.truckSpeed*o*l/this._elementRect.height,u=this.truckSpeed*n*l/this._elementRect.height;this.verticalDragToForward?(i?this.setFocalOffset(this._focalOffsetEnd.x+c,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(c,0,!0),this.forward(-u,!0)):i?this.setFocalOffset(this._focalOffsetEnd.x+c,this._focalOffsetEnd.y+u,this._focalOffsetEnd.z,!0):this.truck(c,u,!0)}else if(Ke(this._camera)){let s=this._camera,a=o*(s.right-s.left)/s.zoom/this._elementRect.width,l=n*(s.top-s.bottom)/s.zoom/this._elementRect.height;i?this.setFocalOffset(this._focalOffsetEnd.x+a,this._focalOffsetEnd.y+l,this._focalOffsetEnd.z,!0):this.truck(a,l,!0)}},this._rotateInternal=(o,n)=>{let i=Lt*this.azimuthRotateSpeed*o/this._elementRect.height,s=Lt*this.polarRotateSpeed*n/this._elementRect.height;this.rotate(i,s,!0)},this._dollyInternal=(o,n,i)=>{let s=Math.pow(.95,-o*this.dollySpeed),a=this._sphericalEnd.radius*s,l=this._sphericalEnd.radius,c=l*(o>=0?-1:1);this.dollyTo(a),this.infinityDolly&&(a<this.minDistance||this.maxDistance===this.minDistance)&&(this._camera.getWorldDirection(k),this._targetEnd.add(k.normalize().multiplyScalar(c)),this._target.add(k.normalize().multiplyScalar(c))),this.dollyToCursor&&(this._dollyControlAmount+=this._sphericalEnd.radius-l,this.infinityDolly&&(a<this.minDistance||this.maxDistance===this.minDistance)&&(this._dollyControlAmount-=c),this._dollyControlCoord.set(n,i))},this._zoomInternal=(o,n,i)=>{let s=Math.pow(.95,o*this.dollySpeed),a=this._zoomEnd;this.zoomTo(this._zoom*s),this.dollyToCursor&&(this._dollyControlAmount+=this._zoomEnd-a,this._dollyControlCoord.set(n,i))},typeof L>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=t,this._yAxisUpSpace=new L.Quaternion().setFromUnitVectors(this._camera.up,ro),this._yAxisUpSpaceInverse=Xa(this._yAxisUpSpace.clone()),this._state=P.NONE,this._domElement=r,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._target=new L.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new L.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new L.Spherical().setFromVector3(k.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._nearPlaneCorners=[new L.Vector3,new L.Vector3,new L.Vector3,new L.Vector3],this._updateNearPlaneCorners(),this._boundary=new L.Box3(new L.Vector3(-1/0,-1/0,-1/0),new L.Vector3(1/0,1/0,1/0)),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlAmount=0,this._dollyControlCoord=new L.Vector2,this.mouseButtons={left:P.ROTATE,middle:P.DOLLY,right:P.TRUCK,wheel:ft(this._camera)?P.DOLLY:Ke(this._camera)?P.ZOOM:P.NONE},this.touches={one:P.TOUCH_ROTATE,two:ft(this._camera)?P.TOUCH_DOLLY_TRUCK:Ke(this._camera)?P.TOUCH_ZOOM_TRUCK:P.NONE,three:P.TOUCH_TRUCK},this._domElement){let o=new L.Vector2,n=new L.Vector2,i=new L.Vector2,s=g=>{if(!this._enabled)return;let T={pointerId:g.pointerId,clientX:g.clientX,clientY:g.clientY,deltaX:0,deltaY:0};this._activePointers.push(T),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",m),this._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",m),h(g)},a=g=>{if(!this._enabled)return;let T={pointerId:0,clientX:g.clientX,clientY:g.clientY,deltaX:0,deltaY:0};this._activePointers.push(T),this._domElement.ownerDocument.removeEventListener("mousemove",u),this._domElement.ownerDocument.removeEventListener("mouseup",d),this._domElement.ownerDocument.addEventListener("mousemove",u),this._domElement.ownerDocument.addEventListener("mouseup",d),h(g)},l=g=>{this._enabled&&(g.preventDefault(),Array.prototype.forEach.call(g.changedTouches,T=>{let w={pointerId:T.identifier,clientX:T.clientX,clientY:T.clientY,deltaX:0,deltaY:0};this._activePointers.push(w)}),this._domElement.ownerDocument.removeEventListener("touchmove",f,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",p),this._domElement.ownerDocument.addEventListener("touchmove",f,{passive:!1}),this._domElement.ownerDocument.addEventListener("touchend",p),h(g))},c=g=>{g.cancelable&&g.preventDefault();let T=g.pointerId,w=this._findPointerById(T);if(w){if(w.clientX=g.clientX,w.clientY=g.clientY,w.deltaX=g.movementX,w.deltaY=g.movementY,g.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=0,(g.buttons&re.LEFT)===re.LEFT&&(this._state=this._state|this.mouseButtons.left),(g.buttons&re.MIDDLE)===re.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(g.buttons&re.RIGHT)===re.RIGHT&&(this._state=this._state|this.mouseButtons.right);y()}},u=g=>{let T=this._findPointerById(0);T&&(T.clientX=g.clientX,T.clientY=g.clientY,T.deltaX=g.movementX,T.deltaY=g.movementY,this._state=0,(g.buttons&re.LEFT)===re.LEFT&&(this._state=this._state|this.mouseButtons.left),(g.buttons&re.MIDDLE)===re.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(g.buttons&re.RIGHT)===re.RIGHT&&(this._state=this._state|this.mouseButtons.right),y())},f=g=>{g.cancelable&&g.preventDefault(),Array.prototype.forEach.call(g.changedTouches,T=>{let w=T.identifier,C=this._findPointerById(w);C&&(C.clientX=T.clientX,C.clientY=T.clientY)}),y()},m=g=>{let T=g.pointerId,w=this._findPointerById(T);if(w&&this._activePointers.splice(this._activePointers.indexOf(w),1),g.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=P.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=P.NONE;b()},d=()=>{let g=this._findPointerById(0);g&&this._activePointers.splice(this._activePointers.indexOf(g),1),this._state=P.NONE,b()},p=g=>{switch(Array.prototype.forEach.call(g.changedTouches,T=>{let w=T.identifier,C=this._findPointerById(w);C&&this._activePointers.splice(this._activePointers.indexOf(C),1)}),this._activePointers.length){case 0:this._state=P.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}b()},_=-1,x=g=>{if(!this._enabled||this.mouseButtons.wheel===P.NONE)return;if(g.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===P.ROTATE||this.mouseButtons.wheel===P.TRUCK){let R=performance.now();_-R<1e3&&this._getClientRect(this._elementRect),_=R}let T=Id?-1:-3,w=g.deltaMode===1?g.deltaY/T:g.deltaY/(T*10),C=this.dollyToCursor?(g.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,S=this.dollyToCursor?(g.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case P.ROTATE:{this._rotateInternal(g.deltaX,g.deltaY);break}case P.TRUCK:{this._truckInternal(g.deltaX,g.deltaY,!1);break}case P.OFFSET:{this._truckInternal(g.deltaX,g.deltaY,!0);break}case P.DOLLY:{this._dollyInternal(-w,C,S);break}case P.ZOOM:{this._zoomInternal(-w,C,S);break}}this.dispatchEvent({type:"control"})},v=g=>{this._enabled&&g.preventDefault()},h=g=>{if(!this._enabled)return;if(Un(this._activePointers,ce),this._getClientRect(this._elementRect),o.copy(ce),n.copy(ce),this._activePointers.length>=2){let w=ce.x-this._activePointers[1].clientX,C=ce.y-this._activePointers[1].clientY,S=Math.sqrt(w*w+C*C);i.set(0,S);let R=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,z=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;n.set(R,z)}if("touches"in g||"pointerType"in g&&g.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=0,(g.buttons&re.LEFT)===re.LEFT&&(this._state=this._state|this.mouseButtons.left),(g.buttons&re.MIDDLE)===re.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(g.buttons&re.RIGHT)===re.RIGHT&&(this._state=this._state|this.mouseButtons.right);this.dispatchEvent({type:"controlstart"})},y=()=>{if(!this._enabled)return;Un(this._activePointers,ce);let g=this._domElement&&document.pointerLockElement===this._domElement,T=g?-this._activePointers[0].deltaX:n.x-ce.x,w=g?-this._activePointers[0].deltaY:n.y-ce.y;if(n.copy(ce),((this._state&P.ROTATE)===P.ROTATE||(this._state&P.TOUCH_ROTATE)===P.TOUCH_ROTATE||(this._state&P.TOUCH_DOLLY_ROTATE)===P.TOUCH_DOLLY_ROTATE||(this._state&P.TOUCH_ZOOM_ROTATE)===P.TOUCH_ZOOM_ROTATE)&&this._rotateInternal(T,w),(this._state&P.DOLLY)===P.DOLLY||(this._state&P.ZOOM)===P.ZOOM){let C=this.dollyToCursor?(o.x-this._elementRect.x)/this._elementRect.width*2-1:0,S=this.dollyToCursor?(o.y-this._elementRect.y)/this._elementRect.height*-2+1:0;this._state===P.DOLLY?this._dollyInternal(w*to,C,S):this._zoomInternal(w*to,C,S)}if((this._state&P.TOUCH_DOLLY)===P.TOUCH_DOLLY||(this._state&P.TOUCH_ZOOM)===P.TOUCH_ZOOM||(this._state&P.TOUCH_DOLLY_TRUCK)===P.TOUCH_DOLLY_TRUCK||(this._state&P.TOUCH_ZOOM_TRUCK)===P.TOUCH_ZOOM_TRUCK||(this._state&P.TOUCH_DOLLY_OFFSET)===P.TOUCH_DOLLY_OFFSET||(this._state&P.TOUCH_ZOOM_OFFSET)===P.TOUCH_ZOOM_OFFSET||(this._state&P.TOUCH_DOLLY_ROTATE)===P.TOUCH_DOLLY_ROTATE||(this._state&P.TOUCH_ZOOM_ROTATE)===P.TOUCH_ZOOM_ROTATE){let C=ce.x-this._activePointers[1].clientX,S=ce.y-this._activePointers[1].clientY,R=Math.sqrt(C*C+S*S),z=i.y-R;i.set(0,R);let O=this.dollyToCursor?(n.x-this._elementRect.x)/this._elementRect.width*2-1:0,N=this.dollyToCursor?(n.y-this._elementRect.y)/this._elementRect.height*-2+1:0;this._state===P.TOUCH_DOLLY||this._state===P.TOUCH_DOLLY_ROTATE||this._state===P.TOUCH_DOLLY_TRUCK||this._state===P.TOUCH_DOLLY_OFFSET?this._dollyInternal(z*to,O,N):this._zoomInternal(z*to,O,N)}((this._state&P.TRUCK)===P.TRUCK||(this._state&P.TOUCH_TRUCK)===P.TOUCH_TRUCK||(this._state&P.TOUCH_DOLLY_TRUCK)===P.TOUCH_DOLLY_TRUCK||(this._state&P.TOUCH_ZOOM_TRUCK)===P.TOUCH_ZOOM_TRUCK)&&this._truckInternal(T,w,!1),((this._state&P.OFFSET)===P.OFFSET||(this._state&P.TOUCH_OFFSET)===P.TOUCH_OFFSET||(this._state&P.TOUCH_DOLLY_OFFSET)===P.TOUCH_DOLLY_OFFSET||(this._state&P.TOUCH_ZOOM_OFFSET)===P.TOUCH_ZOOM_OFFSET)&&this._truckInternal(T,w,!0),this.dispatchEvent({type:"control"})},b=()=>{Un(this._activePointers,ce),n.copy(ce),this._activePointers.length===0&&(this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",m),this._domElement.ownerDocument.removeEventListener("touchmove",f,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",p),this.dispatchEvent({type:"controlend"}))};this._domElement.addEventListener("pointerdown",s),Za&&this._domElement.addEventListener("mousedown",a),Za&&this._domElement.addEventListener("touchstart",l),this._domElement.addEventListener("pointercancel",m),this._domElement.addEventListener("wheel",x,{passive:!1}),this._domElement.addEventListener("contextmenu",v),this._removeAllEventListeners=()=>{this._domElement.removeEventListener("pointerdown",s),this._domElement.removeEventListener("mousedown",a),this._domElement.removeEventListener("touchstart",l),this._domElement.removeEventListener("pointercancel",m),this._domElement.removeEventListener("wheel",x,{passive:!1}),this._domElement.removeEventListener("contextmenu",v),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",u),this._domElement.ownerDocument.removeEventListener("touchmove",f,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",m),this._domElement.ownerDocument.removeEventListener("mouseup",d),this._domElement.ownerDocument.removeEventListener("touchend",p)},this.cancel=()=>{this._state!==P.NONE&&(this._state=P.NONE,this._activePointers.length=0,b())}}this.update(0)}static install(t){L=t.THREE,Qa=Object.freeze(new L.Vector3(0,0,0)),ro=Object.freeze(new L.Vector3(0,1,0)),Vn=Object.freeze(new L.Vector3(0,0,1)),ce=new L.Vector2,k=new L.Vector3,G=new L.Vector3,Dt=new L.Vector3,Re=new L.Vector3,Ae=new L.Vector3,ut=new L.Vector3,Wa=new L.Vector3,Ka=new L.Vector3,ye=new L.Spherical,lr=new L.Spherical,Ot=new L.Box3,$a=new L.Box3,Gn=new L.Sphere,Ja=new L.Quaternion,Yn=new L.Quaternion,qn=new L.Matrix4,oo=new L.Raycaster}static get ACTION(){return P}get camera(){return this._camera}set camera(t){this._camera=t,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(t){this._enabled=t,t?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="")}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(t){this._spherical.radius===t&&this._sphericalEnd.radius===t||(this._spherical.radius=t,this._sphericalEnd.radius=t,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(t){this._spherical.theta===t&&this._sphericalEnd.theta===t||(this._spherical.theta=t,this._sphericalEnd.theta=t,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(t){this._spherical.phi===t&&this._sphericalEnd.phi===t||(this._spherical.phi=t,this._sphericalEnd.phi=t,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(t){this._boundaryEnclosesCamera=t,this._needsUpdate=!0}addEventListener(t,r){super.addEventListener(t,r)}removeEventListener(t,r){super.removeEventListener(t,r)}rotate(t,r,o=!1){return this.rotateTo(this._sphericalEnd.theta+t,this._sphericalEnd.phi+r,o)}rotateAzimuthTo(t,r=!1){return this.rotateTo(t,this._sphericalEnd.phi,r)}rotatePolarTo(t,r=!1){return this.rotateTo(this._sphericalEnd.theta,t,r)}rotateTo(t,r,o=!1){let n=L.MathUtils.clamp(t,this.minAzimuthAngle,this.maxAzimuthAngle),i=L.MathUtils.clamp(r,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=n,this._sphericalEnd.phi=i,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,o||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);let s=!o||q(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&q(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(s)}dolly(t,r=!1){return this.dollyTo(this._sphericalEnd.radius-t,r)}dollyTo(t,r=!1){let o=this._sphericalEnd.radius,n=L.MathUtils.clamp(t,this.minDistance,this.maxDistance);if(this.colliderMeshes.length>=1){let a=this._collisionTest(),l=q(a,this._spherical.radius);if(!(o>n)&&l)return Promise.resolve();this._sphericalEnd.radius=Math.min(n,a)}else this._sphericalEnd.radius=n;this._needsUpdate=!0,r||(this._spherical.radius=this._sphericalEnd.radius);let s=!r||q(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(s)}zoom(t,r=!1){return this.zoomTo(this._zoomEnd+t,r)}zoomTo(t,r=!1){this._zoomEnd=L.MathUtils.clamp(t,this.minZoom,this.maxZoom),this._needsUpdate=!0,r||(this._zoom=this._zoomEnd);let o=!r||q(this._zoom,this._zoomEnd,this.restThreshold);return this._createOnRestPromise(o)}pan(t,r,o=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(t,r,o)}truck(t,r,o=!1){this._camera.updateMatrix(),Re.setFromMatrixColumn(this._camera.matrix,0),Ae.setFromMatrixColumn(this._camera.matrix,1),Re.multiplyScalar(t),Ae.multiplyScalar(-r);let n=k.copy(Re).add(Ae),i=G.copy(this._targetEnd).add(n);return this.moveTo(i.x,i.y,i.z,o)}forward(t,r=!1){k.setFromMatrixColumn(this._camera.matrix,0),k.crossVectors(this._camera.up,k),k.multiplyScalar(t);let o=G.copy(this._targetEnd).add(k);return this.moveTo(o.x,o.y,o.z,r)}moveTo(t,r,o,n=!1){let i=k.set(t,r,o).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,i,this.boundaryFriction),this._needsUpdate=!0,n||this._target.copy(this._targetEnd);let s=!n||q(this._target.x,this._targetEnd.x,this.restThreshold)&&q(this._target.y,this._targetEnd.y,this.restThreshold)&&q(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}fitToBox(t,r,{cover:o=!1,paddingLeft:n=0,paddingRight:i=0,paddingBottom:s=0,paddingTop:a=0}={}){let l=[],c=t.isBox3?Ot.copy(t):Ot.setFromObject(t);c.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());let u=ja(this._sphericalEnd.theta,qa),f=ja(this._sphericalEnd.phi,qa);l.push(this.rotateTo(u,f,r));let m=k.setFromSpherical(this._sphericalEnd).normalize(),d=Ja.setFromUnitVectors(m,Vn),p=q(Math.abs(m.y),1);p&&d.multiply(Yn.setFromAxisAngle(ro,u)),d.multiply(this._yAxisUpSpaceInverse);let _=$a.makeEmpty();G.copy(c.min).applyQuaternion(d),_.expandByPoint(G),G.copy(c.min).setX(c.max.x).applyQuaternion(d),_.expandByPoint(G),G.copy(c.min).setY(c.max.y).applyQuaternion(d),_.expandByPoint(G),G.copy(c.max).setZ(c.min.z).applyQuaternion(d),_.expandByPoint(G),G.copy(c.min).setZ(c.max.z).applyQuaternion(d),_.expandByPoint(G),G.copy(c.max).setY(c.min.y).applyQuaternion(d),_.expandByPoint(G),G.copy(c.max).setX(c.min.x).applyQuaternion(d),_.expandByPoint(G),G.copy(c.max).applyQuaternion(d),_.expandByPoint(G),_.min.x-=n,_.min.y-=s,_.max.x+=i,_.max.y+=a,d.setFromUnitVectors(Vn,m),p&&d.premultiply(Yn.invert()),d.premultiply(this._yAxisUpSpace);let x=_.getSize(k),v=_.getCenter(G).applyQuaternion(d);if(ft(this._camera)){let h=this.getDistanceToFitBox(x.x,x.y,x.z,o);l.push(this.moveTo(v.x,v.y,v.z,r)),l.push(this.dollyTo(h,r)),l.push(this.setFocalOffset(0,0,0,r))}else if(Ke(this._camera)){let h=this._camera,y=h.right-h.left,b=h.top-h.bottom,g=o?Math.max(y/x.x,b/x.y):Math.min(y/x.x,b/x.y);l.push(this.moveTo(v.x,v.y,v.z,r)),l.push(this.zoomTo(g,r)),l.push(this.setFocalOffset(0,0,0,r))}return Promise.all(l)}fitToSphere(t,r){let o=[],i=t instanceof L.Sphere?Gn.copy(t):Fd(t,Gn);if(o.push(this.moveTo(i.center.x,i.center.y,i.center.z,r)),ft(this._camera)){let s=this.getDistanceToFitSphere(i.radius);o.push(this.dollyTo(s,r))}else if(Ke(this._camera)){let s=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,l=2*i.radius,c=Math.min(s/l,a/l);o.push(this.zoomTo(c,r))}return o.push(this.setFocalOffset(0,0,0,r)),Promise.all(o)}setLookAt(t,r,o,n,i,s,a=!1){let l=G.set(n,i,s),c=k.set(t,r,o);this._targetEnd.copy(l),this._sphericalEnd.setFromVector3(c.sub(l).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let u=!a||q(this._target.x,this._targetEnd.x,this.restThreshold)&&q(this._target.y,this._targetEnd.y,this.restThreshold)&&q(this._target.z,this._targetEnd.z,this.restThreshold)&&q(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&q(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&q(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(u)}lerpLookAt(t,r,o,n,i,s,a,l,c,u,f,m,d,p=!1){let _=k.set(n,i,s),x=G.set(t,r,o);ye.setFromVector3(x.sub(_).applyQuaternion(this._yAxisUpSpace));let v=Dt.set(u,f,m),h=G.set(a,l,c);lr.setFromVector3(h.sub(v).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(_.lerp(v,d));let y=lr.theta-ye.theta,b=lr.phi-ye.phi,g=lr.radius-ye.radius;this._sphericalEnd.set(ye.radius+g*d,ye.phi+b*d,ye.theta+y*d),this.normalizeRotations(),this._needsUpdate=!0,p||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let T=!p||q(this._target.x,this._targetEnd.x,this.restThreshold)&&q(this._target.y,this._targetEnd.y,this.restThreshold)&&q(this._target.z,this._targetEnd.z,this.restThreshold)&&q(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&q(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&q(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(T)}setPosition(t,r,o,n=!1){return this.setLookAt(t,r,o,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,n)}setTarget(t,r,o,n=!1){let i=this.getPosition(k);return this.setLookAt(i.x,i.y,i.z,t,r,o,n)}setFocalOffset(t,r,o,n=!1){this._focalOffsetEnd.set(t,r,o),this._needsUpdate=!0,n||this._focalOffset.copy(this._focalOffsetEnd);let i=!n||q(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&q(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&q(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}setOrbitPoint(t,r,o){this._camera.updateMatrixWorld(),Re.setFromMatrixColumn(this._camera.matrixWorldInverse,0),Ae.setFromMatrixColumn(this._camera.matrixWorldInverse,1),ut.setFromMatrixColumn(this._camera.matrixWorldInverse,2);let n=k.set(t,r,o),i=n.distanceTo(this._camera.position),s=n.sub(this._camera.position);Re.multiplyScalar(s.x),Ae.multiplyScalar(s.y),ut.multiplyScalar(s.z),k.copy(Re).add(Ae).add(ut),k.z=k.z+i,this.dollyTo(i,!1),this.setFocalOffset(-k.x,k.y,-k.z,!1),this.moveTo(t,r,o,!1)}setBoundary(t){if(!t){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(t),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(t,r,o,n){if(t===null){this._viewport=null;return}this._viewport=this._viewport||new L.Vector4,typeof t=="number"?this._viewport.set(t,r,o,n):this._viewport.copy(t)}getDistanceToFitBox(t,r,o,n=!1){if(Bn(this._camera,"getDistanceToFitBox"))return this._spherical.radius;let i=t/r,s=this._camera.getEffectiveFOV()*L.MathUtils.DEG2RAD,a=this._camera.aspect;return((n?i>a:i<a)?r:t/a)*.5/Math.tan(s*.5)+o*.5}getDistanceToFitSphere(t){if(Bn(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;let r=this._camera.getEffectiveFOV()*L.MathUtils.DEG2RAD,o=Math.atan(Math.tan(r*.5)*this._camera.aspect)*2,n=1<this._camera.aspect?r:o;return t/Math.sin(n*.5)}getTarget(t){return(t&&t.isVector3?t:new L.Vector3).copy(this._targetEnd)}getPosition(t){return(t&&t.isVector3?t:new L.Vector3).setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd)}getFocalOffset(t){return(t&&t.isVector3?t:new L.Vector3).copy(this._focalOffsetEnd)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Lt,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Lt),this._spherical.theta+=Lt*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Lt)}reset(t=!1){let r=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,t),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,t),this.zoomTo(this._zoom0,t)];return Promise.all(r)}saveState(){this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,ro),Xa(this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace))}update(t){let r=this._state===P.NONE?this.dampingFactor:this.draggingDampingFactor,o=Math.min(r*t*60,1),n=this._sphericalEnd.theta-this._spherical.theta,i=this._sphericalEnd.phi-this._spherical.phi,s=this._sphericalEnd.radius-this._spherical.radius,a=Wa.subVectors(this._targetEnd,this._target),l=Ka.subVectors(this._focalOffsetEnd,this._focalOffset);if(!j(n)||!j(i)||!j(s)||!j(a.x)||!j(a.y)||!j(a.z)||!j(l.x)||!j(l.y)||!j(l.z)?(this._spherical.set(this._spherical.radius+s*o,this._spherical.phi+i*o,this._spherical.theta+n*o),this._target.add(a.multiplyScalar(o)),this._focalOffset.add(l.multiplyScalar(o)),this._needsUpdate=!0):(this._spherical.copy(this._sphericalEnd),this._target.copy(this._targetEnd),this._focalOffset.copy(this._focalOffsetEnd)),this._dollyControlAmount!==0){if(ft(this._camera)){let d=this._camera,p=k.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),_=G.copy(p).cross(d.up).normalize();_.lengthSq()===0&&(_.x=1);let x=Dt.crossVectors(_,p),v=this._sphericalEnd.radius*Math.tan(d.getEffectiveFOV()*L.MathUtils.DEG2RAD*.5),y=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,b=k.copy(this._targetEnd).add(_.multiplyScalar(this._dollyControlCoord.x*v*d.aspect)).add(x.multiplyScalar(this._dollyControlCoord.y*v));this._targetEnd.lerp(b,y)}else if(Ke(this._camera)){let d=this._camera,p=d.getWorldDirection(k.clone()),_=this._targetEnd.x*p.x+this._targetEnd.y*p.y+this._targetEnd.z*p.z,x=k.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(d.near+d.far)/(d.near-d.far)).unproject(d),v=G.set(0,0,-1).applyQuaternion(d.quaternion),h=Dt.copy(x).add(v.multiplyScalar(-x.dot(d.up))),b=-(this._zoom-this._dollyControlAmount-this._zoomEnd)/this._zoom;this._targetEnd.lerp(h,b);let g=this._targetEnd.x*p.x+this._targetEnd.y*p.y+this._targetEnd.z*p.z,T=p.multiplyScalar(g-_);this._targetEnd.sub(T)}this._target.copy(this._targetEnd),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._dollyControlAmount=0}let c=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,c),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!j(this._focalOffset.x)||!j(this._focalOffset.y)||!j(this._focalOffset.z))&&(this._camera.updateMatrix(),Re.setFromMatrixColumn(this._camera.matrix,0),Ae.setFromMatrixColumn(this._camera.matrix,1),ut.setFromMatrixColumn(this._camera.matrix,2),Re.multiplyScalar(this._focalOffset.x),Ae.multiplyScalar(-this._focalOffset.y),ut.multiplyScalar(this._focalOffset.z),k.copy(Re).add(Ae).add(ut),this._camera.position.add(k)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),k.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);let f=this._zoomEnd-this._zoom;this._zoom+=f*o,this._camera.zoom!==this._zoom&&(j(f)&&(this._zoom=this._zoomEnd),this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);let m=this._needsUpdate;return m&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):m?(this.dispatchEvent({type:"update"}),j(n,this.restThreshold)&&j(i,this.restThreshold)&&j(s,this.restThreshold)&&j(a.x,this.restThreshold)&&j(a.y,this.restThreshold)&&j(a.z,this.restThreshold)&&j(l.x,this.restThreshold)&&j(l.y,this.restThreshold)&&j(l.z,this.restThreshold)&&j(f,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!m&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._updatedLastTime=m,this._needsUpdate=!1,m}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:sr(this.maxDistance),minZoom:this.minZoom,maxZoom:sr(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:sr(this.maxPolarAngle),minAzimuthAngle:sr(this.minAzimuthAngle),maxAzimuthAngle:sr(this.maxAzimuthAngle),dampingFactor:this.dampingFactor,draggingDampingFactor:this.draggingDampingFactor,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:k.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(t,r=!1){let o=JSON.parse(t),n=k.fromArray(o.position);this.enabled=o.enabled,this.minDistance=o.minDistance,this.maxDistance=ar(o.maxDistance),this.minZoom=o.minZoom,this.maxZoom=ar(o.maxZoom),this.minPolarAngle=o.minPolarAngle,this.maxPolarAngle=ar(o.maxPolarAngle),this.minAzimuthAngle=ar(o.minAzimuthAngle),this.maxAzimuthAngle=ar(o.maxAzimuthAngle),this.dampingFactor=o.dampingFactor,this.draggingDampingFactor=o.draggingDampingFactor,this.dollySpeed=o.dollySpeed,this.truckSpeed=o.truckSpeed,this.dollyToCursor=o.dollyToCursor,this.verticalDragToForward=o.verticalDragToForward,this._target0.fromArray(o.target0),this._position0.fromArray(o.position0),this._zoom0=o.zoom0,this._focalOffset0.fromArray(o.focalOffset0),this.moveTo(o.target[0],o.target[1],o.target[2],r),ye.setFromVector3(n.sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(ye.theta,ye.phi,r),this.zoomTo(o.zoom,r),this.setFocalOffset(o.focalOffset[0],o.focalOffset[1],o.focalOffset[2],r),this._needsUpdate=!0}dispose(){this._removeAllEventListeners()}_findPointerById(t){let r=null;return this._activePointers.some(o=>o.pointerId===t?(r=o,!0):!1),r}_encloseToBoundary(t,r,o){let n=r.lengthSq();if(n===0)return t;let i=G.copy(r).add(t),a=this._boundary.clampPoint(i,Dt).sub(i),l=a.lengthSq();if(l===0)return t.add(r);if(l===n)return t;if(o===0)return t.add(r).add(a);{let c=1+o*l/r.dot(a);return t.add(G.copy(r).multiplyScalar(c)).add(a.multiplyScalar(1-o))}}_updateNearPlaneCorners(){if(ft(this._camera)){let t=this._camera,r=t.near,o=t.getEffectiveFOV()*L.MathUtils.DEG2RAD,n=Math.tan(o*.5)*r,i=n*t.aspect;this._nearPlaneCorners[0].set(-i,-n,0),this._nearPlaneCorners[1].set(i,-n,0),this._nearPlaneCorners[2].set(i,n,0),this._nearPlaneCorners[3].set(-i,n,0)}else if(Ke(this._camera)){let t=this._camera,r=1/t.zoom,o=t.left*r,n=t.right*r,i=t.top*r,s=t.bottom*r;this._nearPlaneCorners[0].set(o,i,0),this._nearPlaneCorners[1].set(n,i,0),this._nearPlaneCorners[2].set(n,s,0),this._nearPlaneCorners[3].set(o,s,0)}}_collisionTest(){let t=1/0;if(!(this.colliderMeshes.length>=1)||Bn(this._camera,"_collisionTest"))return t;let o=k.setFromSpherical(this._spherical).divideScalar(this._spherical.radius);qn.lookAt(Qa,o,this._camera.up);for(let n=0;n<4;n++){let i=G.copy(this._nearPlaneCorners[n]);i.applyMatrix4(qn);let s=Dt.addVectors(this._target,i);oo.set(s,o),oo.far=this._spherical.radius+1;let a=oo.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<t&&(t=a[0].distance)}return t}_getClientRect(t){let r=this._domElement.getBoundingClientRect();return t.x=r.left,t.y=r.top,this._viewport?(t.x+=this._viewport.x,t.y+=r.height-this._viewport.w-this._viewport.y,t.width=this._viewport.z,t.height=this._viewport.w):(t.width=r.width,t.height=r.height),t}_createOnRestPromise(t){return t?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(r=>{let o=()=>{this.removeEventListener("rest",o),r()};this.addEventListener("rest",o)}))}_removeAllEventListeners(){}};function Fd(e,t){let r=t,o=r.center;Ot.makeEmpty(),e.traverseVisible(i=>{i.isMesh&&Ot.expandByObject(i)}),Ot.getCenter(o);let n=0;return e.traverseVisible(i=>{if(!i.isMesh)return;let s=i,a=s.geometry.clone();if(a.applyMatrix4(s.matrixWorld),a.isBufferGeometry){let c=a.attributes.position;for(let u=0,f=c.count;u<f;u++)k.fromBufferAttribute(c,u),n=Math.max(n,o.distanceToSquared(k))}else{let l=a.attributes.position,c=new L.Vector3;for(let u=0,f=l.count;u<f;u++)c.fromBufferAttribute(l,u),n=Math.max(n,o.distanceToSquared(c))}}),r.radius=Math.sqrt(n),r}import*as kd from"three";import{useEffect as il,useRef as Nd}from"react";var rl=1,ol=14,Xn={zoom:1,distance:14},Zn={zoom:5,distance:14};var nl={meshDelay:0,meshDur:0,rotDelay:1.7,rotDur:1,posDelay:1.3,posDur:2.2,logoTransition:3.1,text:2.5,to:1},no="https://ruucm.github.io/shadergradient/shadergradient@1.0.0/hdr/";import{useFrame as Hd}from"@react-three/fiber";function sl({type:e,cAzimuthAngle:t,cPolarAngle:r,cDistance:o,cameraZoom:n,zoomOut:i}){let s=Nd(),a=s.current;Hd((c,u)=>s.current.update(u)),il(()=>{a==null||a.rotateTo(Yr(t),Yr(r),!0)},[a,t,r]);let l=ee(c=>c.hoverState);return il(()=>{i||l!==0?e==="sphere"?(a==null||a.dollyTo(Zn.distance,!0),a==null||a.zoomTo(Zn.zoom,!0)):(a==null||a.dollyTo(Xn.distance,!0),a==null||a.zoomTo(Xn.zoom,!0)):e==="sphere"?(a==null||a.zoomTo(n,!0),a==null||a.dollyTo(ol,!0)):(a==null||a.dollyTo(o,!0),a==null||a.zoomTo(rl,!0))},[a,i,l,e,n,o]),s}import{extend as Ud,useThree as al}from"@react-three/fiber";import{jsx as Bd}from"react/jsx-runtime";function ll(r){var o=r,{dampingFactor:e=.05}=o,t=F(o,["dampingFactor"]);cr.install({THREE:kd}),Ud({CameraControls:cr});let n=al(a=>a.camera),i=al(a=>a.gl),s=sl(t);return Bd("cameraControls",{ref:s,args:[n,i.domElement],enableDamping:!0,dampingFactor:e,zoomSpeed:10,dollySpeed:10,restThreshold:0})}import qd from"react";import{EquirectangularReflectionMapping as jd}from"three";import{useThree as Xd}from"@react-three/fiber";import{DataTextureLoader as Vd,HalfFloatType as io,FloatType as Qn,DataUtils as so,LinearEncoding as Gd,LinearFilter as cl}from"three";var fr=class extends Vd{constructor(t){super(t),this.type=io}parse(t){let a=function(y,b){switch(y){case 1:console.error("THREE.RGBELoader Read Error: "+(b||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(b||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(b||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(b||""))}return-1},f=`
`,m=function(y,b,g){b=b||1024;let w=y.pos,C=-1,S=0,R="",z=String.fromCharCode.apply(null,new Uint16Array(y.subarray(w,w+128)));for(;0>(C=z.indexOf(f))&&S<b&&w<y.byteLength;)R+=z,S+=z.length,w+=128,z+=String.fromCharCode.apply(null,new Uint16Array(y.subarray(w,w+128)));return-1<C?(g!==!1&&(y.pos+=S+C+1),R+z.slice(0,C)):!1},d=function(y){let b=/^#\?(\S+)/,g=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,T=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,w=/^\s*FORMAT=(\S+)\s*$/,C=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,S={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0},R,z;if(y.pos>=y.byteLength||!(R=m(y)))return a(1,"no header found");if(!(z=R.match(b)))return a(3,"bad initial token");for(S.valid|=1,S.programtype=z[1],S.string+=R+`
`;R=m(y),R!==!1;){if(S.string+=R+`
`,R.charAt(0)==="#"){S.comments+=R+`
`;continue}if((z=R.match(g))&&(S.gamma=parseFloat(z[1])),(z=R.match(T))&&(S.exposure=parseFloat(z[1])),(z=R.match(w))&&(S.valid|=2,S.format=z[1]),(z=R.match(C))&&(S.valid|=4,S.height=parseInt(z[1],10),S.width=parseInt(z[2],10)),S.valid&2&&S.valid&4)break}return S.valid&2?S.valid&4?S:a(3,"missing image size specifier"):a(3,"missing format specifier")},p=function(y,b,g){let T=b;if(T<8||T>32767||y[0]!==2||y[1]!==2||y[2]&128)return new Uint8Array(y);if(T!==(y[2]<<8|y[3]))return a(3,"wrong scanline width");let w=new Uint8Array(4*b*g);if(!w.length)return a(4,"unable to allocate buffer space");let C=0,S=0,R=4*T,z=new Uint8Array(4),O=new Uint8Array(R),N=g;for(;N>0&&S<y.byteLength;){if(S+4>y.byteLength)return a(1);if(z[0]=y[S++],z[1]=y[S++],z[2]=y[S++],z[3]=y[S++],z[0]!=2||z[1]!=2||(z[2]<<8|z[3])!=T)return a(3,"bad rgbe scanline format");let K=0,X;for(;K<R&&S<y.byteLength;){X=y[S++];let ne=X>128;if(ne&&(X-=128),X===0||K+X>R)return a(3,"bad scanline data");if(ne){let ae=y[S++];for(let Oe=0;Oe<X;Oe++)O[K++]=ae}else O.set(y.subarray(S,S+X),K),K+=X,S+=X}let we=T;for(let ne=0;ne<we;ne++){let ae=0;w[C]=O[ne+ae],ae+=T,w[C+1]=O[ne+ae],ae+=T,w[C+2]=O[ne+ae],ae+=T,w[C+3]=O[ne+ae],C+=4}N--}return w},_=function(y,b,g,T){let w=y[b+3],C=Math.pow(2,w-128)/255;g[T+0]=y[b+0]*C,g[T+1]=y[b+1]*C,g[T+2]=y[b+2]*C,g[T+3]=1},x=function(y,b,g,T){let w=y[b+3],C=Math.pow(2,w-128)/255;g[T+0]=so.toHalfFloat(Math.min(y[b+0]*C,65504)),g[T+1]=so.toHalfFloat(Math.min(y[b+1]*C,65504)),g[T+2]=so.toHalfFloat(Math.min(y[b+2]*C,65504)),g[T+3]=so.toHalfFloat(1)},v=new Uint8Array(t);v.pos=0;let h=d(v);if(h!==-1){let y=h.width,b=h.height,g=p(v.subarray(v.pos),y,b);if(g!==-1){let T,w,C;switch(this.type){case Qn:C=g.length/4;let S=new Float32Array(C*4);for(let z=0;z<C;z++)_(g,z*4,S,z*4);T=S,w=Qn;break;case io:C=g.length/4;let R=new Uint16Array(C*4);for(let z=0;z<C;z++)x(g,z*4,R,z*4);T=R,w=io;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:y,height:b,data:T,header:h.string,gamma:h.gamma,exposure:h.exposure,type:w}}}return null}setDataType(t){return this.type=t,this}load(t,r,o,n){function i(s,a){switch(s.type){case Qn:case io:s.encoding=Gd,s.minFilter=cl,s.magFilter=cl,s.generateMipmaps=!1,s.flipY=!0;break}r&&r(s,a)}return super.load(t,i,o,n)}};import{useLoader as Yd}from"@react-three/fiber";function ao(e,{path:t}){return Yd(fr,e,o=>o.setPath(t))}var Zd=e=>e.current&&e.current.isScene,Qd=e=>Zd(e)?e.current:e;function fl({background:e=!1,envPreset:t}){let r=ao("city.hdr",{path:no}),o=ao("dawn.hdr",{path:no}),n=ao("lobby.hdr",{path:no}),s={city:r,dawn:o,lobby:n}[t],a=Xd(c=>c.scene);qd.useLayoutEffect(()=>{if(s){let c=Qd(a),u=c.background,f=c.environment;return e!=="only"&&(c.environment=s),e&&(c.background=s),()=>{e!=="only"&&(c.environment=f),e&&(c.background="black")}}},[a,s,e]);let l=s;return l.mapping=jd,null}import{Suspense as Kd,useEffect as $d}from"react";import{useState as Wd}from"react";import{DefaultLoadingManager as ul}from"three";var Wn=0;function dl(){let[e,t]=Wd({});return ul.onLoad=()=>{t(r=>V(M({},r),{active:!1}))},ul.onProgress=(r,o,n)=>{o===n&&(Wn=n);let i=(o-Wn)/(n-Wn)*100||100;t(s=>V(M({},s),{active:!0,item:r,loaded:o,total:n,progress:i}))},e}import{Fragment as em,jsx as ur,jsxs as tm}from"react/jsx-runtime";function ml({lightType:e,brightness:t,envPreset:r}){let o=He(n=>n.setLoadingPercentage);return tm(em,{children:[e==="3d"&&ur("ambientLight",{intensity:t||1}),e==="env"&&ur(Kd,{fallback:ur(Jd,{}),children:ur(fl,{envPreset:r,background:!1,loadingCallback:o})})]})}function Jd(){let{progress:e}=dl();return $d(()=>{let t=document.getElementById("LoaderRoot");t&&e&&(e===100?(t.innerHTML="Ligths are loaded",setTimeout(()=>{t.innerHTML=""},1e3)):t.innerHTML="Loading lights...")},[e]),ur("ambientLight",{intensity:.4})}import{addEffect as np,applyProps as ip}from"@react-three/fiber";var $n=mr(),D=e=>dr(e,$n),Jn=mr();D.write=e=>dr(e,Jn);var lo=mr();D.onStart=e=>dr(e,lo);var ei=mr();D.onFrame=e=>dr(e,ei);var ti=mr();D.onFinish=e=>dr(e,ti);var It=[];D.setTimeout=(e,t)=>{let r=D.now()+t,o=()=>{let i=It.findIndex(s=>s.cancel==o);~i&&It.splice(i,1),Je-=~i?1:0},n={time:r,handler:e,cancel:o};return It.splice(pl(r),0,n),Je+=1,hl(),n};var pl=e=>~(~It.findIndex(t=>t.time>e)||~It.length);D.cancel=e=>{lo.delete(e),ei.delete(e),ti.delete(e),$n.delete(e),Jn.delete(e)};D.sync=e=>{Kn=!0,D.batchedUpdates(e),Kn=!1};D.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function o(...n){t=n,D.onStart(r)}return o.handler=e,o.cancel=()=>{lo.delete(r),t=null},o};var ri=typeof window<"u"?window.requestAnimationFrame:()=>{};D.use=e=>ri=e;D.now=typeof performance<"u"?()=>performance.now():Date.now;D.batchedUpdates=e=>e();D.catch=console.error;D.frameLoop="always";D.advance=()=>{D.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):vl()};var $e=-1,Je=0,Kn=!1;function dr(e,t){Kn?(t.delete(e),e(0)):(t.add(e),hl())}function hl(){$e<0&&($e=0,D.frameLoop!=="demand"&&ri(gl))}function rm(){$e=-1}function gl(){~$e&&(ri(gl),D.batchedUpdates(vl))}function vl(){let e=$e;$e=D.now();let t=pl($e);if(t&&(xl(It.splice(0,t),r=>r.handler()),Je-=t),!Je){rm();return}lo.flush(),$n.flush(e?Math.min(64,$e-e):16.667),ei.flush(),Jn.flush(),ti.flush()}function mr(){let e=new Set,t=e;return{add(r){Je+=t==e&&!e.has(r)?1:0,e.add(r)},delete(r){return Je-=t==e&&e.has(r)?1:0,e.delete(r)},flush(r){t.size&&(e=new Set,Je-=t.size,xl(t,o=>o(r)&&e.add(o)),Je+=e.size,t=e)}}}function xl(e,t){e.forEach(r=>{try{t(r)}catch(o){D.catch(o)}})}import{useRef as li,useEffect as xo,useLayoutEffect as om,useState as Cl}from"react";function yo(){}var Rl=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),E={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function ze(e,t){if(E.arr(e)){if(!E.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}var B=(e,t)=>e.forEach(t);function be(e,t,r){if(E.arr(e)){for(let o=0;o<e.length;o++)t.call(r,e[o],`${o}`);return}for(let o in e)e.hasOwnProperty(o)&&t.call(r,e[o],o)}var de=e=>E.und(e)?[]:E.arr(e)?e:[e];function Ht(e,t){if(e.size){let r=Array.from(e);e.clear(),B(r,t)}}var kt=(e,...t)=>Ht(e,r=>r(...t)),ci=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),fi,Al,et=null,zl=!1,ui=yo,nm=e=>{e.to&&(Al=e.to),e.now&&(D.now=e.now),e.colors!==void 0&&(et=e.colors),e.skipAnimation!=null&&(zl=e.skipAnimation),e.createStringInterpolator&&(fi=e.createStringInterpolator),e.requestAnimationFrame&&D.use(e.requestAnimationFrame),e.batchedUpdates&&(D.batchedUpdates=e.batchedUpdates),e.willAdvance&&(ui=e.willAdvance),e.frameLoop&&(D.frameLoop=e.frameLoop)},me=Object.freeze({__proto__:null,get createStringInterpolator(){return fi},get to(){return Al},get colors(){return et},get skipAnimation(){return zl},get willAdvance(){return ui},assign:nm}),pr=new Set,he=[],oi=[],po=0,Ut={get idle(){return!pr.size&&!he.length},start(e){po>e.priority?(pr.add(e),D.onStart(im)):(Ml(e),D(si))},advance:si,sort(e){if(po)D.onFrame(()=>Ut.sort(e));else{let t=he.indexOf(e);~t&&(he.splice(t,1),Ll(e))}},clear(){he=[],pr.clear()}};function im(){pr.forEach(Ml),pr.clear(),D(si)}function Ml(e){he.includes(e)||Ll(e)}function Ll(e){he.splice(sm(he,t=>t.priority>e.priority),0,e)}function si(e){let t=oi;for(let r=0;r<he.length;r++){let o=he[r];po=o.priority,o.idle||(ui(o),o.advance(e),o.idle||t.push(o))}return po=0,oi=he,oi.length=0,he=t,he.length>0}function sm(e,t){let r=e.findIndex(t);return r<0?e.length:r}var am=(e,t,r)=>Math.min(Math.max(r,e),t),Dl={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},_e="[-+]?\\d*\\.?\\d+",ho=_e+"%";function _o(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var lm=new RegExp("rgb"+_o(_e,_e,_e)),cm=new RegExp("rgba"+_o(_e,_e,_e,_e)),fm=new RegExp("hsl"+_o(_e,ho,ho)),um=new RegExp("hsla"+_o(_e,ho,ho,_e)),dm=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,mm=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,pm=/^#([0-9a-fA-F]{6})$/,hm=/^#([0-9a-fA-F]{8})$/;function gm(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=pm.exec(e))?parseInt(t[1]+"ff",16)>>>0:et&&et[e]!==void 0?et[e]:(t=lm.exec(e))?(Ft(t[1])<<24|Ft(t[2])<<16|Ft(t[3])<<8|255)>>>0:(t=cm.exec(e))?(Ft(t[1])<<24|Ft(t[2])<<16|Ft(t[3])<<8|bl(t[4]))>>>0:(t=dm.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=hm.exec(e))?parseInt(t[1],16)>>>0:(t=mm.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=fm.exec(e))?(yl(_l(t[1]),co(t[2]),co(t[3]))|255)>>>0:(t=um.exec(e))?(yl(_l(t[1]),co(t[2]),co(t[3]))|bl(t[4]))>>>0:null}function ni(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function yl(e,t,r){let o=r<.5?r*(1+t):r+t-r*t,n=2*r-o,i=ni(n,o,e+1/3),s=ni(n,o,e),a=ni(n,o,e-1/3);return Math.round(i*255)<<24|Math.round(s*255)<<16|Math.round(a*255)<<8}function Ft(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function _l(e){return(parseFloat(e)%360+360)%360/360}function bl(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function co(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function Tl(e){let t=gm(e);if(t===null)return e;t=t||0;let r=(t&4278190080)>>>24,o=(t&16711680)>>>16,n=(t&65280)>>>8,i=(t&255)/255;return`rgba(${r}, ${o}, ${n}, ${i})`}var tt=(e,t,r)=>{if(E.fun(e))return e;if(E.arr(e))return tt({range:e,output:t,extrapolate:r});if(E.str(e.output[0]))return fi(e);let o=e,n=o.output,i=o.range||[0,1],s=o.extrapolateLeft||o.extrapolate||"extend",a=o.extrapolateRight||o.extrapolate||"extend",l=o.easing||(c=>c);return c=>{let u=xm(c,i);return vm(c,i[u],i[u+1],n[u],n[u+1],l,s,a,o.map)}};function vm(e,t,r,o,n,i,s,a,l){let c=l?l(e):e;if(c<t){if(s==="identity")return c;s==="clamp"&&(c=t)}if(c>r){if(a==="identity")return c;a==="clamp"&&(c=r)}return o===n?o:t===r?e<=t?o:n:(t===-1/0?c=-c:r===1/0?c=c-t:c=(c-t)/(r-t),c=i(c),o===-1/0?c=-c:n===1/0?c=c+o:c=c*(n-o)+o,c)}function xm(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}var ym=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);let o=r*e,n=t==="end"?Math.floor(o):Math.ceil(o);return am(0,1,n/e)},go=1.70158,fo=go*1.525,Sl=go+1,El=2*Math.PI/3,Pl=2*Math.PI/4.5,uo=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,di={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>Sl*e*e*e-go*e*e,easeOutBack:e=>1+Sl*Math.pow(e-1,3)+go*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((fo+1)*2*e-fo)/2:(Math.pow(2*e-2,2)*((fo+1)*(e*2-2)+fo)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*El),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*El)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Pl))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Pl)/2+1,easeInBounce:e=>1-uo(1-e),easeOutBounce:uo,easeInOutBounce:e=>e<.5?(1-uo(1-2*e))/2:(1+uo(2*e-1))/2,steps:ym};function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ai.apply(this,arguments)}var Nt=Symbol.for("FluidValue.get"),dt=Symbol.for("FluidValue.observers"),ge=e=>Boolean(e&&e[Nt]),fe=e=>e&&e[Nt]?e[Nt]():e,mi=e=>e[dt]||null;function _m(e,t){e.eventObserved?e.eventObserved(t):e(t)}function hr(e,t){let r=e[dt];r&&r.forEach(o=>{_m(o,t)})}var vo=class{constructor(t){if(this[Nt]=void 0,this[dt]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");bm(this,t)}},bm=(e,t)=>Ol(e,Nt,t);function mt(e,t){if(e[Nt]){let r=e[dt];r||Ol(e,dt,r=new Set),r.has(t)||(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function Bt(e,t){let r=e[dt];if(r&&r.has(t)){let o=r.size-1;o?r.delete(t):e[dt]=null,e.observerRemoved&&e.observerRemoved(o,t)}}var Ol=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),mo=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Tm=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,wl=new RegExp(`(${mo.source})(%|[a-z]+)`,"i"),Sm=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,bo=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Il=e=>{let[t,r]=Em(e);if(!t||ci())return e;let o=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(o)return o.trim();if(r&&r.startsWith("--")){let n=window.getComputedStyle(document.documentElement).getPropertyValue(r);return n||e}else{if(r&&bo.test(r))return Il(r);if(r)return r}return e},Em=e=>{let t=bo.exec(e);if(!t)return[,];let[,r,o]=t;return[r,o]},ii,Pm=(e,t,r,o,n)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(o)}, ${n})`,To=e=>{ii||(ii=et?new RegExp(`(${Object.keys(et).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(i=>fe(i).replace(bo,Il).replace(Tm,Tl).replace(ii,Tl)),r=t.map(i=>i.match(mo).map(Number)),n=r[0].map((i,s)=>r.map(a=>{if(!(s in a))throw Error('The arity of each "output" value must be equal');return a[s]})).map(i=>tt(ai({},e,{output:i})));return i=>{var s;let a=!wl.test(t[0])&&((s=t.find(c=>wl.test(c)))==null?void 0:s.replace(mo,"")),l=0;return t[0].replace(mo,()=>`${n[l++](i)}${a||""}`).replace(Sm,Pm)}},pi="react-spring: ",Fl=e=>{let t=e,r=!1;if(typeof t!="function")throw new TypeError(`${pi}once requires a function parameter`);return(...o)=>{r||(t(...o),r=!0)}},wm=Fl(console.warn);function Nl(){wm(`${pi}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Cm=Fl(console.warn);function Hl(){Cm(`${pi}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Vt(e){return E.str(e)&&(e[0]=="#"||/\d/.test(e)||!ci()&&bo.test(e)||e in(et||{}))}var Gt=ci()?xo:om,Rm=()=>{let e=li(!1);return Gt(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function So(){let e=Cl()[1],t=Rm();return()=>{t.current&&e(Math.random())}}function kl(e,t){let[r]=Cl(()=>({inputs:t,result:e()})),o=li(),n=o.current,i=n;return i?Boolean(t&&i.inputs&&Am(t,i.inputs))||(i={inputs:t,result:e()}):i=r,xo(()=>{o.current=i,n==r&&(r.inputs=r.result=void 0)},[i]),i.result}function Am(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Eo=e=>xo(e,zm),zm=[];function hi(e){let t=li();return xo(()=>{t.current=e}),t.current}import*as Rr from"react";import{useContext as rc,useMemo as zo,useRef as jl,useState as Hy}from"react";import*as Yl from"react";import{forwardRef as Mm,useRef as Ul,useCallback as Lm,useEffect as Dm}from"react";var gr=Symbol.for("Animated:node"),Om=e=>!!e&&e[gr]===e,Te=e=>e&&e[gr],Ro=(e,t)=>Rl(e,gr,t),yr=e=>e&&e[gr]&&e[gr].getPayload(),Po=class{constructor(){this.payload=void 0,Ro(this,this)}getPayload(){return this.payload||[]}},Be=class extends Po{constructor(t){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=t,E.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Be(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,r){return E.num(t)&&(this.lastPosition=t,r&&(t=Math.round(t/r)*r,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){let{done:t}=this;this.done=!1,E.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},Ve=class extends Be{constructor(t){super(0),this._string=null,this._toString=void 0,this._toString=tt({output:[t,t]})}static create(t){return new Ve(t)}getValue(){let t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(E.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=tt({output:[this.getValue(),t]})),this._value=0,super.reset()}},wo={dependencies:null},vr=class extends Po{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){let r={};return be(this.source,(o,n)=>{Om(o)?r[n]=o.getValue(t):ge(o)?r[n]=fe(o):t||(r[n]=o)}),r}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&B(this.payload,t=>t.reset())}_makePayload(t){if(t){let r=new Set;return be(t,this._addToPayload,r),Array.from(r)}}_addToPayload(t){wo.dependencies&&ge(t)&&wo.dependencies.add(t);let r=yr(t);r&&B(r,o=>this.add(o))}},xr=class extends vr{constructor(t){super(t)}static create(t){return new xr(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){let r=this.getPayload();return t.length==r.length?r.map((o,n)=>o.setValue(t[n])).some(Boolean):(super.setValue(t.map(Im)),!0)}};function Im(e){return(Vt(e)?Ve:Be).create(e)}function Ao(e){let t=Te(e);return t?t.constructor:E.arr(e)?xr:Vt(e)?Ve:Be}function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Co.apply(this,arguments)}var Bl=(e,t)=>{let r=!E.fun(e)||e.prototype&&e.prototype.isReactComponent;return Mm((o,n)=>{let i=Ul(null),s=r&&Lm(p=>{i.current=Nm(n,p)},[n]),[a,l]=Fm(o,t),c=So(),u=()=>{let p=i.current;if(r&&!p)return;(p?t.applyAnimatedValues(p,a.getValue(!0)):!1)===!1&&c()},f=new gi(u,l),m=Ul();Gt(()=>(m.current=f,B(l,p=>mt(p,f)),()=>{m.current&&(B(m.current.deps,p=>Bt(p,m.current)),D.cancel(m.current.update))})),Dm(u,[]),Eo(()=>()=>{let p=m.current;B(p.deps,_=>Bt(_,p))});let d=t.getComponentProps(a.getValue());return Yl.createElement(e,Co({},d,{ref:s}))})},gi=class{constructor(t,r){this.update=t,this.deps=r}eventObserved(t){t.type=="change"&&D.write(this.update)}};function Fm(e,t){let r=new Set;return wo.dependencies=r,e.style&&(e=Co({},e,{style:t.createAnimatedStyle(e.style)})),e=new vr(e),wo.dependencies=null,[e,r]}function Nm(e,t){return e&&(E.fun(e)?e(t):e.current=t),t}var Vl=Symbol.for("AnimatedComponent"),ql=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=n=>new vr(n),getComponentProps:o=n=>n}={})=>{let n={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:o},i=s=>{let a=Gl(s)||"Anonymous";return E.str(s)?s=i[s]||(i[s]=Bl(s,n)):s=s[Vl]||(s[Vl]=Bl(s,n)),s.displayName=`Animated(${a})`,s};return be(e,(s,a)=>{E.arr(e)&&(a=Gl(s)),i[a]=i(s)}),{animated:i}},Gl=e=>E.str(e)?e:e&&E.str(e.displayName)?e.displayName:E.fun(e)&&e.name||null;function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},oe.apply(this,arguments)}function pt(e,...t){return E.fun(e)?e(...t):e}var Sr=(e,t)=>e===!0||!!(t&&e&&(E.fun(e)?e(t):de(e).includes(t))),oc=(e,t)=>E.obj(e)?t&&e[t]:e,nc=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Hm=e=>e,zi=(e,t=Hm)=>{let r=km;e.default&&e.default!==!0&&(e=e.default,r=Object.keys(e));let o={};for(let n of r){let i=t(e[n],n);E.und(i)||(o[n]=i)}return o},km=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Um={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Bm(e){let t={},r=0;if(be(e,(o,n)=>{Um[n]||(t[n]=o,r++)}),r)return t}function ic(e){let t=Bm(e);if(t){let r={to:t};return be(e,(o,n)=>n in t||(r[n]=o)),r}return oe({},e)}function Er(e){return e=fe(e),E.arr(e)?e.map(Er):Vt(e)?me.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Vm(e){for(let t in e)return!0;return!1}function yi(e){return E.fun(e)||E.arr(e)&&E.obj(e[0])}function Gm(e,t){var r;(r=e.ref)==null||r.delete(e),t?.delete(e)}function Ym(e,t){if(t&&e.ref!==t){var r;(r=e.ref)==null||r.delete(e),t.add(e),e.ref=t}}var qm={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},_i=oe({},qm.default,{mass:1,damping:1,easing:di.linear,clamp:!1}),bi=class{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,_i)}};function jm(e,t,r){r&&(r=oe({},r),Xl(r,t),t=oe({},r,t)),Xl(e,t),Object.assign(e,t);for(let s in _i)e[s]==null&&(e[s]=_i[s]);let{mass:o,frequency:n,damping:i}=e;return E.und(n)||(n<.01&&(n=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/n,2)*o,e.friction=4*Math.PI*i*o/n),e}function Xl(e,t){if(!E.und(t.decay))e.duration=void 0;else{let r=!E.und(t.tension)||!E.und(t.friction);(r||!E.und(t.frequency)||!E.und(t.damping)||!E.und(t.mass))&&(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}}var Zl=[],Ti=class{constructor(){this.changed=!1,this.values=Zl,this.toValues=null,this.fromValues=Zl,this.to=void 0,this.from=void 0,this.config=new bi,this.immediate=!1}};function sc(e,{key:t,props:r,defaultProps:o,state:n,actions:i}){return new Promise((s,a)=>{var l;let c,u,f=Sr((l=r.cancel)!=null?l:o?.cancel,t);if(f)p();else{E.und(r.pause)||(n.paused=Sr(r.pause,t));let _=o?.pause;_!==!0&&(_=n.paused||Sr(_,t)),c=pt(r.delay||0,t),_?(n.resumeQueue.add(d),i.pause()):(i.resume(),d())}function m(){n.resumeQueue.add(d),n.timeouts.delete(u),u.cancel(),c=u.time-D.now()}function d(){c>0&&!me.skipAnimation?(n.delayed=!0,u=D.setTimeout(p,c),n.pauseQueue.add(m),n.timeouts.add(u)):p()}function p(){n.delayed&&(n.delayed=!1),n.pauseQueue.delete(m),n.timeouts.delete(u),e<=(n.cancelId||0)&&(f=!0);try{i.start(oe({},r,{callId:e,cancel:f}),s)}catch(_){a(_)}}})}var Mi=(e,t)=>t.length==1?t[0]:t.some(r=>r.cancelled)?Yt(e.get()):t.every(r=>r.noop)?ac(e.get()):Se(e.get(),t.every(r=>r.finished)),ac=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Se=(e,t,r=!1)=>({value:e,finished:t,cancelled:r}),Yt=e=>({value:e,cancelled:!0,finished:!1});function lc(e,t,r,o){let{callId:n,parentId:i,onRest:s}=t,{asyncTo:a,promise:l}=r;return!i&&e===a&&!t.reset?l:r.promise=(async()=>{r.asyncId=n,r.asyncTo=e;let c=zi(t,(x,v)=>v==="onRest"?void 0:x),u,f,m=new Promise((x,v)=>(u=x,f=v)),d=x=>{let v=n<=(r.cancelId||0)&&Yt(o)||n!==r.asyncId&&Se(o,!1);if(v)throw x.result=v,f(x),x},p=(x,v)=>{let h=new Mo,y=new Lo;return(async()=>{if(me.skipAnimation)throw Pr(r),y.result=Se(o,!1),f(y),y;d(h);let b=E.obj(x)?oe({},x):oe({},v,{to:x});b.parentId=n,be(c,(T,w)=>{E.und(b[w])&&(b[w]=T)});let g=await o.start(b);return d(h),r.paused&&await new Promise(T=>{r.resumeQueue.add(T)}),g})()},_;if(me.skipAnimation)return Pr(r),Se(o,!1);try{let x;E.arr(e)?x=(async v=>{for(let h of v)await p(h)})(e):x=Promise.resolve(e(p,o.stop.bind(o))),await Promise.all([x.then(u),m]),_=Se(o.get(),!0,!1)}catch(x){if(x instanceof Mo)_=x.result;else if(x instanceof Lo)_=x.result;else throw x}finally{n==r.asyncId&&(r.asyncId=i,r.asyncTo=i?a:void 0,r.promise=i?l:void 0)}return E.fun(s)&&D.batchedUpdates(()=>{s(_,o,o.item)}),_})()}function Pr(e,t){Ht(e.timeouts,r=>r.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Mo=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}},Lo=class extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}},Si=e=>e instanceof wr,Xm=1,wr=class extends vo{constructor(...t){super(...t),this.id=Xm++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){let t=Te(this);return t&&t.getValue()}to(...t){return me.to(this,t)}interpolate(...t){return Nl(),me.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,r=!1){hr(this,{type:"change",parent:this,value:t,idle:r})}_onPriorityChange(t){this.idle||Ut.sort(this),hr(this,{type:"priority",parent:this,priority:t})}},ht=Symbol.for("SpringPhase"),cc=1,Ei=2,Pi=4,vi=e=>(e[ht]&cc)>0,rt=e=>(e[ht]&Ei)>0,_r=e=>(e[ht]&Pi)>0,Ql=(e,t)=>t?e[ht]|=Ei|cc:e[ht]&=~Ei,Wl=(e,t)=>t?e[ht]|=Pi:e[ht]&=~Pi,wi=class extends wr{constructor(t,r){if(super(),this.key=void 0,this.animation=new Ti,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!E.und(t)||!E.und(r)){let o=E.obj(t)?oe({},t):oe({},r,{from:t});E.und(o.default)&&(o.default=!0),this.start(o)}}get idle(){return!(rt(this)||this._state.asyncTo)||_r(this)}get goal(){return fe(this.animation.to)}get velocity(){let t=Te(this);return t instanceof Be?t.lastVelocity||0:t.getPayload().map(r=>r.lastVelocity||0)}get hasAnimated(){return vi(this)}get isAnimating(){return rt(this)}get isPaused(){return _r(this)}get isDelayed(){return this._state.delayed}advance(t){let r=!0,o=!1,n=this.animation,{config:i,toValues:s}=n,a=yr(n.to);!a&&ge(n.to)&&(s=de(fe(n.to))),n.values.forEach((u,f)=>{if(u.done)return;let m=u.constructor==Ve?1:a?a[f].lastPosition:s[f],d=n.immediate,p=m;if(!d){if(p=u.lastPosition,i.tension<=0){u.done=!0;return}let _=u.elapsedTime+=t,x=n.fromValues[f],v=u.v0!=null?u.v0:u.v0=E.arr(i.velocity)?i.velocity[f]:i.velocity,h,y=i.precision||(x==m?.005:Math.min(1,Math.abs(m-x)*.001));if(E.und(i.duration))if(i.decay){let b=i.decay===!0?.998:i.decay,g=Math.exp(-(1-b)*_);p=x+v/(1-b)*(1-g),d=Math.abs(u.lastPosition-p)<=y,h=v*g}else{h=u.lastVelocity==null?v:u.lastVelocity;let b=i.restVelocity||y/10,g=i.clamp?0:i.bounce,T=!E.und(g),w=x==m?u.v0>0:x<m,C,S=!1,R=1,z=Math.ceil(t/R);for(let O=0;O<z&&(C=Math.abs(h)>b,!(!C&&(d=Math.abs(m-p)<=y,d)));++O){T&&(S=p==m||p>m==w,S&&(h=-h*g,p=m));let N=-i.tension*1e-6*(p-m),K=-i.friction*.001*h,X=(N+K)/i.mass;h=h+X*R,p=p+h*R}}else{let b=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,u.durationProgress>0&&(u.elapsedTime=i.duration*u.durationProgress,_=u.elapsedTime+=t)),b=(i.progress||0)+_/this._memoizedDuration,b=b>1?1:b<0?0:b,u.durationProgress=b),p=x+i.easing(b)*(m-x),h=(p-u.lastPosition)/t,d=b==1}u.lastVelocity=h,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),d=!0)}a&&!a[f].done&&(d=!1),d?u.done=!0:r=!1,u.setValue(p,i.round)&&(o=!0)});let l=Te(this),c=l.getValue();if(r){let u=fe(n.to);(c!==u||o)&&!i.decay?(l.setValue(u),this._onChange(u)):o&&i.decay&&this._onChange(c),this._stop()}else o&&this._onChange(c)}set(t){return D.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(rt(this)){let{to:t,config:r}=this.animation;D.batchedUpdates(()=>{this._onStart(),r.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,r){let o;return E.und(t)?(o=this.queue||[],this.queue=[]):o=[E.obj(t)?t:oe({},r,{to:t})],Promise.all(o.map(n=>this._update(n))).then(n=>Mi(this,n))}stop(t){let{to:r}=this.animation;return this._focus(this.get()),Pr(this._state,t&&this._lastCallId),D.batchedUpdates(()=>this._stop(r,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){let r=this.key||"",{to:o,from:n}=t;o=E.obj(o)?o[r]:o,(o==null||yi(o))&&(o=void 0),n=E.obj(n)?n[r]:n,n==null&&(n=void 0);let i={to:o,from:n};return vi(this)||(t.reverse&&([o,n]=[n,o]),n=fe(n),E.und(n)?Te(this)||this._set(o):this._set(n)),i}_update(t,r){let o=oe({},t),{key:n,defaultProps:i}=this;o.default&&Object.assign(i,zi(o,(l,c)=>/^on/.test(c)?oc(l,n):l)),$l(this,o,"onProps"),Tr(this,"onProps",o,this);let s=this._prepareNode(o);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let a=this._state;return sc(++this._lastCallId,{key:n,props:o,defaultProps:i,state:a,actions:{pause:()=>{_r(this)||(Wl(this,!0),kt(a.pauseQueue),Tr(this,"onPause",Se(this,br(this,this.animation.to)),this))},resume:()=>{_r(this)&&(Wl(this,!1),rt(this)&&this._resume(),kt(a.resumeQueue),Tr(this,"onResume",Se(this,br(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(l=>{if(o.loop&&l.finished&&!(r&&l.noop)){let c=fc(o);if(c)return this._update(c,!0)}return l})}_merge(t,r,o){if(r.cancel)return this.stop(!0),o(Yt(this));let n=!E.und(t.to),i=!E.und(t.from);if(n||i)if(r.callId>this._lastToId)this._lastToId=r.callId;else return o(Yt(this));let{key:s,defaultProps:a,animation:l}=this,{to:c,from:u}=l,{to:f=c,from:m=u}=t;i&&!n&&(!r.default||E.und(f))&&(f=m),r.reverse&&([f,m]=[m,f]);let d=!ze(m,u);d&&(l.from=m),m=fe(m);let p=!ze(f,c);p&&this._focus(f);let _=yi(r.to),{config:x}=l,{decay:v,velocity:h}=x;(n||i)&&(x.velocity=0),r.config&&!_&&jm(x,pt(r.config,s),r.config!==a.config?pt(a.config,s):void 0);let y=Te(this);if(!y||E.und(f))return o(Se(this,!0));let b=E.und(r.reset)?i&&!r.default:!E.und(m)&&Sr(r.reset,s),g=b?m:this.get(),T=Er(f),w=E.num(T)||E.arr(T)||Vt(T),C=!_&&(!w||Sr(a.immediate||r.immediate,s));if(p){let O=Ao(f);if(O!==y.constructor)if(C)y=this._set(T);else throw Error(`Cannot animate between ${y.constructor.name} and ${O.name}, as the "to" prop suggests`)}let S=y.constructor,R=ge(f),z=!1;if(!R){let O=b||!vi(this)&&d;(p||O)&&(z=ze(Er(g),T),R=!z),(!ze(l.immediate,C)&&!C||!ze(x.decay,v)||!ze(x.velocity,h))&&(R=!0)}if(z&&rt(this)&&(l.changed&&!b?R=!0:R||this._stop(c)),!_&&((R||ge(c))&&(l.values=y.getPayload(),l.toValues=ge(f)?null:S==Ve?[1]:de(T)),l.immediate!=C&&(l.immediate=C,!C&&!b&&this._set(c)),R)){let{onRest:O}=l;B(Qm,K=>$l(this,r,K));let N=Se(this,br(this,c));kt(this._pendingCalls,N),this._pendingCalls.add(o),l.changed&&D.batchedUpdates(()=>{l.changed=!b,O?.(N,this),b?pt(a.onRest,N):l.onStart==null||l.onStart(N,this)})}b&&this._set(g),_?o(lc(r.to,r,this._state,this)):R?this._start():rt(this)&&!p?this._pendingCalls.add(o):o(ac(g))}_focus(t){let r=this.animation;t!==r.to&&(mi(this)&&this._detach(),r.to=t,mi(this)&&this._attach())}_attach(){let t=0,{to:r}=this.animation;ge(r)&&(mt(r,this),Si(r)&&(t=r.priority+1)),this.priority=t}_detach(){let{to:t}=this.animation;ge(t)&&Bt(t,this)}_set(t,r=!0){let o=fe(t);if(!E.und(o)){let n=Te(this);if(!n||!ze(o,n.getValue())){let i=Ao(o);!n||n.constructor!=i?Ro(this,i.create(o)):n.setValue(o),n&&D.batchedUpdates(()=>{this._onChange(o,r)})}}return Te(this)}_onStart(){let t=this.animation;t.changed||(t.changed=!0,Tr(this,"onStart",Se(this,br(this,t.to)),this))}_onChange(t,r){r||(this._onStart(),pt(this.animation.onChange,t,this)),pt(this.defaultProps.onChange,t,this),super._onChange(t,r)}_start(){let t=this.animation;Te(this).reset(fe(t.to)),t.immediate||(t.fromValues=t.values.map(r=>r.lastPosition)),rt(this)||(Ql(this,!0),_r(this)||this._resume())}_resume(){me.skipAnimation?this.finish():Ut.start(this)}_stop(t,r){if(rt(this)){Ql(this,!1);let o=this.animation;B(o.values,i=>{i.done=!0}),o.toValues&&(o.onChange=o.onPause=o.onResume=void 0),hr(this,{type:"idle",parent:this});let n=r?Yt(this.get()):Se(this.get(),br(this,t??o.to));kt(this._pendingCalls,n),o.changed&&(o.changed=!1,Tr(this,"onRest",n,this))}}};function br(e,t){let r=Er(t),o=Er(e.get());return ze(o,r)}function fc(e,t=e.loop,r=e.to){let o=pt(t);if(o){let n=o!==!0&&ic(o),i=(n||e).reverse,s=!n||n.reset;return Cr(oe({},e,{loop:t,default:!1,pause:void 0,to:!i||yi(r)?r:void 0,from:s?e.from:void 0,reset:s},n))}}function Cr(e){let{to:t,from:r}=e=ic(e),o=new Set;return E.obj(t)&&Kl(t,o),E.obj(r)&&Kl(r,o),e.keys=o.size?Array.from(o):null,e}function Zm(e){let t=Cr(e);return E.und(t.default)&&(t.default=zi(t)),t}function Kl(e,t){be(e,(r,o)=>r!=null&&t.add(o))}var Qm=["onStart","onRest","onChange","onPause","onResume"];function $l(e,t,r){e.animation[r]=t[r]!==nc(t,r)?oc(t[r],e.key):void 0}function Tr(e,t,...r){var o,n,i,s;(o=(n=e.animation)[t])==null||o.call(n,...r),(i=(s=e.defaultProps)[t])==null||i.call(s,...r)}var Wm=["onStart","onChange","onRest"],Km=1,Ci=class{constructor(t,r){this.id=Km++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),r&&(this._flush=r),t&&this.start(oe({default:!0},t))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){let t={};return this.each((r,o)=>t[o]=r.get()),t}set(t){for(let r in t){let o=t[r];E.und(o)||this.springs[r].set(o)}}update(t){return t&&this.queue.push(Cr(t)),this}start(t){let{queue:r}=this;return t?r=de(t).map(Cr):this.queue=[],this._flush?this._flush(this,r):(hc(this,r),Ri(this,r))}stop(t,r){if(t!==!!t&&(r=t),r){let o=this.springs;B(de(r),n=>o[n].stop(!!t))}else Pr(this._state,this._lastAsyncId),this.each(o=>o.stop(!!t));return this}pause(t){if(E.und(t))this.start({pause:!0});else{let r=this.springs;B(de(t),o=>r[o].pause())}return this}resume(t){if(E.und(t))this.start({pause:!1});else{let r=this.springs;B(de(t),o=>r[o].resume())}return this}each(t){be(this.springs,t)}_onFrame(){let{onStart:t,onChange:r,onRest:o}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,Ht(t,([l,c])=>{c.value=this.get(),l(c,this,this._item)}));let s=!n&&this._started,a=i||s&&o.size?this.get():null;i&&r.size&&Ht(r,([l,c])=>{c.value=a,l(c,this,this._item)}),s&&(this._started=!1,Ht(o,([l,c])=>{c.value=a,l(c,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;D.onFrame(this._onFrame)}};function Ri(e,t){return Promise.all(t.map(r=>uc(e,r))).then(r=>Mi(e,r))}async function uc(e,t,r){let{keys:o,to:n,from:i,loop:s,onRest:a,onResolve:l}=t,c=E.obj(t.default)&&t.default;s&&(t.loop=!1),n===!1&&(t.to=null),i===!1&&(t.from=null);let u=E.arr(n)||E.fun(n)?n:void 0;u?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):B(Wm,_=>{let x=t[_];if(E.fun(x)){let v=e._events[_];t[_]=({finished:h,cancelled:y})=>{let b=v.get(x);b?(h||(b.finished=!1),y&&(b.cancelled=!0)):v.set(x,{value:null,finished:h||!1,cancelled:y||!1})},c&&(c[_]=t[_])}});let f=e._state;t.pause===!f.paused?(f.paused=t.pause,kt(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);let m=(o||Object.keys(e.springs)).map(_=>e.springs[_].start(t)),d=t.cancel===!0||nc(t,"cancel")===!0;(u||d&&f.asyncId)&&m.push(sc(++e._lastAsyncId,{props:t,state:f,actions:{pause:yo,resume:yo,start(_,x){d?(Pr(f,e._lastAsyncId),x(Yt(e))):(_.onRest=a,x(lc(u,_,f,e)))}}})),f.paused&&await new Promise(_=>{f.resumeQueue.add(_)});let p=Mi(e,await Promise.all(m));if(s&&p.finished&&!(r&&p.noop)){let _=fc(t,s,n);if(_)return hc(e,[_]),uc(e,_,!0)}return l&&D.batchedUpdates(()=>l(p,e,e.item)),p}function Jl(e,t){let r=oe({},e.springs);return t&&B(de(t),o=>{E.und(o.keys)&&(o=Cr(o)),E.obj(o.to)||(o=oe({},o,{to:void 0})),pc(r,o,n=>mc(n))}),dc(e,r),r}function dc(e,t){be(t,(r,o)=>{e.springs[o]||(e.springs[o]=r,mt(r,e))})}function mc(e,t){let r=new wi;return r.key=e,t&&mt(r,t),r}function pc(e,t,r){t.keys&&B(t.keys,o=>{(e[o]||(e[o]=r(o)))._prepareNode(t)})}function hc(e,t){B(t,r=>{pc(e.springs,r,o=>mc(o,e))})}function $m(e,t){if(e==null)return{};var r={},o=Object.keys(e),n,i;for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}var Jm=["children"],Oo=e=>{let{children:t}=e,r=$m(e,Jm),o=rc(Do),n=r.pause||!!o.pause,i=r.immediate||!!o.immediate;r=kl(()=>({pause:n,immediate:i}),[n,i]);let{Provider:s}=Do;return Rr.createElement(s,{value:r},t)},Do=ep(Oo,{});Oo.Provider=Do.Provider;Oo.Consumer=Do.Consumer;function ep(e,t){return Object.assign(e,Rr.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var tp=()=>{let e=[],t=function(n){Hl();let i=[];return B(e,(s,a)=>{if(E.und(n))i.push(s.start());else{let l=r(n,s,a);l&&i.push(s.start(l))}}),i};t.current=e,t.add=function(o){e.includes(o)||e.push(o)},t.delete=function(o){let n=e.indexOf(o);~n&&e.splice(n,1)},t.pause=function(){return B(e,o=>o.pause(...arguments)),this},t.resume=function(){return B(e,o=>o.resume(...arguments)),this},t.set=function(o){B(e,n=>n.set(o))},t.start=function(o){let n=[];return B(e,(i,s)=>{if(E.und(o))n.push(i.start());else{let a=this._getProps(o,i,s);a&&n.push(i.start(a))}}),n},t.stop=function(){return B(e,o=>o.stop(...arguments)),this},t.update=function(o){return B(e,(n,i)=>n.update(this._getProps(o,n,i))),this};let r=function(n,i,s){return E.fun(n)?n(s,i):n};return t._getProps=r,t};function rp(e,t,r){let o=E.fun(t)&&t;o&&!r&&(r=[]);let n=zo(()=>o||arguments.length==3?tp():void 0,[]),i=jl(0),s=So(),a=zo(()=>({ctrls:[],queue:[],flush(v,h){let y=Jl(v,h);return i.current>0&&!a.queue.length&&!Object.keys(y).some(g=>!v.springs[g])?Ri(v,h):new Promise(g=>{dc(v,y),a.queue.push(()=>{g(Ri(v,h))}),s()})}}),[]),l=jl([...a.ctrls]),c=[],u=hi(e)||0;zo(()=>{B(l.current.slice(e,u),v=>{Gm(v,n),v.stop(!0)}),l.current.length=e,f(u,e)},[e]),zo(()=>{f(0,Math.min(u,e))},r);function f(v,h){for(let y=v;y<h;y++){let b=l.current[y]||(l.current[y]=new Ci(null,a.flush)),g=o?o(y,b):t[y];g&&(c[y]=Zm(g))}}let m=l.current.map((v,h)=>Jl(v,c[h])),d=rc(Oo),p=hi(d),_=d!==p&&Vm(d);Gt(()=>{i.current++,a.ctrls=l.current;let{queue:v}=a;v.length&&(a.queue=[],B(v,h=>h())),B(l.current,(h,y)=>{n?.add(h),_&&h.start({default:d});let b=c[y];b&&(Ym(h,b.ref),h.ref?h.queue.push(b):h.start(b))})}),Eo(()=>()=>{B(a.ctrls,v=>v.stop(!0))});let x=m.map(v=>oe({},v));return n?[x,n]:x}function Li(e,t){let r=E.fun(e),[[o],n]=rp(1,r?e:[e],r?t||[]:t);return r||arguments.length==2?[o,n]:o}var ec;(function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"})(ec||(ec={}));var Ai=class extends wr{constructor(t,r){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=t,this.calc=tt(...r);let o=this._get(),n=Ao(o);Ro(this,n.create(o))}advance(t){let r=this._get(),o=this.get();ze(r,o)||(Te(this).setValue(r),this._onChange(r,this.idle)),!this.idle&&tc(this._active)&&xi(this)}_get(){let t=E.arr(this.source)?this.source.map(fe):de(fe(this.source));return this.calc(...t)}_start(){this.idle&&!tc(this._active)&&(this.idle=!1,B(yr(this),t=>{t.done=!1}),me.skipAnimation?(D.batchedUpdates(()=>this.advance()),xi(this)):Ut.start(this))}_attach(){let t=1;B(de(this.source),r=>{ge(r)&&mt(r,this),Si(r)&&(r.idle||this._active.add(r),t=Math.max(t,r.priority+1))}),this.priority=t,this._start()}_detach(){B(de(this.source),t=>{ge(t)&&Bt(t,this)}),this._active.clear(),xi(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=de(this.source).reduce((r,o)=>Math.max(r,(Si(o)?o.priority:0)+1),0))}};function op(e){return e.idle!==!1}function tc(e){return!e.size||Array.from(e).every(op)}function xi(e){e.idle||(e.idle=!0,B(yr(e),t=>{t.done=!0}),hr(e,{type:"idle",parent:e}))}me.assign({createStringInterpolator:To,to:(e,t)=>new Ai(e,t)});var Uy=Ut.advance;import*as sp from"three";var ap=["primitive"].concat(Object.keys(sp).filter(e=>/^[A-Z]/.test(e)).map(e=>e[0].toLowerCase()+e.slice(1)));me.assign({createStringInterpolator:To,colors:Dl,frameLoop:"demand"});np(()=>{D.advance()});var lp=ql(ap,{applyAnimatedValues:ip}),gc=lp.animated;import{extend as Mc}from"@react-three/fiber";import{useState as bp,useEffect as Tp}from"react";import*as Io from"three";function vc(e,t,r){return class extends Io.LineBasicMaterial{constructor(){let o=Object.entries(e),n=o.reduce((i,[s,a])=>{let l=Io.UniformsUtils.clone({[s]:{value:a}});return M(M({},i),l)},{});super({color:"#ffffff",linewidth:5,userData:n,onBeforeCompile:i=>{i.uniforms=M(M({},i.uniforms),n),i.vertexShader=t}}),o.forEach(([i])=>Object.defineProperty(this,i,{get:()=>this.uniforms[i].value,set:s=>this.uniforms[i].value=s})),r&&r(this)}}}import*as qt from"three";function xc(e,t,r,o){return class extends qt.MeshPhysicalMaterial{constructor(){let n=Object.entries(e),i=e.colors,s=Di(i[0]),a=Di(i[1]),l=Di(i[2]),c={uC1r:{value:Ge(s==null?void 0:s.r)},uC1g:{value:Ge(s==null?void 0:s.g)},uC1b:{value:Ge(s==null?void 0:s.b)},uC2r:{value:Ge(a==null?void 0:a.r)},uC2g:{value:Ge(a==null?void 0:a.g)},uC2b:{value:Ge(a==null?void 0:a.b)},uC3r:{value:Ge(l==null?void 0:l.r)},uC3g:{value:Ge(l==null?void 0:l.g)},uC3b:{value:Ge(l==null?void 0:l.b)}},u=n.reduce((f,[m,d])=>{let p=qt.UniformsUtils.clone({[m]:{value:d}});return M(M({},f),p)},{});super({metalness:.2,userData:u,side:qt.DoubleSide,onBeforeCompile:f=>{f.uniforms=M(M(M({},f.uniforms),u),c),f.vertexShader=t,f.fragmentShader=r}}),n.forEach(([f])=>Object.defineProperty(this,f,{get:()=>this.uniforms[f].value,set:m=>this.uniforms[f].value=m})),o&&o(this)}}}function Di(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function Ge(e=0){return e/255}var Ii={};Ie(Ii,{defaults:()=>Ar,positionMix:()=>Oi});var Ar={};Ie(Ar,{plane:()=>Fo,sphere:()=>No,waterPlane:()=>Ho});var Fo={};Ie(Fo,{fragment:()=>yc,vertex:()=>_c});var yc=`
#define STANDARD
#ifdef PHYSICAL
#define REFLECTIVITY
#define CLEARCOAT
#define TRANSMISSION
#endif
uniform vec3 diffuse;uniform vec3 emissive;uniform float roughness;uniform float metalness;uniform float opacity;
#ifdef TRANSMISSION
uniform float transmission;
#endif
#ifdef REFLECTIVITY
uniform float reflectivity;
#endif
#ifdef CLEARCOAT
uniform float clearcoat;uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <color_pars_fragment>
#include <common>
#include <dithering_pars_fragment>
#include <emissivemap_pars_fragment>
#include <lightmap_pars_fragment>
#include <map_pars_fragment>
#include <packing>
#include <uv2_pars_fragment>
#include <uv_pars_fragment>
#include <bsdfs>
#include <bumpmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <clipping_planes_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <shadowmap_pars_fragment>
varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;uniform float uC1r;uniform float uC1g;uniform float uC1b;uniform float uC2r;uniform float uC2g;uniform float uC2b;uniform float uC3r;uniform float uC3g;uniform float uC3b;varying vec3 color1;varying vec3 color2;varying vec3 color3;float linearToRelativeLuminance2(const in vec3 color){vec3 weights=vec3(0.2126,0.7152,0.0722);return dot(weights,color.rgb);}void main(){vec3 color1=vec3(uC1r,uC1g,uC1b);vec3 color2=vec3(uC2r,uC2g,uC2b);vec3 color3=vec3(uC3r,uC3g,uC3b);float clearcoat=1.0;float clearcoatRoughness=0.5;
#include <clipping_planes_fragment>
vec4 diffuseColor=vec4(mix(mix(color1,color2,smoothstep(-3.0,3.0,vPos.x)),color3,vPos.z),1);ReflectedLight reflectedLight=ReflectedLight(vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));vec3 totalEmissiveRadiance=emissive;
#ifdef TRANSMISSION
float totalTransmission=transmission;
#endif
#include <logdepthbuf_fragment>
#include <map_fragment>
#include <color_fragment>
#include <alphamap_fragment>
#include <alphatest_fragment>
#include <roughnessmap_fragment>
#include <metalnessmap_fragment>
#include <normal_fragment_begin>
#include <normal_fragment_maps>
#include <clearcoat_normal_fragment_begin>
#include <clearcoat_normal_fragment_maps>
#include <emissivemap_fragment>
#include <lights_physical_fragment>
#include <lights_fragment_begin>
#include <lights_fragment_maps>
#include <lights_fragment_end>
#include <aomap_fragment>
vec3 outgoingLight=reflectedLight.directDiffuse+reflectedLight.indirectDiffuse+reflectedLight.directSpecular+reflectedLight.indirectSpecular;
#ifdef TRANSMISSION
diffuseColor.a*=mix(saturate(1.-totalTransmission+linearToRelativeLuminance2(reflectedLight.directSpecular+reflectedLight.indirectSpecular)),1.0,metalness);
#endif
#include <tonemapping_fragment>
#include <encodings_fragment>
#include <fog_fragment>
#include <premultiplied_alpha_fragment>
#include <dithering_fragment>
gl_FragColor=vec4(outgoingLight,diffuseColor.a);}`;var _c=`vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float cnoise(vec3 P){vec3 Pi0=floor(P);vec3 Pi1=Pi0+vec3(1.0);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}mat3 rotation3dY(float angle){float s=sin(angle);float c=cos(angle);return mat3(c,0.0,-s,0.0,1.0,0.0,s,0.0,c);}vec3 rotateY(vec3 v,float angle){return rotation3dY(angle)*v;}varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;varying vec2 vUv;uniform float uTime;uniform float uSpeed;uniform float uLoadingTime;uniform float uNoiseDensity;uniform float uNoiseStrength;
#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <clipping_planes_pars_vertex>
#include <color_pars_vertex>
#include <common>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <morphtarget_pars_vertex>
#include <shadowmap_pars_vertex>
#include <skinning_pars_vertex>
#include <uv2_pars_vertex>
#include <uv_pars_vertex>
void main(){
#include <beginnormal_vertex>
#include <color_vertex>
#include <defaultnormal_vertex>
#include <morphnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <uv2_vertex>
#include <uv_vertex>
#ifndef FLAT_SHADED
vNormal=normalize(transformedNormal);
#ifdef USE_TANGENT
vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);
#endif
#endif
#include <begin_vertex>
#include <clipping_planes_vertex>
#include <displacementmap_vertex>
#include <logdepthbuf_vertex>
#include <morphtarget_vertex>
#include <project_vertex>
#include <skinning_vertex>
vViewPosition=-mvPosition.xyz;
#include <fog_vertex>
#include <shadowmap_vertex>
#include <worldpos_vertex>
vUv=uv;float t=uTime*uSpeed;float distortion=0.75*cnoise(0.43*position*uNoiseDensity+t);vec3 pos=position+normal*distortion*uNoiseStrength*uLoadingTime;vPos=pos;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.);}`;var No={};Ie(No,{fragment:()=>bc,vertex:()=>Tc});var bc=`
#define STANDARD
#ifdef PHYSICAL
#define REFLECTIVITY
#define CLEARCOAT
#define TRANSMISSION
#endif
uniform vec3 diffuse;uniform vec3 emissive;uniform float roughness;uniform float metalness;uniform float opacity;
#ifdef TRANSMISSION
uniform float transmission;
#endif
#ifdef REFLECTIVITY
uniform float reflectivity;
#endif
#ifdef CLEARCOAT
uniform float clearcoat;uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <color_pars_fragment>
#include <common>
#include <dithering_pars_fragment>
#include <emissivemap_pars_fragment>
#include <lightmap_pars_fragment>
#include <map_pars_fragment>
#include <packing>
#include <uv2_pars_fragment>
#include <uv_pars_fragment>
#include <bsdfs>
#include <bumpmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <clipping_planes_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <shadowmap_pars_fragment>
varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;uniform float uC1r;uniform float uC1g;uniform float uC1b;uniform float uC2r;uniform float uC2g;uniform float uC2b;uniform float uC3r;uniform float uC3g;uniform float uC3b;varying vec3 color1;varying vec3 color2;varying vec3 color3;varying float distanceToCenter;float linearToRelativeLuminance2(const in vec3 color){vec3 weights=vec3(0.2126,0.7152,0.0722);return dot(weights,color.rgb);}void main(){vec3 color1=vec3(uC1r,uC1g,uC1b);vec3 color2=vec3(uC2r,uC2g,uC2b);vec3 color3=vec3(uC3r,uC3g,uC3b);float clearcoat=1.0;float clearcoatRoughness=0.5;
#include <clipping_planes_fragment>
float distanceToCenter=distance(vPos,vec3(0,0,0));vec4 diffuseColor=vec4(mix(color3,mix(color2,color1,smoothstep(-1.0,1.0,vPos.y)),distanceToCenter),1);ReflectedLight reflectedLight=ReflectedLight(vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));vec3 totalEmissiveRadiance=emissive;
#ifdef TRANSMISSION
float totalTransmission=transmission;
#endif
#include <logdepthbuf_fragment>
#include <map_fragment>
#include <color_fragment>
#include <alphamap_fragment>
#include <alphatest_fragment>
#include <roughnessmap_fragment>
#include <metalnessmap_fragment>
#include <normal_fragment_begin>
#include <normal_fragment_maps>
#include <clearcoat_normal_fragment_begin>
#include <clearcoat_normal_fragment_maps>
#include <emissivemap_fragment>
#include <lights_physical_fragment>
#include <lights_fragment_begin>
#include <lights_fragment_maps>
#include <lights_fragment_end>
#include <aomap_fragment>
vec3 outgoingLight=reflectedLight.directDiffuse+reflectedLight.indirectDiffuse+reflectedLight.directSpecular+reflectedLight.indirectSpecular;
#ifdef TRANSMISSION
diffuseColor.a*=mix(saturate(1.-totalTransmission+linearToRelativeLuminance2(reflectedLight.directSpecular+reflectedLight.indirectSpecular)),1.0,metalness);
#endif
gl_FragColor=vec4(outgoingLight,diffuseColor.a);
#include <tonemapping_fragment>
#include <encodings_fragment>
#include <fog_fragment>
#include <premultiplied_alpha_fragment>
#include <dithering_fragment>
}`;var Tc=`vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float pnoise(vec3 P,vec3 rep){vec3 Pi0=mod(floor(P),rep);vec3 Pi1=mod(Pi0+vec3(1.0),rep);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}varying vec3 vNormal;uniform float uTime;uniform float uSpeed;uniform float uNoiseDensity;uniform float uNoiseStrength;uniform float uFrequency;uniform float uAmplitude;varying vec3 vPos;varying float vDistort;varying vec2 vUv;varying vec3 vViewPosition;
#define STANDARD
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <clipping_planes_pars_vertex>
#include <color_pars_vertex>
#include <common>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <morphtarget_pars_vertex>
#include <shadowmap_pars_vertex>
#include <skinning_pars_vertex>
#include <uv2_pars_vertex>
#include <uv_pars_vertex>
mat3 rotation3dY(float angle){float s=sin(angle);float c=cos(angle);return mat3(c,0.0,-s,0.0,1.0,0.0,s,0.0,c);}vec3 rotateY(vec3 v,float angle){return rotation3dY(angle)*v;}void main(){
#include <beginnormal_vertex>
#include <color_vertex>
#include <defaultnormal_vertex>
#include <morphnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <uv2_vertex>
#include <uv_vertex>
#ifndef FLAT_SHADED
vNormal=normalize(transformedNormal);
#ifdef USE_TANGENT
vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);
#endif
#endif
#include <begin_vertex>
#include <clipping_planes_vertex>
#include <displacementmap_vertex>
#include <logdepthbuf_vertex>
#include <morphtarget_vertex>
#include <project_vertex>
#include <skinning_vertex>
vViewPosition=-mvPosition.xyz;
#include <fog_vertex>
#include <shadowmap_vertex>
#include <worldpos_vertex>
float t=uTime*uSpeed;float distortion=pnoise((normal+t)*uNoiseDensity,vec3(10.0))*uNoiseStrength;vec3 pos=position+(normal*distortion);float angle=sin(uv.y*uFrequency+t)*uAmplitude;pos=rotateY(pos,angle);vPos=pos;vDistort=distortion;vNormal=normal;vUv=uv;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.);}`;var Ho={};Ie(Ho,{fragment:()=>Sc,vertex:()=>Ec});var Sc=`
#define STANDARD
#ifdef PHYSICAL
#define REFLECTIVITY
#define CLEARCOAT
#define TRANSMISSION
#endif
uniform vec3 diffuse;uniform vec3 emissive;uniform float roughness;uniform float metalness;uniform float opacity;
#ifdef TRANSMISSION
uniform float transmission;
#endif
#ifdef REFLECTIVITY
uniform float reflectivity;
#endif
#ifdef CLEARCOAT
uniform float clearcoat;uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <color_pars_fragment>
#include <common>
#include <dithering_pars_fragment>
#include <emissivemap_pars_fragment>
#include <lightmap_pars_fragment>
#include <map_pars_fragment>
#include <packing>
#include <uv2_pars_fragment>
#include <uv_pars_fragment>
#include <bsdfs>
#include <bumpmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <clipping_planes_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <shadowmap_pars_fragment>
varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;uniform float uC1r;uniform float uC1g;uniform float uC1b;uniform float uC2r;uniform float uC2g;uniform float uC2b;uniform float uC3r;uniform float uC3g;uniform float uC3b;varying vec3 color1;varying vec3 color2;varying vec3 color3;float linearToRelativeLuminance2(const in vec3 color){vec3 weights=vec3(0.2126,0.7152,0.0722);return dot(weights,color.rgb);}void main(){vec3 color1=vec3(uC1r,uC1g,uC1b);vec3 color2=vec3(uC2r,uC2g,uC2b);vec3 color3=vec3(uC3r,uC3g,uC3b);float clearcoat=1.0;float clearcoatRoughness=0.5;
#include <clipping_planes_fragment>
vec4 diffuseColor=vec4(mix(mix(color1,color2,smoothstep(-3.0,3.0,vPos.x)),color3,vPos.z),1);ReflectedLight reflectedLight=ReflectedLight(vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));vec3 totalEmissiveRadiance=emissive;
#ifdef TRANSMISSION
float totalTransmission=transmission;
#endif
#include <logdepthbuf_fragment>
#include <map_fragment>
#include <color_fragment>
#include <alphamap_fragment>
#include <alphatest_fragment>
#include <roughnessmap_fragment>
#include <metalnessmap_fragment>
#include <normal_fragment_begin>
#include <normal_fragment_maps>
#include <clearcoat_normal_fragment_begin>
#include <clearcoat_normal_fragment_maps>
#include <emissivemap_fragment>
#include <lights_physical_fragment>
#include <lights_fragment_begin>
#include <lights_fragment_maps>
#include <lights_fragment_end>
#include <aomap_fragment>
vec3 outgoingLight=reflectedLight.directDiffuse+reflectedLight.indirectDiffuse+reflectedLight.directSpecular+reflectedLight.indirectSpecular;
#ifdef TRANSMISSION
diffuseColor.a*=mix(saturate(1.-totalTransmission+linearToRelativeLuminance2(reflectedLight.directSpecular+reflectedLight.indirectSpecular)),1.0,metalness);
#endif
#include <tonemapping_fragment>
#include <encodings_fragment>
#include <fog_fragment>
#include <premultiplied_alpha_fragment>
#include <dithering_fragment>
gl_FragColor=vec4(outgoingLight,diffuseColor.a);}`;var Ec=`vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float cnoise(vec3 P){vec3 Pi0=floor(P);vec3 Pi1=Pi0+vec3(1.0);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}mat3 rotation3dY(float angle){float s=sin(angle);float c=cos(angle);return mat3(c,0.0,-s,0.0,1.0,0.0,s,0.0,c);}vec3 rotateY(vec3 v,float angle){return rotation3dY(angle)*v;}varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;uniform float uTime;uniform float uSpeed;uniform float uNoiseDensity;uniform float uNoiseStrength;
#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <clipping_planes_pars_vertex>
#include <color_pars_vertex>
#include <common>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <morphtarget_pars_vertex>
#include <shadowmap_pars_vertex>
#include <skinning_pars_vertex>
#include <uv2_pars_vertex>
#include <uv_pars_vertex>
void main(){
#include <beginnormal_vertex>
#include <color_vertex>
#include <defaultnormal_vertex>
#include <morphnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <uv2_vertex>
#include <uv_vertex>
#ifndef FLAT_SHADED
vNormal=normalize(transformedNormal);
#ifdef USE_TANGENT
vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);
#endif
#endif
#include <begin_vertex>
#include <clipping_planes_vertex>
#include <displacementmap_vertex>
#include <logdepthbuf_vertex>
#include <morphtarget_vertex>
#include <project_vertex>
#include <skinning_vertex>
vViewPosition=-mvPosition.xyz;
#include <fog_vertex>
#include <shadowmap_vertex>
#include <worldpos_vertex>
float t=uTime*uSpeed;float distortion=0.75*cnoise(0.43*position*uNoiseDensity+t);vec3 pos=position+normal*distortion*uNoiseStrength;vPos=pos;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.);}`;var Oi={};Ie(Oi,{plane:()=>ko,sphere:()=>Uo,waterPlane:()=>Bo});var ko={};Ie(ko,{fragment:()=>Pc,vertex:()=>wc});var Pc="uniform float uC1r;uniform float uC1g;uniform float uC1b;uniform float uC2r;uniform float uC2g;uniform float uC2b;uniform float uC3r;uniform float uC3g;uniform float uC3b;varying vec3 vNormal;varying vec3 vPos;void main(){vec3 color1=vec3(uC1r,uC1g,uC1b);vec3 color2=vec3(uC2r,uC2g,uC2b);vec3 color3=vec3(uC3r,uC3g,uC3b);gl_FragColor=vec4(color1*vPos.x+color2*vPos.y+color3*vPos.z,1.);}";var wc=`vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float cnoise(vec3 P){vec3 Pi0=floor(P);vec3 Pi1=Pi0+vec3(1.0);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}mat3 rotation3dY(float angle){float s=sin(angle);float c=cos(angle);return mat3(c,0.0,-s,0.0,1.0,0.0,s,0.0,c);}vec3 rotateY(vec3 v,float angle){return rotation3dY(angle)*v;}varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;varying vec2 vUv;uniform float uTime;uniform float uSpeed;uniform float uLoadingTime;uniform float uNoiseDensity;uniform float uNoiseStrength;
#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <clipping_planes_pars_vertex>
#include <color_pars_vertex>
#include <common>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <morphtarget_pars_vertex>
#include <shadowmap_pars_vertex>
#include <skinning_pars_vertex>
#include <uv2_pars_vertex>
#include <uv_pars_vertex>
void main(){
#include <beginnormal_vertex>
#include <color_vertex>
#include <defaultnormal_vertex>
#include <morphnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <uv2_vertex>
#include <uv_vertex>
#ifndef FLAT_SHADED
vNormal=normalize(transformedNormal);
#ifdef USE_TANGENT
vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);
#endif
#endif
#include <begin_vertex>
#include <clipping_planes_vertex>
#include <displacementmap_vertex>
#include <logdepthbuf_vertex>
#include <morphtarget_vertex>
#include <project_vertex>
#include <skinning_vertex>
vViewPosition=-mvPosition.xyz;
#include <fog_vertex>
#include <shadowmap_vertex>
#include <worldpos_vertex>
vUv=uv;float t=uTime*uSpeed;float distortion=0.75*cnoise(0.43*position*uNoiseDensity+t);vec3 pos=position+normal*distortion*uNoiseStrength*uLoadingTime;vPos=pos;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.);}`;var Uo={};Ie(Uo,{fragment:()=>Cc,vertex:()=>Rc});var Cc=`
#define STANDARD
#ifdef PHYSICAL
#define REFLECTIVITY
#define CLEARCOAT
#define TRANSMISSION
#endif
uniform vec3 diffuse;uniform vec3 emissive;uniform float roughness;uniform float metalness;uniform float opacity;
#ifdef TRANSMISSION
uniform float transmission;
#endif
#ifdef REFLECTIVITY
uniform float reflectivity;
#endif
#ifdef CLEARCOAT
uniform float clearcoat;uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <color_pars_fragment>
#include <common>
#include <dithering_pars_fragment>
#include <emissivemap_pars_fragment>
#include <lightmap_pars_fragment>
#include <map_pars_fragment>
#include <packing>
#include <uv2_pars_fragment>
#include <uv_pars_fragment>
#include <bsdfs>
#include <bumpmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <clipping_planes_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <shadowmap_pars_fragment>
varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;uniform float uC1r;uniform float uC1g;uniform float uC1b;uniform float uC2r;uniform float uC2g;uniform float uC2b;uniform float uC3r;uniform float uC3g;uniform float uC3b;varying vec3 color1;varying vec3 color2;varying vec3 color3;varying float distanceToCenter;void main(){vec3 color1=vec3(uC1r,uC1g,uC1b);vec3 color2=vec3(uC2r,uC2g,uC2b);vec3 color3=vec3(uC3r,uC3g,uC3b);float clearcoat=1.0;float clearcoatRoughness=0.5;
#include <clipping_planes_fragment>
float distanceToCenter=distance(vPos,vec3(0,0,0));vec4 diffuseColor=vec4(mix(color3,mix(color2,color1,smoothstep(-1.0,1.0,vPos.y)),distanceToCenter),1);ReflectedLight reflectedLight=ReflectedLight(vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));vec3 totalEmissiveRadiance=emissive;
#ifdef TRANSMISSION
float totalTransmission=transmission;
#endif
#include <logdepthbuf_fragment>
#include <map_fragment>
#include <color_fragment>
#include <alphamap_fragment>
#include <alphatest_fragment>
#include <roughnessmap_fragment>
#include <metalnessmap_fragment>
#include <normal_fragment_begin>
#include <normal_fragment_maps>
#include <clearcoat_normal_fragment_begin>
#include <clearcoat_normal_fragment_maps>
#include <emissivemap_fragment>
#include <lights_physical_fragment>
#include <lights_fragment_begin>
#include <lights_fragment_maps>
#include <lights_fragment_end>
#include <aomap_fragment>
vec3 outgoingLight=reflectedLight.directDiffuse+reflectedLight.indirectDiffuse+reflectedLight.directSpecular+reflectedLight.indirectSpecular;
#ifdef TRANSMISSION
diffuseColor.a*=mix(saturate(1.-totalTransmission+linearToRelativeLuminance(reflectedLight.directSpecular+reflectedLight.indirectSpecular)),1.0,metalness);
#endif
gl_FragColor=vec4(outgoingLight,diffuseColor.a);
#include <tonemapping_fragment>
#include <encodings_fragment>
#include <fog_fragment>
#include <premultiplied_alpha_fragment>
#include <dithering_fragment>
}`;var Rc=`vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float pnoise(vec3 P,vec3 rep){vec3 Pi0=mod(floor(P),rep);vec3 Pi1=mod(Pi0+vec3(1.0),rep);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}varying vec3 vNormal;uniform float uTime;uniform float uSpeed;uniform float uNoiseDensity;uniform float uNoiseStrength;uniform float uFrequency;uniform float uAmplitude;varying vec3 vPos;varying float vDistort;varying vec2 vUv;varying vec3 vViewPosition;
#define STANDARD
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <clipping_planes_pars_vertex>
#include <color_pars_vertex>
#include <common>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <morphtarget_pars_vertex>
#include <shadowmap_pars_vertex>
#include <skinning_pars_vertex>
#include <uv2_pars_vertex>
#include <uv_pars_vertex>
mat3 rotation3dY(float angle){float s=sin(angle);float c=cos(angle);return mat3(c,0.0,-s,0.0,1.0,0.0,s,0.0,c);}vec3 rotateY(vec3 v,float angle){return rotation3dY(angle)*v;}void main(){
#include <beginnormal_vertex>
#include <color_vertex>
#include <defaultnormal_vertex>
#include <morphnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <uv2_vertex>
#include <uv_vertex>
#ifndef FLAT_SHADED
vNormal=normalize(transformedNormal);
#ifdef USE_TANGENT
vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);
#endif
#endif
#include <begin_vertex>
#include <clipping_planes_vertex>
#include <displacementmap_vertex>
#include <logdepthbuf_vertex>
#include <morphtarget_vertex>
#include <project_vertex>
#include <skinning_vertex>
vViewPosition=-mvPosition.xyz;
#include <fog_vertex>
#include <shadowmap_vertex>
#include <worldpos_vertex>
float t=uTime*uSpeed;float distortion=pnoise((normal+t)*uNoiseDensity,vec3(10.0))*uNoiseStrength;vec3 pos=position+(normal*distortion);float angle=sin(uv.y*uFrequency+t)*uAmplitude;pos=rotateY(pos,angle);vPos=pos;vDistort=distortion;vNormal=normal;vUv=uv;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.);}`;var Bo={};Ie(Bo,{fragment:()=>Ac,vertex:()=>zc});var Ac="uniform float uC1r;uniform float uC1g;uniform float uC1b;uniform float uC2r;uniform float uC2g;uniform float uC2b;uniform float uC3r;uniform float uC3g;uniform float uC3b;varying vec3 vNormal;varying vec3 vPos;void main(){vec3 color1=vec3(uC1r,uC1g,uC1b);vec3 color2=vec3(uC2r,uC2g,uC2b);vec3 color3=vec3(uC3r,uC3g,uC3b);gl_FragColor=vec4(color1*vPos.x+color2*vPos.y+color3*vPos.z,1.);}";var zc=`vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float cnoise(vec3 P){vec3 Pi0=floor(P);vec3 Pi1=Pi0+vec3(1.0);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}mat3 rotation3dY(float angle){float s=sin(angle);float c=cos(angle);return mat3(c,0.0,-s,0.0,1.0,0.0,s,0.0,c);}vec3 rotateY(vec3 v,float angle){return rotation3dY(angle)*v;}varying vec3 vNormal;varying float displacement;varying vec3 vPos;varying float vDistort;varying vec2 vUv;uniform float uTime;uniform float uSpeed;uniform float uLoadingTime;uniform float uNoiseDensity;uniform float uNoiseStrength;
#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;varying vec3 vBitangent;
#endif
#endif
#include <clipping_planes_pars_vertex>
#include <color_pars_vertex>
#include <common>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <morphtarget_pars_vertex>
#include <shadowmap_pars_vertex>
#include <skinning_pars_vertex>
#include <uv2_pars_vertex>
#include <uv_pars_vertex>
void main(){
#include <beginnormal_vertex>
#include <color_vertex>
#include <defaultnormal_vertex>
#include <morphnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <uv2_vertex>
#include <uv_vertex>
#ifndef FLAT_SHADED
vNormal=normalize(transformedNormal);
#ifdef USE_TANGENT
vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);
#endif
#endif
#include <begin_vertex>
#include <clipping_planes_vertex>
#include <displacementmap_vertex>
#include <logdepthbuf_vertex>
#include <morphtarget_vertex>
#include <project_vertex>
#include <skinning_vertex>
vViewPosition=-mvPosition.xyz;
#include <fog_vertex>
#include <shadowmap_vertex>
#include <worldpos_vertex>
vUv=uv;float t=uTime*uSpeed;float distortion=0.75*cnoise(0.43*position*uNoiseDensity+t);vec3 pos=position+normal*distortion*uNoiseStrength*uLoadingTime;vPos=pos;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.);}`;function Lc({type:e,shader:t,color1:r,color2:o,color3:n,uTime:i,uSpeed:s,uDensity:a,uStrength:l,uFrequency:c,uAmplitude:u}){let[f,m]=bp(!1),d=e!=null?e:"plane",p=Ar[d];t&&t!=="defaults"&&(p=Ii[t][d]);let _=xc({colors:[r,o,n],uTime:i,uSpeed:s,uLoadingTime:0,uNoiseDensity:a,uNoiseStrength:l,uFrequency:c,uAmplitude:u,uIntensity:.5},p.vertex,p.fragment),x=vc({uTime:i,uSpeed:s,uNoiseDensity:a,uNoiseStrength:l,uFrequency:c,uAmplitude:u,uIntensity:.5},p.vertex);return Mc({ColorShiftMaterial:_}),Mc({HoveredLineMaterial:x}),Tp(()=>{m(!0)},[]),f}import{useFrame as Sp}from"@react-three/fiber";import{useRef as Dc}from"react";import*as Ic from"three";var{to:Oc,rotDur:I1,meshDur:Fi,rotDelay:F1,meshDelay:Ni}=nl,Hi=new Ic.Clock,Ep=20;function Fc({animate:e,range:t,rangeStart:r,rangeEnd:o}){let n=Dc(),i=Dc(),s=0;return Sp((a,l)=>{if(n.current){let c=Hi.getElapsedTime();if(t==="enabled"&&(c=r,c=c+Hi.getElapsedTime(),c>=o&&(c=r,Hi.start())),c>Ni){let u=n.current.userData.uLoadingTime.value,f=c<Fi+Ni?Math.easeInOutCubic(s,u,Oc-u,Fi*1e3):Oc;n.current.userData.uLoadingTime.value=f,c<Fi+Ni&&(s+=Ep)}e==="on"&&(n.current.userData.uTime.value=c,i.current!==void 0&&(i.current.userData.uTime.value=c))}}),{material:n,linemat:i}}function Nc({color1:e,color2:t,color3:r}){let o=ee(n=>n.hoverState);return[o,Pp(o,{color1:e,color2:t,color3:r})]}function Pp(e,{color1:t,color2:r,color3:o}){return e===1?{color1:t,color2:"#000000",color3:"#000000"}:e===2?{color1:"#000000",color2:r,color3:"#000000"}:e===3?{color1:"#000000",color2:"#000000",color3:o}:{color1:t,color2:r,color3:o}}import{jsx as Ye,jsxs as ki}from"react/jsx-runtime";Math.easeInOutCubic=function(e,t,r,o){return e/=o/2,e<1?r/2*e*e*e+t:(e-=2,r/2*(e*e*e+2)+t)};var Vo=192,Go=36,Hc=({type:e,animate:t,range:r,rangeStart:o,rangeEnd:n,uTime:i,uSpeed:s,uStrength:a,uDensity:l,uFrequency:c,uAmplitude:u,positionX:f,positionY:m,positionZ:d,rotationX:p,rotationY:_,rotationZ:x,color1:v,color2:h,color3:y,reflection:b,wireframe:g,shader:T,rotSpringOption:w=({rotation:S})=>({to:(R,z)=>Pt(void 0,null,function*(){yield R({animatedRotation:S})}),from:{rotation:Mn([0,0,0])},config:{duration:300}}),posSpringOption:C=({position:S})=>({to:(R,z)=>Pt(void 0,null,function*(){yield R({animatedPosition:S})}),from:{position:[0,0,0]},config:{duration:300}})})=>{let[S,R]=Nc({color1:v,color2:h,color3:y}),z=Lc(V(M({type:e,shader:T},R),{uTime:i,uSpeed:s,uDensity:l,uStrength:a,uFrequency:c,uAmplitude:u})),{material:O,linemat:N}=Fc({animate:t,range:r,rangeStart:o,rangeEnd:n}),K=[f,m,d],X=Mn([p,_,x]),{animatedPosition:we}=Li(C({position:K})),{animatedRotation:ne}=Li(w({rotation:X}));return ki("group",{children:[ki(gc.mesh,{position:we,rotation:ne,children:[e==="plane"&&Ye("planeGeometry",{args:[10,10,1,Vo]}),e==="sphere"&&Ye("icosahedronGeometry",{args:[1,Vo/3]}),e==="waterPlane"&&Ye("planeGeometry",{args:[10,10,Vo,Vo]}),z&&Ye("colorShiftMaterial",{ref:O,roughness:1-b})]}),Ye("mesh",{children:ki("lineSegments",{renderOrder:1,position:K,rotation:X,visible:S!==0,children:[e==="plane"&&Ye("planeGeometry",{args:[10,10,1,Go]}),e==="sphere"&&Ye("icosahedronGeometry",{args:[1,Go/3]}),e==="waterPlane"&&Ye("planeGeometry",{args:[10,10,Go,Go]}),z&&Ye("hoveredLineMaterial",{ref:N})]})})]})};import{useEffect as wp}from"react";function kc(){wp(()=>{var e;(e=window.location.search)!=null&&e.includes("pixelDensity")&&We(window.location.search)},[])}import{Fragment as Cp,jsx as Yo,jsxs as Rp}from"react/jsx-runtime";function l_(s){var a=s,{control:e="props",dampingFactor:t,rotSpringOption:r,posSpringOption:o,isFigmaPlugin:n=!1}=a,i=F(a,["control","dampingFactor","rotSpringOption","posSpringOption","isFigmaPlugin"]);kc();let p=ea(e,i),{lightType:l,envPreset:c,brightness:u,grain:f,toggleAxis:m}=p,d=F(p,["lightType","envPreset","brightness","grain","toggleAxis"]);return In(f==="off"),Rp(Cp,{children:[Yo(ml,{lightType:l,brightness:u,envPreset:c}),Yo(Hc,V(M({},d),{rotSpringOption:r,posSpringOption:o}),JSON.stringify(d)),m&&Yo(Ya,{isFigmaPlugin:n}),Yo(ll,M({dampingFactor:t},d))]})}import{jsx as Ap}from"react/jsx-runtime";var m_=()=>{let[e]=A("bgColor1"),[t]=A("bgColor2");return Ap("div",{style:{background:`linear-gradient(40deg, ${e} 0%, ${t} 100%)`,width:"100%",height:"100%"}})};import{jsx as Mp}from"react/jsx-runtime";function zp(){let[,e]=A("cDistance");return Mp("input",{type:"number",onChange:t=>{e(t.target.value)},style:{border:"1px solid black",fontSize:24}})}import*as Of from"react";import{jsx as E_}from"react/jsx-runtime";import{jsx as z_,jsxs as M_}from"react/jsx-runtime";import{jsx as Uc}from"react/jsx-runtime";var Ee=o=>{var n=o,{guide:e=!1,className:t="w-3 h-3"}=n,r=F(n,["guide","className"]);return Uc("div",V(M({},r),{className:t,style:{position:"relative",background:"hsl(100, 37%, 79%)",opacity:"var(--guide-opacity)"},children:Uc("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",whiteSpace:"nowrap",fontSize:"8px"},children:e&&t})}))};import*as hf from"react";import{useEffect as pf,useState as fh,useRef as uh}from"react";function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},zr.apply(this,arguments)}var qo=e=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(e);var jt=255,Ui=360,ot=100,Lp=e=>{var{r:t,g:r,b:o,a:n}=e,i=Math.max(t,r,o),s=i-Math.min(t,r,o),a=s?i===t?(r-o)/s:i===r?2+(o-t)/s:4+(t-r)/s:0;return{h:60*(a<0?a+6:a),s:i?s/i*ot:0,v:i/jt*ot,a:n}};var jo=e=>{var{h:t,s:r,l:o,a:n}=Bc(e);return"hsla("+t+", "+r+"%, "+o+"%, "+n+")"};var Bc=e=>{var{h:t,s:r,v:o,a:n}=e,i=(200-r)*o/ot;return{h:t,s:i>0&&i<200?r*o/ot/(i<=ot?i:200-i)*ot:0,l:i/2,a:n}};var U_={grad:Ui/400,turn:Ui,rad:Ui/(Math.PI*2)};var Vc=e=>{var{r:t,g:r,b:o}=e,n=t<<16|r<<8|o;return"#"+(i=>new Array(7-i.length).join("0")+i)(n.toString(16))},Dp=e=>{var{r:t,g:r,b:o,a:n}=e,i=typeof n=="number"&&(n*255|1<<8).toString(16).slice(1);return""+Vc({r:t,g:r,b:o,a:n})+(i||"")},Xt=e=>Lp(Op(e)),Op=e=>{var t=e.replace("#","");/^#?/.test(e)&&t.length===3&&(e="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2));var r=new RegExp("[A-Za-z0-9]{2}","g"),[o,n,i=0,s]=e.match(r).map(a=>parseInt(a,16));return{r:o,g:n,b:i,a:s?s/jt:1}},Gc=e=>{var{h:t,s:r,v:o,a:n}=e,i=t/60,s=r/ot,a=o/ot,l=Math.floor(i)%6,c=i-Math.floor(i),u=jt*a*(1-s),f=jt*a*(1-s*c),m=jt*a*(1-s*(1-c));a*=jt;var d={};switch(l){case 0:d.r=a,d.g=m,d.b=u;break;case 1:d.r=f,d.g=a,d.b=u;break;case 2:d.r=u,d.g=a,d.b=m;break;case 3:d.r=u,d.g=f,d.b=a;break;case 4:d.r=m,d.g=u,d.b=a;break;case 5:d.r=a,d.g=u,d.b=f;break}return d.r=Math.round(d.r),d.g=Math.round(d.g),d.b=Math.round(d.b),zr({},d,{a:n})};var Ip=e=>{var{r:t,g:r,b:o}=e;return{r:t,g:r,b:o}},Fp=e=>{var{h:t,s:r,l:o}=e;return{h:t,s:r,l:o}},Mr=e=>Vc(Gc(e));var Np=e=>{var{h:t,s:r,v:o}=e;return{h:t,s:r,v:o}},Yc=e=>{var t,r,o,n,i,s,a,l;return typeof e=="string"&&qo(e)?(s=Xt(e),a=e):typeof e!="string"&&(s=e),s&&(o=Np(s),i=Bc(s),n=Gc(s),l=Dp(n),a=Mr(s),r=Fp(i),t=Ip(n)),{rgb:t,hsl:r,hsv:o,rgba:n,hsla:i,hsva:s,hex:a,hexa:l}};function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Q.apply(this,arguments)}function qe(e,t){if(e==null)return{};var r={},o=Object.keys(e),n,i;for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}import Jp from"react";import Wc,{useCallback as Qp}from"react";import Vp,{useRef as jc,useState as Gp,useCallback as Xo,useEffect as Yp}from"react";import{useRef as Hp,useEffect as kp,useCallback as Up}from"react";function Bi(e){var t=Hp(e);return kp(()=>{t.current=e}),Up((r,o)=>t.current&&t.current(r,o),[])}var Zt=e=>"touches"in e,Vi=e=>{!Zt(e)&&e.preventDefault&&e.preventDefault()},qc=function(t,r,o){return r===void 0&&(r=0),o===void 0&&(o=1),t>o?o:t<r?r:t},Gi=(e,t)=>{var r=e.getBoundingClientRect(),o=Zt(t)?t.touches[0]:t;return{left:qc((o.pageX-(r.left+window.pageXOffset))/r.width),top:qc((o.pageY-(r.top+window.pageYOffset))/r.height),width:r.width,height:r.height,x:o.pageX-(r.left+window.pageXOffset),y:o.pageY-(r.top+window.pageYOffset)}};import{jsx as qp}from"react/jsx-runtime";var Bp=["prefixCls","className","onMove","onDown"],Xc=Vp.forwardRef((e,t)=>{var{prefixCls:r="w-color-interactive",className:o,onMove:n,onDown:i}=e,s=qe(e,Bp),a=jc(null),l=jc(!1),[c,u]=Gp(!1),f=Bi(n),m=Bi(i),d=h=>l.current&&!Zt(h)?!1:(l.current=Zt(h),!0),p=Xo(h=>{Vi(h);var y=Zt(h)?h.touches.length>0:h.buttons>0;y&&a.current?f&&f(Gi(a.current,h),h):u(!1)},[f]),_=Xo(()=>u(!1),[]),x=Xo(h=>{var y=h?window.addEventListener:window.removeEventListener;y(l.current?"touchmove":"mousemove",p),y(l.current?"touchend":"mouseup",_)},[]);Yp(()=>(x(c),()=>{c&&x(!1)}),[c,x]);var v=Xo(h=>{Vi(h.nativeEvent),d(h.nativeEvent)&&(m&&m(Gi(a.current,h.nativeEvent),h.nativeEvent),u(!0))},[m]);return qp("div",Q({},s,{className:[r,o||""].filter(Boolean).join(" "),style:Q({},s.style,{touchAction:"none"}),ref:a,tabIndex:0,onMouseDown:v,onTouchStart:v}))});Xc.displayName="Interactive";var Zo=Xc;import"react";import{useMemo as jp}from"react";import{jsx as Zc}from"react/jsx-runtime";var Xp="rgb(0 0 0 / 37%) 0px 1px 4px 0px",Qc=e=>{var{className:t,prefixCls:r,left:o,top:n}=e,i={position:"absolute",left:o,top:n};return jp(()=>Zc("div",{className:r+"-pointer "+(t||""),style:i,children:Zc("div",{className:r+"-fill",style:{width:18,height:18,transform:o?"translate(-9px, -1px)":"translate(-1px, -9px)",boxShadow:Xp,borderRadius:"50%",backgroundColor:"rgb(248, 248, 248)"}})}),[t,o,n,r])};import{jsx as Kc}from"react/jsx-runtime";import{jsxs as Wp}from"react/jsx-runtime";var Zp=["prefixCls","className","hsva","background","bgProps","innerProps","radius","width","height","direction","style","onChange","pointer"],Kp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==",$c=Wc.forwardRef((e,t)=>{var{prefixCls:r="w-color-alpha",className:o,hsva:n,background:i,bgProps:s={},innerProps:a={},radius:l=0,width:c,height:u=16,direction:f="horizontal",style:m,onChange:d,pointer:p}=e,_=qe(e,Zp),x=Qp(b=>{d&&d(Q({},n,{a:f==="horizontal"?b.left:b.top}),b)},[n]),v=jo(Object.assign({},n,{a:1})),h="linear-gradient(to "+(f==="horizontal"?"right":"bottom")+", rgba(244, 67, 54, 0) 0%, "+v+" 100%)",y={};return f==="horizontal"?y.left=n.a*100+"%":y.top=n.a*100+"%",Wp("div",Q({},_,{className:[r,r+"-"+f,o||""].filter(Boolean).join(" "),style:Q({borderRadius:l,background:"url("+Kp+") left center",backgroundColor:"#fff"},m,{position:"relative"},{width:c,height:u}),ref:t,children:[Kc("div",Q({},s,{style:Q({inset:0,position:"absolute",background:i||h,borderRadius:l},s.style)})),Kc(Zo,Q({},a,{style:Q({},a.style,{inset:0,zIndex:1,position:"absolute"}),onMove:x,onDown:x,children:Wc.createElement(p||Qc,Q({prefixCls:r},y))}))]}))});$c.displayName="Aplha";var Jc=$c;import{jsx as eh}from"react/jsx-runtime";var $p=["prefixCls","className","onChange","direction","hsva"],ef=Jp.forwardRef((e,t)=>{var{prefixCls:r="w-color-saturation",className:o,onChange:n,direction:i="horizontal",hsva:s}=e,a=qe(e,$p),l=jo(Object.assign({},s,{a:1,s:100,v:100}));return eh(Jc,Q({ref:t},a,{className:r+" "+(o||""),hsva:{h:s.h,s:100,v:s.v,a:1-s.v/100},direction:i,background:"linear-gradient(to "+(i==="horizontal"?"right":"bottom")+", "+l+", rgb(0, 0, 0))",onChange:(c,u)=>{n&&n({v:i==="horizontal"?100-u.left*100:100-u.top*100,s:100})}}))});ef.displayName="ShadeSlider";var tf=ef;import ff from"react";import"react";import{jsx as Yi}from"react/jsx-runtime";var th="rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",rf=e=>{var{className:t,color:r,left:o,top:n,style:i,prefixCls:s}=e,a=Q({},i,{position:"absolute",top:n,left:o}),l=s+"-pointer "+(t||"");return Yi("div",{className:l,style:a,children:Yi("div",{className:s+"-fill",style:{width:10,height:10,transform:"translate(-5px, -5px)",boxShadow:th,borderRadius:"50%",backgroundColor:"#fff"},children:Yi("div",{style:{inset:0,borderRadius:"50%",position:"absolute",backgroundColor:r}})})})};var of=Math.PI*2,rh=(e,t)=>(e%t+t)%t,oh=(e,t)=>Math.sqrt(e*e+t*t);function nf(e){var{width:t=0}=e,r=t/2;return{width:t,radius:r,cx:r,cy:r}}function sf(e,t){var{cx:r,cy:o}=nf(e),n=af(e),i=(180+lf(e,t.h,!0))*(of/360),s=t.s/100*n,a=e.direction==="clockwise"?-1:1;return{x:r+s*Math.cos(i)*a,y:o+s*Math.sin(i)*a}}function af(e){var{width:t=0}=e;return t/2}function lf(e,t,r){var o=e.angle||0,n=e.direction;return r&&n==="clockwise"?t=o+t:n==="clockwise"?t=360-o+t:r&&n==="anticlockwise"?t=o+180-t:n==="anticlockwise"&&(t=o-t),rh(t,360)}function cf(e,t,r){var{cx:o,cy:n}=nf(e),i=af(e);t=o-t,r=n-r;var s=lf(e,Math.atan2(-r,-t)*(360/of)),a=Math.min(oh(t,r),i);return{h:Math.round(s),s:Math.round(100/i*a)}}import{jsx as qi}from"react/jsx-runtime";import{jsxs as ih}from"react/jsx-runtime";var nh=["prefixCls","radius","pointer","className","style","width","height","direction","angle","color","onChange"],sh="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",ah="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)",uf=ff.forwardRef((e,t)=>{var{prefixCls:r="w-color-wheel",radius:o=0,pointer:n,className:i,style:s,width:a=200,height:l=200,direction:c="anticlockwise",angle:u=180,color:f,onChange:m}=e,d=qe(e,nh),p=typeof f=="string"&&qo(f)?Xt(f):f||{},_=f?Mr(p):"",x=sf({width:a},p),v={top:"0",left:"0",color:_},h=(y,b)=>{var g=cf({width:a},a-y.x,l-y.y),T={h:g.h,s:g.s,v:p.v,a:p.a};m&&m(Yc(T))};return ih(Zo,Q({className:[r,i||""].filter(Boolean).join(" ")},d,{style:Q({},s,{position:"relative",width:a,height:l}),ref:t,onMove:h,onDown:h,children:[ff.createElement(n||rf,Q({prefixCls:r,style:{zIndex:1,transform:"translate("+x.x+"px, "+x.y+"px)"}},v)),qi("div",{style:{position:"absolute",borderRadius:"50%",background:c==="anticlockwise"?sh:ah,transform:"rotateZ("+(u+90)+"deg)",inset:0}}),qi("div",{style:{position:"absolute",borderRadius:"50%",background:"radial-gradient(circle closest-side, #fff, transparent)",inset:0}}),qi("div",{style:{backgroundColor:"#000",borderRadius:"50%",position:"absolute",inset:0,opacity:typeof p.v=="number"?1-p.v/100:0}})]}))});uf.displayName="Wheel";var df=uf;import{useEffect as lh}from"react";function Qo(e,t){lh(()=>{let r=o=>{!e.current||e.current.contains(o.target)||t(o)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[e,t])}import{useState as ch}from"react";var mf=e=>{let[t,r]=ch(()=>({prop:e,state:e}));return t.prop!=e&&(t.prop=e,t.state=e),[t.state,o=>{r({prop:e,state:o})}]};import{Fragment as dh,jsx as nt,jsxs as Wo}from"react/jsx-runtime";var Pe=hf.forwardRef(({label:e="",defaultValue:t,setValue:r},o)=>{let[n,i]=mf(t),[s,a]=fh(!1);pf(()=>{i(t)},[]),pf(()=>{r(n)},[n]);let l=uh(null);return Qo(l,()=>a(!1)),Wo("div",{className:"flex items-center",children:[e&&Wo(dh,{children:[nt("label",{className:"font-semibold text-primary text-base",children:e}),nt(Ee,{className:"w-2"})]}),Wo("div",{className:"flex items-center gap-2 w-full relative",children:[nt("div",{className:"w-full h-input rounded",style:{background:n},onClick:()=>{a(!s)}}),nt("div",{ref:l,style:{width:"fit-content",height:"fit-content",position:"absolute",bottom:25,left:-10,zIndex:100,display:s===!0?"block":"none"},children:Wo("div",{style:{display:"flex",width:"fit-content",height:"fit-content",background:"white",padding:16,flexDirection:"column",justifyContent:"center",alignItems:"center",gap:16,borderRadius:5,filter:"drop-shadow(0px 0px 10px rgba(0,0,0,0.37))"},children:[nt(df,{color:n,onChange:c=>{i(c.hex)},width:200,height:200}),nt(tf,{width:200,style:{display:"flex",alignItems:"center"},hsva:Xt(n),onChange:c=>{i(Mr({h:Xt(n).h,s:c.s,v:c.v,a:1}))}}),nt("div",{style:{width:16,height:16,background:"white",position:"absolute",borderRadius:3,bottom:-5,transform:"rotate(45deg)"}})]})}),nt("input",{type:"text",value:n,onChange:c=>i(c.target.value),className:"font-medium text-primary bg-primary bg-opacity-10 rounded h-input w-[90px] text-center outline-none text-base"})]})]})});import mh from"react";import{motion as gf}from"framer-motion";import{Fragment as ph,jsx as je,jsxs as Ko}from"react/jsx-runtime";var se=mh.forwardRef((a,s)=>{var l=a,{label:e=null,value:t,setValue:r=()=>{},arrow:o=!1,step:n=0}=l,i=F(l,["label","value","setValue","arrow","step"]);return Ko("div",{className:"flex items-center",children:[e&&Ko(ph,{children:[je("label",{className:"font-semibold text-primary text-base",children:e}),je(Ee,{className:"w-2"})]}),Ko("div",{className:"bg-primary bg-opacity-10 flex flex-row w-fit h-fit rounded items-center",children:[je("input",M({type:"number",className:"font-medium text-primary bg-transparent h-input w-control-number-input text-center outline-none text-base",ref:s,value:t,onChange:c=>r(c.target.valueAsNumber),step:n},i)),o===!0&&Ko("div",{className:"h-input flex flex-col text-primary justify-start items-center w-1",style:{marginRight:8,marginLeft:-5},children:[je(gf.div,{className:"h-[50%] w-fit cursor-pointer flex items-center",onClick:()=>{r(t+n)},initial:{opacity:.5},whileHover:{opacity:1},children:je("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",children:je("path",{d:"M 4.468 2.048 C 4.306 1.616 3.694 1.616 3.532 2.048 L 1.853 6.524 C 1.731 6.851 1.972 7.2 2.322 7.2 L 4 7.2 L 4 7.2 L 5.678 7.2 C 6.028 7.2 6.269 6.851 6.147 6.524 Z",fill:"rgb(255, 67, 10)"})})}),je(gf.div,{className:"h-[50%] w-fit cursor-pointer flex items-center",onClick:()=>{r(t-n)},initial:{opacity:.5},whileHover:{opacity:1},children:je("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",children:je("path",{d:"M 2.868 1.248 C 2.706 0.816 2.094 0.816 1.932 1.248 L 0.253 5.724 C 0.131 6.051 0.372 6.4 0.722 6.4 L 4.078 6.4 C 4.428 6.4 4.669 6.051 4.547 5.724 Z",transform:"translate(1.6 0.8) rotate(180 2.4 3.2)",fill:"rgb(255, 67, 10)"})})})]})]})]})});import*as xf from"react";import{useEffect as vf,useState as hh}from"react";function Lr(e,t){return Lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,n){return o.__proto__=n,o},Lr(e,t)}function ji(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Lr(e,t)}import Qt from"react";function Xi(e){return e&&e.stopPropagation&&e.stopPropagation(),e&&e.preventDefault&&e.preventDefault(),!1}function Zi(e){return e==null?[]:Array.isArray(e)?e.slice():[e]}function $o(e){return e!==null&&e.length===1?e[0]:e.slice()}function Jo(e){Object.keys(e).forEach(t=>{typeof document<"u"&&document.addEventListener(t,e[t],!1)})}function gt(e,t){return Qi(function(r,o){let n=r;return n<=o.min&&(n=o.min),n>=o.max&&(n=o.max),n}(e,t),t)}function Qi(e,t){let r=(e-t.min)%t.step,o=e-r;return 2*Math.abs(r)>=t.step&&(o+=r>0?t.step:-t.step),parseFloat(o.toFixed(5))}var Wi=function(e){function t(o){var n;(n=e.call(this,o)||this).onKeyUp=()=>{n.onEnd()},n.onMouseUp=()=>{n.onEnd(n.getMouseEventMap())},n.onTouchEnd=()=>{n.onEnd(n.getTouchEventMap())},n.onBlur=()=>{n.setState({index:-1},n.onEnd(n.getKeyDownEventMap()))},n.onMouseMove=a=>{n.setState({pending:!0});let l=n.getMousePosition(a),c=n.getDiffPosition(l[0]),u=n.getValueFromPosition(c);n.move(u)},n.onTouchMove=a=>{if(a.touches.length>1)return;n.setState({pending:!0});let l=n.getTouchPosition(a);if(n.isScrolling===void 0){let f=l[0]-n.startPosition[0],m=l[1]-n.startPosition[1];n.isScrolling=Math.abs(m)>Math.abs(f)}if(n.isScrolling)return void n.setState({index:-1});let c=n.getDiffPosition(l[0]),u=n.getValueFromPosition(c);n.move(u)},n.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(n.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),n.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),n.moveUpByStep();break;case"Home":a.preventDefault(),n.move(n.props.min);break;case"End":a.preventDefault(),n.move(n.props.max);break;case"PageDown":a.preventDefault(),n.moveDownByStep(n.props.pageFn(n.props.step));break;case"PageUp":a.preventDefault(),n.moveUpByStep(n.props.pageFn(n.props.step))}},n.onSliderMouseDown=a=>{if(!n.props.disabled&&a.button!==2){if(n.setState({pending:!0}),!n.props.snapDragDisabled){let l=n.getMousePosition(a);n.forceValueFromPosition(l[0],c=>{n.start(c,l[0]),Jo(n.getMouseEventMap())})}Xi(a)}},n.onSliderClick=a=>{if(!n.props.disabled&&n.props.onSliderClick&&!n.hasMoved){let l=n.getMousePosition(a),c=gt(n.calcValue(n.calcOffsetFromPosition(l[0])),n.props);n.props.onSliderClick(c)}},n.createOnKeyDown=a=>l=>{n.props.disabled||(n.start(a),Jo(n.getKeyDownEventMap()),Xi(l))},n.createOnMouseDown=a=>l=>{if(n.props.disabled||l.button===2)return;n.setState({pending:!0});let c=n.getMousePosition(l);n.start(a,c[0]),Jo(n.getMouseEventMap()),Xi(l)},n.createOnTouchStart=a=>l=>{if(n.props.disabled||l.touches.length>1)return;n.setState({pending:!0});let c=n.getTouchPosition(l);n.startPosition=c,n.isScrolling=void 0,n.start(a,c[0]),Jo(n.getTouchEventMap()),function(u){u.stopPropagation&&u.stopPropagation()}(l)},n.handleResize=()=>{let a=window.setTimeout(()=>{n.pendingResizeTimeouts.shift(),n.resize()},0);n.pendingResizeTimeouts.push(a)},n.renderThumb=(a,l)=>{let c=n.props.thumbClassName+" "+n.props.thumbClassName+"-"+l+" "+(n.state.index===l?n.props.thumbActiveClassName:""),u={ref:m=>{n["thumb"+l]=m},key:n.props.thumbClassName+"-"+l,className:c,style:a,onMouseDown:n.createOnMouseDown(l),onTouchStart:n.createOnTouchStart(l),onFocus:n.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":n.props.orientation,"aria-valuenow":n.state.value[l],"aria-valuemin":n.props.min,"aria-valuemax":n.props.max,"aria-label":Array.isArray(n.props.ariaLabel)?n.props.ariaLabel[l]:n.props.ariaLabel,"aria-labelledby":Array.isArray(n.props.ariaLabelledby)?n.props.ariaLabelledby[l]:n.props.ariaLabelledby},f={index:l,value:$o(n.state.value),valueNow:n.state.value[l]};return n.props.ariaValuetext&&(u["aria-valuetext"]=typeof n.props.ariaValuetext=="string"?n.props.ariaValuetext:n.props.ariaValuetext(f)),n.props.renderThumb(u,f)},n.renderTrack=(a,l,c)=>{let u={key:n.props.trackClassName+"-"+a,className:n.props.trackClassName+" "+n.props.trackClassName+"-"+a,style:n.buildTrackStyle(l,n.state.upperBound-c)},f={index:a,value:$o(n.state.value)};return n.props.renderTrack(u,f)};let i=Zi(o.value);i.length||(i=Zi(o.defaultValue)),n.pendingResizeTimeouts=[];let s=[];for(let a=0;a<i.length;a+=1)i[a]=gt(i[a],o),s.push(a);return n.resizeObserver=null,n.resizeElementRef=Qt.createRef(),n.state={index:-1,upperBound:0,sliderLength:0,value:i,zIndices:s},n}ji(t,e);var r=t.prototype;return r.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},t.getDerivedStateFromProps=function(o,n){let i=Zi(o.value);return i.length?n.pending?null:{value:i.map(s=>gt(s,o))}:null},r.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},r.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},r.onEnd=function(o){o&&function(n){Object.keys(n).forEach(i=>{typeof document<"u"&&document.removeEventListener(i,n[i],!1)})}(o),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},r.getValue=function(){return $o(this.state.value)},r.getClosestIndex=function(o){let n=Number.MAX_VALUE,i=-1,{value:s}=this.state,a=s.length;for(let l=0;l<a;l+=1){let c=this.calcOffset(s[l]),u=Math.abs(o-c);u<n&&(n=u,i=l)}return i},r.getMousePosition=function(o){return[o["page"+this.axisKey()],o["page"+this.orthogonalAxisKey()]]},r.getTouchPosition=function(o){let n=o.touches[0];return[n["page"+this.axisKey()],n["page"+this.orthogonalAxisKey()]]},r.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},r.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},r.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},r.getValueFromPosition=function(o){let n=o/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return gt(this.state.startValue+n,this.props)},r.getDiffPosition=function(o){let n=o-this.state.startPosition;return this.props.invert&&(n*=-1),n},r.resize=function(){let{slider:o,thumb0:n}=this;if(!o||!n)return;let i=this.sizeKey(),s=o.getBoundingClientRect(),a=o[i],l=s[this.posMaxKey()],c=s[this.posMinKey()],u=n.getBoundingClientRect()[i.replace("client","").toLowerCase()],f=a-u,m=Math.abs(l-c);this.state.upperBound===f&&this.state.sliderLength===m&&this.state.thumbSize===u||this.setState({upperBound:f,sliderLength:m,thumbSize:u})},r.calcOffset=function(o){let n=this.props.max-this.props.min;return n===0?0:(o-this.props.min)/n*this.state.upperBound},r.calcValue=function(o){return o/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},r.calcOffsetFromPosition=function(o){let{slider:n}=this,i=n.getBoundingClientRect(),s=i[this.posMaxKey()],a=i[this.posMinKey()],l=o-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?s:a));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},r.forceValueFromPosition=function(o,n){let i=this.calcOffsetFromPosition(o),s=this.getClosestIndex(i),a=gt(this.calcValue(i),this.props),l=this.state.value.slice();l[s]=a;for(let c=0;c<l.length-1;c+=1)if(l[c+1]-l[c]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{n(s),this.fireChangeEvent("onChange")})},r.clearPendingResizeTimeouts=function(){do{let o=this.pendingResizeTimeouts.shift();clearTimeout(o)}while(this.pendingResizeTimeouts.length)},r.start=function(o,n){let i=this["thumb"+o];i&&i.focus();let{zIndices:s}=this.state;s.splice(s.indexOf(o),1),s.push(o),this.setState(a=>({startValue:a.value[o],startPosition:n!==void 0?n:a.startPosition,index:o,zIndices:s}))},r.moveUpByStep=function(o){o===void 0&&(o=this.props.step);let n=gt(this.state.value[this.state.index]+o,this.props);this.move(Math.min(n,this.props.max))},r.moveDownByStep=function(o){o===void 0&&(o=this.props.step);let n=gt(this.state.value[this.state.index]-o,this.props);this.move(Math.max(n,this.props.min))},r.move=function(o){let{index:n,value:i}=this.state,{length:s}=i,a=i[n];if(o===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;let{pearling:l,max:c,min:u,minDistance:f}=this.props;if(!l){if(n>0){let m=i[n-1];o<m+f&&(o=m+f)}if(n<s-1){let m=i[n+1];o>m-f&&(o=m-f)}}i[n]=o,l&&s>1&&(o>a?(this.pushSucceeding(i,f,n),function(m,d,p,_){for(let x=0;x<m;x+=1){let v=_-x*p;d[m-1-x]>v&&(d[m-1-x]=v)}}(s,i,f,c)):o<a&&(this.pushPreceding(i,f,n),function(m,d,p,_){for(let x=0;x<m;x+=1){let v=_+x*p;d[x]<v&&(d[x]=v)}}(s,i,f,u))),this.setState({value:i},this.fireChangeEvent.bind(this,"onChange"))},r.pushSucceeding=function(o,n,i){let s,a;for(s=i,a=o[s]+n;o[s+1]!==null&&a>o[s+1];s+=1,a=o[s]+n)o[s+1]=Qi(a,this.props)},r.pushPreceding=function(o,n,i){for(let s=i,a=o[s]-n;o[s-1]!==null&&a<o[s-1];s-=1,a=o[s]-n)o[s-1]=Qi(a,this.props)},r.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},r.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},r.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},r.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},r.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},r.fireChangeEvent=function(o){this.props[o]&&this.props[o]($o(this.state.value),this.state.index)},r.buildThumbStyle=function(o,n){let i={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(n)+1};return i[this.posMinKey()]=o+"px",i},r.buildTrackStyle=function(o,n){let i={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return i[this.posMinKey()]=o,i[this.posMaxKey()]=n,i},r.buildMarkStyle=function(o){var n;return(n={position:"absolute"})[this.posMinKey()]=o,n},r.renderThumbs=function(o){let{length:n}=o,i=[];for(let a=0;a<n;a+=1)i[a]=this.buildThumbStyle(o[a],a);let s=[];for(let a=0;a<n;a+=1)s[a]=this.renderThumb(i[a],a);return s},r.renderTracks=function(o){let n=[],i=o.length-1;n.push(this.renderTrack(0,0,o[0]));for(let s=0;s<i;s+=1)n.push(this.renderTrack(s+1,o[s],o[s+1]));return n.push(this.renderTrack(i+1,o[i],this.state.upperBound)),n},r.renderMarks=function(){let{marks:o}=this.props,n=this.props.max-this.props.min+1;return typeof o=="boolean"?o=Array.from({length:n}).map((i,s)=>s):typeof o=="number"&&(o=Array.from({length:n}).map((i,s)=>s).filter(i=>i%o==0)),o.map(parseFloat).sort((i,s)=>i-s).map(i=>{let s=this.calcOffset(i),a={key:i,className:this.props.markClassName,style:this.buildMarkStyle(s)};return this.props.renderMark(a)})},r.render=function(){let o=[],{value:n}=this.state,i=n.length;for(let c=0;c<i;c+=1)o[c]=this.calcOffset(n[c],c);let s=this.props.withTracks?this.renderTracks(o):null,a=this.renderThumbs(o),l=this.props.marks?this.renderMarks():null;return Qt.createElement("div",{ref:c=>{this.slider=c,this.resizeElementRef.current=c},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},s,a,l)},t}(Qt.Component);Wi.displayName="ReactSlider",Wi.defaultProps={min:0,max:100,step:1,pageFn:e=>10*e,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:e=>Qt.createElement("div",e),renderTrack:e=>Qt.createElement("div",e),renderMark:e=>Qt.createElement("span",e)};var Dr=Wi;import{jsx as Ki,jsxs as gh}from"react/jsx-runtime";var te=xf.forwardRef(({defaultValue:e,setValue:t,step:r,min:o,max:n},i)=>{let[s,a]=hh(e);return vf(()=>{a(e)},[]),vf(()=>{t(s)},[s]),gh("div",{className:"flex items-center w-full",children:[Ki(se,{value:s,setValue:a,step:r}),Ki(Ee,{className:"w-4"}),Ki(Dr,{value:Number(s),step:r,min:o,max:n,onChange:(l,c)=>a(l),className:"bg-primary h-slider w-full",marks:[(o+n)/2],markClassName:"w-mark h-mark bg-primary top-1/2 transform -translate-y-1/2 slider-mark-center-x",thumbClassName:"bg-primary w-thumb h-thumb rounded-full top-1/2 transform -translate-y-1/2 outline-none cursor-pointer",thumbActiveClassName:"bg-opacity-80"})]})});import{useEffect as vh,useState as yf}from"react";import{jsx as Wt,jsxs as xh}from"react/jsx-runtime";var Or=({defaultValue:e,setValue:t,step:r,min:o,max:n})=>{let i=(e==null?void 0:e[0])||o,s=(e==null?void 0:e[1])||n,[a,l]=yf(i),[c,u]=yf(s);return vh(()=>{t([a,c])},[a,c]),xh("div",{className:"flex items-center w-full",children:[Wt(se,{value:a,setValue:l,step:r}),Wt(Ee,{className:"w-4"}),Wt(Dr,{value:[Number(a),Number(c)],step:r,min:o,max:n,onChange:(f,m)=>{l(f[0]),u(f[1])},defaultValue:[o,n],pearling:!0,minDistance:.5,withTracks:!0,className:"bg-primary h-[8px] w-full bg-opacity-20 rounded-full",marks:[(o+n)/2],markClassName:"w-mark h-mark bg-primary top-1/2 transform translate-x-1 -translate-y-1/2 slider-mark-center-x",thumbClassName:"bg-primary w-thumb h-thumb rounded-full top-1/2 transform -translate-y-1/2 outline-none cursor-pointer",trackClassName:"bg-primary h-[8px] rounded-full relative",renderTrack:(f,m)=>Wt("div",V(M({},f),{style:V(M({},f.style),{opacity:m.index===1?.7:0})}))}),Wt(Ee,{className:"w-4"}),Wt(se,{value:c,setValue:u,step:r})]})};import*as bf from"react";import{jsx as _f,jsxs as yh}from"react/jsx-runtime";var U=bf.forwardRef(({label:e,check:t,setValue:r,value:o,name:n},i)=>yh("label",{className:Y("flex justify-center items-center w-full h-input text-primary rounded cursor-pointer bg-primary hover:bg-opacity-10 select-none",t?"bg-opacity-10":"bg-opacity-0"),htmlFor:o,children:[_f("input",{name:n,value:o,type:"radio",id:o,className:"absolute inline-block opacity-0 cursor-pointer",onChange:s=>r(s.target.value)}),_f("span",{className:"text-base font-medium",children:e||o})]}));import{jsx as en,jsxs as _h}from"react/jsx-runtime";var $i=s=>{var a=s,{content:e,onClick:t,isHovered:r,position:o="left",downward:n=!0}=a,i=F(a,["content","onClick","isHovered","position","downward"]);return en("div",{className:Y("text-sm font-medium text-white z-hoverBox"),style:{position:"absolute",marginLeft:o==="center"?0:-10,visibility:r?"visible":"hidden",margin:r===!0?"10px 0":0,top:n===!0?0:"unset",bottom:n===!1?"100%":"inherit",transitionDuration:"0.3s",opacity:r?1:0,minWidth:230,height:"fit-content"},children:_h("div",{style:{maxWidth:230,width:"fit-content",height:"fit-content"},children:[en("div",{className:Y("bg-primary"),style:{position:"absolute",width:"100%",height:"100%",borderRadius:3,opacity:.8,zIndex:0},children:en("div",{className:Y("bg-primary"),style:{width:17,height:17,background:"rgb(255, 67, 10)",transform:"rotate(45deg)",position:"absolute",left:o==="center"?"calc(50% - 15px)":o==="right"?"calc(100% - 12px - 15px)":12,top:n===!0?-7:null,bottom:n===!1?-7:null,borderRadius:3}})}),en("p",{style:{padding:8,zIndex:20,position:"relative"},children:e})]})})};import{jsx as tn,jsxs as bh}from"react/jsx-runtime";var vt=n=>{var i=n,{content:e,isHovered:t,bottom:r=75}=i,o=F(i,["content","isHovered","bottom"]);return tn("div",{className:Y("text-sm font-medium text-white"),style:{position:"absolute",display:"flex",visibility:t?"visible":"hidden",justifyContent:"center",marginBottom:t?r+10:r,transitionDuration:"0.3s",opacity:t?1:0},children:bh("div",{style:{width:"fit-content",height:"fit-content"},children:[tn("div",{className:Y("bg-primary"),style:{position:"absolute",width:"100%",height:"100%",borderRadius:3,opacity:.8,zIndex:0,paddingTop:22,display:"flex",justifyContent:"center"},children:tn("div",{className:Y("bg-primary"),style:{width:17,height:17,background:"rgb(255, 67, 10)",transform:"rotate(45deg)",margin:"0 auto",borderRadius:3}})}),tn("p",{style:{padding:8,zIndex:20,position:"relative",whiteSpace:"nowrap"},children:e})]})})};import*as Th from"react";import{jsx as qT,jsxs as jT}from"react/jsx-runtime";import{useState as Rh,useEffect as Ah}from"react";import{motion as es,useAnimation as zh,AnimatePresence as Mh}from"framer-motion";import*as Me from"react";var Ji=new Map,rn=new WeakMap,Tf=0,Sh;function Eh(e){return e?(rn.has(e)||(Tf+=1,rn.set(e,Tf.toString())),rn.get(e)):"0"}function Ph(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?Eh(e.root):e[t]}`).toString()}function wh(e){let t=Ph(e),r=Ji.get(t);if(!r){let o=new Map,n,i=new IntersectionObserver(s=>{s.forEach(a=>{var l;let c=a.isIntersecting&&n.some(u=>a.intersectionRatio>=u);e.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=o.get(a.target))==null||l.forEach(u=>{u(c,a)})})},e);n=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:o},Ji.set(t,r)}return r}function Ch(e,t,r={},o=Sh){if(typeof window.IntersectionObserver>"u"&&o!==void 0){let l=e.getBoundingClientRect();return t(o,{isIntersecting:o,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}let{id:n,observer:i,elements:s}=wh(r),a=s.get(e)||[];return s.has(e)||s.set(e,a),a.push(t),i.observe(e),function(){a.splice(a.indexOf(t),1),a.length===0&&(s.delete(e),i.unobserve(e)),s.size===0&&(i.disconnect(),Ji.delete(n))}}function Sf({threshold:e,delay:t,trackVisibility:r,rootMargin:o,root:n,triggerOnce:i,skip:s,initialInView:a,fallbackInView:l,onChange:c}={}){var u;let[f,m]=Me.useState(null),d=Me.useRef(),[p,_]=Me.useState({inView:!!a,entry:void 0});d.current=c,Me.useEffect(()=>{if(s||!f)return;let h;return h=Ch(f,(y,b)=>{_({inView:y,entry:b}),d.current&&d.current(y,b),b.isIntersecting&&i&&h&&(h(),h=void 0)},{root:n,rootMargin:o,threshold:e,trackVisibility:r,delay:t},l),()=>{h&&h()}},[Array.isArray(e)?e.toString():e,f,n,o,i,s,r,l,t]);let x=(u=p.entry)==null?void 0:u.target;Me.useEffect(()=>{!f&&x&&!i&&!s&&_({inView:!!a,entry:void 0})},[f,x,i,s,a]);let v=[m,p.inView,p.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}import{jsx as Ir,jsxs as Lh}from"react/jsx-runtime";function ts({fontSize:e,color:t,referer:r="",content:o,delay:n,width:i=null,font:s=null,textCenter:a=!1,yBefore:l=20}){let c={before:{transition:{staggerChildren:.015}},after:{transition:{staggerChildren:.015}}},u={before:{opacity:0,y:l,rotate:-15,scale:.4,transition:{type:"spring",duration:.4,damping:10}},after:{opacity:1,y:0,scale:1,rotate:0,transition:{type:"spring",duration:.4,damping:10}}},[f,m]=Sf(),d=zh(),[p,_]=Rh(!1);return Ah(()=>{m?d.start("after"):d.start("before")},[d,m]),setTimeout(()=>{_(!0)},n),Ir(Mh,{children:p&&Ir(es.div,{style:{position:"relative",wordBreak:"break-word",width:i},children:Ir(es.h1,{variants:c,ref:f,initial:"before",animate:d,children:Ir("div",{style:{textAlign:"left",fontSize:e,color:t},children:o.split(" ").map((x,v)=>Lh("div",{style:{display:"inline-block"},children:[Array.from(x).map((h,y)=>Ir(es.span,{style:{position:"relative",display:"inline-block",width:"auto"},variants:u,children:h===" "?"\xA0":h},`${y}-${h}`)),v!==o.split(" ").length-1?"\xA0":null]},`word-${x}-${v}`))})})})})}import{motion as lS,AnimatePresence as cS}from"framer-motion";import{jsx as uS,jsxs as dS}from"react/jsx-runtime";import{jsx as yS}from"react/jsx-runtime";import*as Hr from"react";import{useEffect as Uh,useRef as Bh}from"react";var Ef=e=>typeof e=="object"&&e!=null&&e.nodeType===1,Pf=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",rs=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let r=getComputedStyle(e,null);return Pf(r.overflowY,t)||Pf(r.overflowX,t)||(o=>{let n=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(o);return!!n&&(n.clientHeight<o.scrollHeight||n.clientWidth<o.scrollWidth)})(e)}return!1},on=(e,t,r,o,n,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=r||s>=t&&a>=r?i-e-o:s>t&&a<r||i<e&&a>r?s-t+n:0,Dh=e=>{let t=e.parentElement;return t??(e.getRootNode().host||null)},os=(e,t)=>{var r,o,n,i;if(typeof document>"u")return[];let{scrollMode:s,block:a,inline:l,boundary:c,skipOverflowHiddenElements:u}=t,f=typeof c=="function"?c:O=>O!==c;if(!Ef(e))throw new TypeError("Invalid target");let m=document.scrollingElement||document.documentElement,d=[],p=e;for(;Ef(p)&&f(p);){if(p=Dh(p),p===m){d.push(p);break}p!=null&&p===document.body&&rs(p)&&!rs(document.documentElement)||p!=null&&rs(p,u)&&d.push(p)}let _=(o=(r=window.visualViewport)==null?void 0:r.width)!=null?o:innerWidth,x=(i=(n=window.visualViewport)==null?void 0:n.height)!=null?i:innerHeight,{scrollX:v,scrollY:h}=window,{height:y,width:b,top:g,right:T,bottom:w,left:C}=e.getBoundingClientRect(),S=a==="start"||a==="nearest"?g:a==="end"?w:g+y/2,R=l==="center"?C+b/2:l==="end"?T:C,z=[];for(let O=0;O<d.length;O++){let N=d[O],{height:K,width:X,top:we,right:ne,bottom:ae,left:Oe}=N.getBoundingClientRect();if(s==="if-needed"&&g>=0&&C>=0&&w<=x&&T<=_&&g>=we&&w<=ae&&C>=Oe&&T<=ne)return z;let yt=getComputedStyle(N),_t=parseInt(yt.borderLeftWidth,10),bt=parseInt(yt.borderTopWidth,10),Tt=parseInt(yt.borderRightWidth,10),St=parseInt(yt.borderBottomWidth,10),Ce=0,ve=0,Et="offsetWidth"in N?N.offsetWidth-N.clientWidth-_t-Tt:0,Br="offsetHeight"in N?N.offsetHeight-N.clientHeight-bt-St:0,vs="offsetWidth"in N?N.offsetWidth===0?0:X/N.offsetWidth:0,xs="offsetHeight"in N?N.offsetHeight===0?0:K/N.offsetHeight:0;if(m===N)Ce=a==="start"?S:a==="end"?S-x:a==="nearest"?on(h,h+x,x,bt,St,h+S,h+S+y,y):S-x/2,ve=l==="start"?R:l==="center"?R-_/2:l==="end"?R-_:on(v,v+_,_,_t,Tt,v+R,v+R+b,b),Ce=Math.max(0,Ce+h),ve=Math.max(0,ve+v);else{Ce=a==="start"?S-we-bt:a==="end"?S-ae+St+Br:a==="nearest"?on(we,ae,K,bt,St+Br,S,S+y,y):S-(we+K/2)+Br/2,ve=l==="start"?R-Oe-_t:l==="center"?R-(Oe+X/2)+Et/2:l==="end"?R-ne+Tt+Et:on(Oe,ne,X,_t,Tt+Et,R,R+b,b);let{scrollLeft:ys,scrollTop:_s}=N;Ce=Math.max(0,Math.min(_s+Ce/xs,N.scrollHeight-K/xs+Br)),ve=Math.max(0,Math.min(ys+ve/vs,N.scrollWidth-X/vs+Et)),S+=_s-Ce,R+=ys-ve}z.push({el:N,top:Ce,left:ve})}return z};var Oh=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function wf(e,t){if(!e.isConnected||!(o=>{let n=o;for(;n&&n.parentNode;){if(n.parentNode===document)return!0;n=n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}return!1})(e))return;if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(os(e,t));let r=typeof t=="boolean"||t==null?void 0:t.behavior;for(let{el:o,top:n,left:i}of os(e,Oh(t)))o.scroll({top:n,left:i,behavior:r})}import{jsx as Kt,jsxs as nn}from"react/jsx-runtime";var Cf=()=>{let[e,t]=A("wireframe"),[r,o]=A("axesHelper"),[n,i]=A("gizmoHelper");return nn("div",{className:"flex flex-col gap-3",children:[nn(I,{title:"Wireframe",children:[Kt(U,{name:"wireframe",value:"enable",setValue:t,check:e==="enable",label:"On"}),Kt(U,{name:"wireframe",value:"false",setValue:t,check:e==="false",label:"Off"})]}),nn(I,{title:"Axes",children:[Kt(U,{name:"axesHelper",value:"on",setValue:o,check:r==="on",label:"On"}),Kt(U,{name:"axesHelper",value:"off",setValue:o,check:r==="off",label:"Off"})]}),nn(I,{title:"Gizmo",children:[Kt(U,{name:"gizmoHelper",value:"show",setValue:i,check:n==="show",label:"On"}),Kt(U,{name:"gizmoHelper",value:"hide",setValue:i,check:n==="hide",label:"Off"})]})]})};import*as Df from"react";import*as Af from"react";import{jsx as sn,jsxs as Rf}from"react/jsx-runtime";var an=n=>{var i=n,{content:e,active:t,onClick:r}=i,o=F(i,["content","active","onClick"]);let[s,a]=Af.useState(!1),l=(c,u)=>c===!0?1:u===!0&&c!==!0?.1:0;return Rf("div",{className:Y("text-sm font-medium cursor-pointer flex justify-center items-center",t&&"bg-primary"),style:{borderRadius:15,width:30,height:30,transitionDuration:"0.3s",background:"rgba(255,67,10,"+l(t,s)+")"},onMouseEnter:()=>{a(!0)},onMouseLeave:()=>{a(!1)},onClick:r,children:[Rf("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:[sn("path",{d:"M 0 0 L 0 8.5",transform:"translate(8 12) rotate(60 0.5 4.25)",fill:"transparent",strokeWidth:"1.8",stroke:t?"white":"rgb(255,67,10)",strokeLinecap:"round"}),sn("path",{d:"M 0 0 L 0 8.5",transform:"translate(15 12) rotate(120 0.5 4.25)",fill:"transparent",strokeWidth:"1.8",stroke:t?"white":"rgb(255,67,10)",strokeLinecap:"round"}),sn("path",{d:"M 12 5 L 12 13.5",fill:"transparent",strokeWidth:"1.8",stroke:t?"white":"rgb(255,67,10)",strokeLinecap:"round"})]}),sn(vt,{content:e,isHovered:s})]})};import*as Fr from"react";import{jsx as zf,jsxs as Ih}from"react/jsx-runtime";var ns=()=>{let[e,t]=Fr.useState("Copy URL"),[r,o]=Fr.useState(!1),n=()=>Pt(void 0,null,function*(){yield setTimeout(()=>{o(!1)},3e3)});return Fr.useEffect(()=>{o(!0),n()},[]),Ih("div",{className:"flex flex-col items-center justify-center",style:{marginLeft:5},children:[zf("div",{className:"bg-primary flex w-[90px] cursor-pointer items-center justify-center rounded-sm p-1.5 text-sm font-medium text-white",onClick:()=>Pt(void 0,null,function*(){window.navigator.clipboard.writeText(window.location.href),t("Copied!"),yield setTimeout(()=>{t("Copy URL")},2e3)}),onMouseOver:()=>{o(!0)},onMouseLeave:()=>{o(!1)},children:e}),zf(vt,{content:"Share it, or use it in Figma/Framer",isHovered:r,bottom:90})]})};import*as Lf from"react";import{jsx as Xe,jsxs as is}from"react/jsx-runtime";function $t(r){var o=r,{name:e}=o,t=F(o,["name"]);switch(e){case"Info":return is("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"rgb(255,67,10)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Xe("circle",{cx:"12",cy:"12",r:"10"}),Xe("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),Xe("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]});case"CornerUpLeft":return is("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"rgb(255,67,10)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Xe("polyline",{points:"9 14 4 9 9 4"}),Xe("path",{d:"M20 20v-7a4 4 0 0 0-4-4H4"})]});case"Minimize2":return is("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"rgb(255,67,10)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Xe("polyline",{points:"4 14 10 14 10 20"}),Xe("polyline",{points:"20 10 14 10 14 4"}),Xe("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),Xe("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]});default:break}}import{jsx as Mf,jsxs as Fh}from"react/jsx-runtime";var Nr=i=>{var s=i,{icon:e,content:t,active:r,onClick:o}=s,n=F(s,["icon","content","active","onClick"]);let[a,l]=Lf.useState(!1),c=(u,f)=>u===!0?1:f===!0&&u!==!0?.1:0;return Fh("div",{className:Y("text-sm font-medium cursor-pointer flex justify-center items-center",r&&"bg-primary"),style:{borderRadius:15,width:30,height:30,transitionDuration:"0.3s",background:"rgba(255,67,10,"+c(r,a)+")"},onMouseEnter:()=>{l(!0)},onMouseLeave:()=>{l(!1)},onClick:o,children:[Mf($t,{name:e,size:20,color:r?"white":"rgb(255,67,10)"}),Mf(vt,{content:t,isHovered:a})]})};import{jsx as ln,jsxs as Nh}from"react/jsx-runtime";var cn=o=>{var n=o,{title:e,darkMode:t}=n,r=F(n,["title","darkMode"]);let[i,s]=A("zoomOut"),[a,l]=A("toggleAxis"),[c,u]=Df.useState("copy url");return Nh("div",{className:Y("flex items-center justify-center p-1",t&&"bg-controls-sub-panel"),style:{gap:6,width:"fit-content",height:"fit-content",borderRadius:40},children:[ln(Nr,{icon:"CornerUpLeft",content:"undo",onClick:()=>{let f=window.history.state.prevUrls||[];if(f.length>1){f.pop();let m=new URL(f[f.length-1]).search;We(m),f.pop(),window.history.pushState({prevUrls:f},document.title,"")}else alert("no history")}}),ln(an,{content:"3d axis",active:a,onClick:()=>l(!a)}),ln(Nr,{icon:"Minimize2",content:"zoom out",active:i,onClick:()=>s(!i)}),ln(ns,{})]})};import{jsx as Hh}from"react/jsx-runtime";var xt=n=>{var i=n,{title:e,active:t,onClick:r}=i,o=F(i,["title","active","onClick"]);return Hh("div",{className:Y("text-xl font-medium text-primary text-opacity-20 cursor-pointer p-3 w-[25%] text-center select-none",t&&"text-opacity-100"),onClick:r,children:e})};import{jsx as fn,jsxs as kh}from"react/jsx-runtime";var un=n=>{var i=n,{activeTab:e,setActiveTab:t,isMobile:r}=i,o=F(i,["activeTab","setActiveTab","isMobile"]);return kh("div",{className:"flex flex-row justify-start w-[fit-content] h-[58px] cursor-pointer",style:{width:r===!1?"fit-content":"100%",height:r===!1?58:"100%",justifyContent:r===!1?"flex-start":"space-between",background:r===!1?"transparent":"white"},onClick:()=>t("shape"),children:[fn(xt,{title:"Shape",active:e==="shape",onClick:()=>{t(e==="shape"?"none":"shape")}}),fn(xt,{title:"Colors",active:e==="colors",onClick:s=>{s.stopPropagation(),t(e==="colors"?"none":"colors")}}),fn(xt,{title:"Motion",active:e==="motion",onClick:s=>{s.stopPropagation(),t(e==="motion"?"none":"motion")}}),fn(xt,{title:"View",active:e==="view",onClick:s=>{s.stopPropagation(),t(e==="view"?"none":"view")}})]})};import{Fragment as Vh,jsx as Jt,jsxs as ss}from"react/jsx-runtime";var I=u=>{var f=u,{title:e,children:t,gap:r="w-2",info:o,hoverContent:n,isHovered:i,onMouseEnter:s,onMouseLeave:a,autoScroll:l=!1}=f,c=F(f,["title","children","gap","info","hoverContent","isHovered","onMouseEnter","onMouseLeave","autoScroll"]);let m=Bh(null);return Uh(()=>{let d=m.current;d&&l&&wf(d,{scrollMode:"if-needed",behavior:"smooth"})},[m,l]),ss("div",V(M({ref:m,className:"flex justify-between items-center gap-3.5"},c),{children:[ss("span",{className:"font-semibold text-primary w-[50%] text-base relative select-none",children:[e," ",Jt("span",{className:"cursor-pointer",style:{display:"inline-block",opacity:.6},onMouseEnter:s,onMouseLeave:a,children:o===!0&&Jt($t,{name:"Info"})}),n&&Jt($i,{content:n,isHovered:i===e,downward:!1})]}),Jt("div",{className:"flex justify-between w-full",children:Hr.Children.map(t,(d,p)=>ss(Vh,{children:[Jt("div",{className:"w-full",children:Hr.cloneElement(d,{})},p),r&&p<Hr.Children.count(t)-1&&Jt(Ee,{className:`${r} flex-shrink-0`})]}))})]}))};import{jsx as pe,jsxs as as}from"react/jsx-runtime";var ls=()=>{let[e,t]=A("type"),[r,o]=A("shader"),[n,i]=A("animate"),[s,a]=A("uTime"),[l,c]=A("uSpeed"),[u,f]=A("uStrength"),[m,d]=A("uDensity"),[p,_]=A("uFrequency"),[x,v]=A("uAmplitude"),[h,y]=A("pixelDensity"),[b,g]=Of.useState("");return as("div",{className:"flex flex-col gap-3",children:[as(I,{title:"Type",children:[pe(U,{name:"type",value:"plane",setValue:t,check:e==="plane",label:"Plane"}),pe(U,{name:"type",value:"sphere",setValue:t,check:e==="sphere",label:"Sphere"}),pe(U,{name:"type",value:"waterPlane",setValue:t,check:e==="waterPlane",label:"Water"})]}),["plane","waterPlane"].includes(e)&&as(I,{title:"Shader",children:[pe(U,{name:"shader",value:"defaults",setValue:o,check:r==="defaults",label:"A"}),pe(U,{name:"shader",value:"positionMix",setValue:o,check:r==="positionMix",label:"B"})]}),pe(I,{title:"Noise Strength",info:!0,hoverContent:"Control the height of the bumps",isHovered:b,onMouseEnter:()=>{g("Noise Strength")},onMouseLeave:()=>{g("")},children:pe(te,{defaultValue:u,setValue:f,step:.1,min:0,max:10})}),pe(I,{title:"Noise Density",info:!0,hoverContent:"Control the frequency of the bumps",isHovered:b,onMouseEnter:()=>{g("Noise Density")},onMouseLeave:()=>{g("")},children:pe(te,{defaultValue:m,setValue:d,step:.1,min:0,max:7})}),e==="sphere"&&pe(I,{title:"Spiral",children:pe(te,{defaultValue:x||0,setValue:v,step:.1,min:0,max:7})}),pe(I,{title:"Pixel Density",children:pe(te,{defaultValue:h,setValue:y,step:.1,min:0,max:3})})]})};import*as kr from"react";import{Fragment as Gh,jsx as W,jsxs as er}from"react/jsx-runtime";var cs=({isFigma:e})=>{let[t,r]=A("color1"),[o,n]=A("color2"),[i,s]=A("color3"),[a,l]=A("grain"),[c,u]=A("lightType"),[f,m]=A("envPreset"),[d,p]=A("reflection"),[_,x]=A("brightness"),[v,h]=A("bgColor1"),[y,b]=A("bgColor2"),g=ee(R=>R.updateHoverState),[T,w]=kr.useState("off"),[C,S]=kr.useState("");return kr.useEffect(()=>{w(v!=="#000000"||y!=="#000000"?"on":"off")},[v,y]),er("div",{className:"flex flex-col gap-3",children:[W(I,{title:"Color 1",info:!0,onMouseEnter:()=>g(1),onMouseLeave:()=>g(0),children:W(Pe,{defaultValue:t,setValue:r})}),W(I,{title:"Color 2",info:!0,onMouseEnter:()=>g(2),onMouseLeave:()=>g(0),children:W(Pe,{defaultValue:o,setValue:n})}),W(I,{title:"Color 3",info:!0,onMouseEnter:()=>g(3),onMouseLeave:()=>g(0),children:W(Pe,{defaultValue:i,setValue:s})}),er(I,{title:"Grain",info:!0,hoverContent:"Grain effects can slow down the performance of the animation. ",isHovered:C,onMouseEnter:()=>{S("Grain")},onMouseLeave:()=>{S("")},children:[W(U,{name:"grain",value:"on",setValue:l,check:a==="on",label:"On"}),W(U,{name:"grain",value:"off",setValue:l,check:a==="off",label:"Off"})]}),er(I,{title:"Environment",info:!0,hoverContent:"Environment lighting creates more dynamic lighting effects, e.g. reflections",isHovered:C,onMouseEnter:()=>{S("Environment")},onMouseLeave:()=>{S("")},children:[W(U,{name:"lightType",value:"env",setValue:u,check:c==="env",label:"On"}),W(U,{name:"lightType",value:"3d",setValue:u,check:c==="3d",label:"Off"})]}),c==="env"&&er(I,{title:"Env Preset",children:[W(U,{name:"envPreset",value:"city",setValue:m,check:f==="city",label:"City"}),W(U,{name:"envPreset",value:"dawn",setValue:m,check:f==="dawn",label:"Dawn"}),W(U,{name:"envPreset",value:"lobby",setValue:m,check:f==="lobby",label:"Lobby"})]}),c==="env"&&W(I,{title:"Reflection",children:W(te,{defaultValue:d,setValue:p,step:.1,min:0,max:1})}),c==="3d"&&W(I,{title:"Brightness",children:W(te,{defaultValue:_,setValue:x,step:.1,min:0,max:3})}),e===!1&&er(I,{title:"Custom Background",info:!0,hoverContent:"Change the background behind the 3d object. Default to be black",isHovered:C,onMouseEnter:()=>{S("Custom Background")},onMouseLeave:()=>{S("")},children:[W(U,{name:"customBg",value:"on",setValue:w,check:T==="on",label:"On"}),W(U,{name:"customBg",value:"off",setValue:w,check:T==="off",label:"Off"})]}),T==="on"&&er(Gh,{children:[W(I,{title:"Bg Color 1",children:W(Pe,{defaultValue:v===null?"#000000":v,setValue:h})}),W(I,{title:"Bg Color 2",children:W(Pe,{defaultValue:y===null?"#000000":y,setValue:b})})]})]})};import*as If from"react";import{Fragment as Yh,jsx as Le,jsxs as dn}from"react/jsx-runtime";var fs=()=>{let[e,t]=A("animate"),[r,o]=A("uTime"),[n,i]=A("uSpeed"),[s,a]=A("range"),[l,c]=A("rangeStart"),[u,f]=A("rangeEnd"),[m,d]=If.useState("");return dn("div",{className:"flex flex-col gap-3",children:[dn(I,{title:"Animate",children:[Le(U,{name:"animate",value:"on",setValue:t,check:e==="on",label:"On"}),Le(U,{name:"animate",value:"off",setValue:t,check:e==="off",label:"Off"})]}),e==="off"&&Le(I,{title:"Movements",children:Le(te,{defaultValue:r,setValue:o,step:.1,min:0,max:9})}),e==="on"&&dn(Yh,{children:[Le(I,{title:"Speed",children:Le(te,{defaultValue:n,setValue:i,step:.1,min:0,max:2})}),dn(I,{title:"Range",info:!0,hoverContent:"Make the motion repeated by setting a beginning and end. Off to make it infinite. ",isHovered:m,onMouseEnter:()=>{d("Range")},onMouseLeave:()=>{d("")},children:[Le(U,{name:"range",value:"enabled",setValue:a,check:s==="enabled",label:"On"}),Le(U,{name:"range",value:"disabled",setValue:a,check:s==="disabled",label:"Off"})]}),s==="enabled"&&Le(I,{title:"Range Start/End",info:!0,hoverContent:"Set a start and end of the repeated range.",isHovered:m,onMouseEnter:()=>{d("Range Start/End")},onMouseLeave:()=>{d("")},children:Le(Or,{defaultValue:[l,u],setValue:p=>{let[_,x]=p;l!==_&&(o(_),c(_)),u!==x&&f(x)},step:.1,min:0,max:40})})]})]})};import*as Ff from"react";import{jsx as ue,jsxs as mn}from"react/jsx-runtime";var us=()=>{let[e,t]=A("cDistance"),[r,o]=A("cameraZoom"),[n,i]=A("cAzimuthAngle"),[s,a]=A("cPolarAngle"),[l,c]=A("positionX"),[u,f]=A("positionY"),[m,d]=A("positionZ"),[p,_]=A("rotationX"),[x,v]=A("rotationY"),[h,y]=A("rotationZ"),[b,g]=A("fov"),[T,w]=Ff.useState(""),[C]=A("type");return mn("div",{className:"flex flex-col gap-3",children:[C!=="sphere"&&ue(I,{title:"Distance",children:ue(te,{defaultValue:e,setValue:t,step:.1,min:0,max:20})}),C==="sphere"&&ue(I,{title:"Zoom",children:ue(te,{defaultValue:r,setValue:o,step:.1,min:.1,max:30})}),mn(I,{title:"Camera Angle",info:!0,hoverContent:"Imagine a globe. Azimuth moves the camera in the direction of latitude, and polar, in the direction of longtitude",isHovered:T,onMouseEnter:()=>{w("Camera Angle")},onMouseLeave:()=>{w("")},children:[ue(se,{label:"azimuth",step:10,value:n,setValue:i,arrow:!0}),ue(se,{label:"polar",step:10,min:0,max:180,value:s,setValue:a,arrow:!0})]}),mn(I,{title:"Object Position",children:[ue(se,{label:"x",step:.1,value:l,setValue:c,arrow:!0}),ue(se,{label:"y",step:.1,value:u,setValue:f,arrow:!0}),ue(se,{label:"z",step:.1,value:m,setValue:d,arrow:!0})]}),mn(I,{title:"Object Rotation",children:[ue(se,{label:"x",step:10,value:p,setValue:_,arrow:!0}),ue(se,{label:"y",step:10,value:x,setValue:v,arrow:!0}),ue(se,{label:"z",step:10,value:h,setValue:y,arrow:!0})]}),ue(I,{title:"Field of view",children:ue(te,{defaultValue:b,setValue:g,step:10,min:0,max:180})})]})};import{jsx as pn,jsxs as jh}from"react/jsx-runtime";var qh=()=>{let[e,t]=A("bgColor1"),[r,o]=A("bgColor2");return jh("div",{className:"flex flex-col gap-3",children:[pn(I,{title:"Bg Color 1",info:!0,children:pn(Pe,{defaultValue:e,setValue:t})}),pn(I,{title:"Bg Color 2",info:!0,children:pn(Pe,{defaultValue:r,setValue:o})})]})};import*as hn from"react";import{jsx as De,jsxs as ds}from"react/jsx-runtime";var ms=()=>{let[e,t]=A("uTime"),[r,o]=A("rangeStart"),[n,i]=A("rangeEnd"),[s,a]=hn.useState(""),[l,c]=A("pixelDensity"),[u,f]=A("frameRate"),[m,d]=A("destination"),[p,_]=A("format");return hn.useEffect(()=>{f(10)},[]),ds("div",{className:"flex flex-col gap-3",children:[De(I,{title:"Start/End",info:!0,hoverContent:"Set a start and end of the repeated range.",isHovered:s,onMouseEnter:()=>{a("Start/End")},onMouseLeave:()=>{a("")},children:De(Or,{defaultValue:[r,n],setValue:x=>{let[v,h]=x;r!==v&&(t(v),o(v)),n!==h&&i(h)},step:.1,min:0,max:40})}),De(I,{title:"Frame Rate",info:!0,hoverContent:"Frames per second. The higher the value is, the animation is smoother, but file gets larger.",isHovered:s,onMouseEnter:()=>{a("Frame Rate")},onMouseLeave:()=>{a("")},children:De(te,{defaultValue:u,setValue:f,step:1,min:1,max:30})}),De(I,{title:"Pixel Density",info:!0,hoverContent:"The higher the pixel density, the more detailed the image is. If you want to extract a large GIF, set the value higher.",isHovered:s,onMouseEnter:()=>{a("Pixel Density")},onMouseLeave:()=>{a("")},children:De(te,{defaultValue:l,setValue:c,step:1,min:1,max:9})}),ds(I,{title:"Destination",info:!0,hoverContent:"Add the extracted file into the Figma canvas, or download in your device",isHovered:s,onMouseEnter:()=>{a("Destination")},onMouseLeave:()=>{a("")},children:[De(U,{name:"destination",value:"onCanvas",setValue:x=>{d(x),_("gif")},check:m==="onCanvas",label:"On canvas"}),De(U,{name:"destination",value:"localFile",setValue:d,check:m==="localFile",label:"Local file"})]}),m==="localFile"&&ds(I,{title:"Format",autoScroll:!0,children:[De(U,{name:"format",value:"webm",setValue:_,check:p==="webm",label:".webm"}),De(U,{name:"format",value:"gif",setValue:_,check:p==="gif",label:".gif"})]})]})};import{useState as Jh}from"react";import{motion as Bf}from"framer-motion";var Nf="f1eccf29b11824a9599eafab5bfc0a8687de5ce70852605629103e68248bf53c",Xh=`._controlMobile_16m09_1 {
  width: 100%;
  height: fit-content;
}
._controlMobile_16m09_1 ._hideBtn_16m09_5 {
  width: 100vw;
  color: #ff430a;
}
._controlMobile_16m09_1 ._hideBtn_16m09_5 div {
  margin: 10px auto;
  display: flex;
  height: 1.8em;
  width: 1.8em;
  border-radius: 100%;
  background-color: white;
}
._controlMobile_16m09_1 ._hideBtn_16m09_5 p {
  line-height: 1.8em;
  width: 100%;
  text-align: center;
}`;(function(){if(typeof document<"u"&&!document.getElementById(Nf)){var e=document.createElement("style");e.id=Nf,e.textContent=Xh,document.head.appendChild(e)}})();var gn={controlMobile:"_controlMobile_16m09_1",hideBtn:"_hideBtn_16m09_5"};import Zh,{useRef as Qh}from"react";import{useAnimation as Wh,motion as Hf}from"framer-motion";import{jsx as kf}from"react/jsx-runtime";function ps({mode:e="mobile",setMode:t=void 0,children:r,activeTab:o="none",setActiveTab:n=void 0,className:i=""}){let s=Wh();Zh.useEffect(()=>{o==="none"?s.start({height:58,transition:{duration:.3}}):s.start({height:"fit-content",transition:{duration:.3}})},[o]);let a=Qh(null);return Qo(a,()=>n("none")),kf(Hf.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},style:{width:"100vw",height:"fit-content",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2},children:kf(Hf.div,{ref:a,className:Y("z-10 rounded-sm",i),style:{width:"584px",display:"flex",flexDirection:"column",boxShadow:e==="mobile"||e==="web"?"0px 0px 20px 0px rgba(0, 0, 0, 0.1)":"none",background:e==="about"?"#141414":"white",originY:1,justifyContent:"flex-end",marginBottom:20},transition:{type:"spring",damping:12,stiffness:200,delay:2},animate:s,children:r})})}ps.defaultProps={};import{motion as Kh}from"framer-motion";import{jsx as Ur,jsxs as $h}from"react/jsx-runtime";var Uf=({activeTab:e,setActiveTab:t,isFigma:r,isMobile:o,isGIF:n})=>{let[i]=A("type");return i?$h(Kh.div,{className:Y("w-full bg-controls-panel-mobile text-primary mx-auto relative hide-scrollbar h-fit"),style:{originY:1},animate:{padding:e==="none"?0:20,overflow:e==="none"?"hidden":"visible",borderRadius:o===!0?0:"4px 4px 0 0",marginBottom:o===!0&&r===!1?56:0},transition:{duration:.72,padding:{duration:0},overflow:{delay:e!=="none"?.72:0}},children:[e==="shape"&&n===!1&&Ur(ls,{}),e==="colors"&&n===!1&&Ur(cs,{isFigma:r}),e==="motion"&&n===!1&&Ur(fs,{}),e==="view"&&n===!1&&Ur(us,{}),n===!0&&Ur(ms,{})]}):null};import{jsx as Ze,jsxs as hs}from"react/jsx-runtime";var Vf=({isMobile:e,isFigma:t=!1,isGIF:r=!1})=>{let o=!e&&!t,[n,i]=Jh(o?"none":"shape"),s=He(c=>c.mode),a=He(c=>c.setMode),l=hs("div",{style:{display:"flex",flexDirection:t===!0?"column-reverse":"column",justifyContent:"flex-end"},onMouseMove:()=>{ee.setState({hover:"control"})},onMouseLeave:()=>{ee.setState({hover:"default"})},children:[Ze(Uf,{activeTab:n,setActiveTab:i,isFigma:t,isMobile:e,isGIF:r}),hs("div",{style:{width:"100%",display:r===!0?"none":"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",height:58},className:Y(t&&"sticky top-0",e&&"absolute z-allControl"),children:[Ze(un,{activeTab:n,setActiveTab:i,isMobile:e}),e===!1&&Ze(cn,{darkMode:!1})]})]});return Ze("div",{children:e===!0?hs("div",{className:gn.controlMobile,children:[!t&&Ze(Bf.div,{className:gn.floating,children:Ze(Bf.div,{className:gn.hideBtn,onClick:()=>{i("none")},animate:{opacity:n==="none"?0:1,marginTop:n==="none"?"5px":"-35px",transition:{duration:.5}},children:Ze("div",{children:Ze("p",{children:"\u2715"})})})}),l]}):Ze(ps,{mode:s,setMode:a,activeTab:n,setActiveTab:i,children:l})})};import*as Yf from"react";import{motion as vn,useAnimation as xn}from"framer-motion";var Gf="33d775a5affb6a8afc7cd758e2e859e369362ecc83ee9f4e5d347568463de16e",e0=`@import url("https://fonts.googleapis.com/css2?family=Lora:wght@400;500;700&display=swap");
._presetWrapper_153u3_2 {
  width: 100vw;
  height: fit-content;
}
@media (max-width: 640px) {
  ._presetWrapper_153u3_2 {
    width: fit-content;
  }
}

._presetTitle_153u3_12 {
  width: 100vw;
  height: fit-content;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: "Lora", serif;
  font-weight: 500;
}

._slideBtns_153u3_22 {
  display: flex;
  font-family: "Inter", sans-serif;
}

._slideBtn_153u3_22 {
  border-radius: 100px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  margin-right: -5px;
}

._clickOnTitle_153u3_36 {
  width: 100%;
  height: 50%;
  background: white;
  cursor: pointer;
  filter: blur(30px);
  border-radius: 100%;
}`;(function(){if(typeof document<"u"&&!document.getElementById(Gf)){var e=document.createElement("style");e.id=Gf,e.textContent=e0,document.head.appendChild(e)}})();var it={presetWrapper:"_presetWrapper_153u3_2",presetTitle:"_presetTitle_153u3_12",slideBtns:"_slideBtns_153u3_22",slideBtn:"_slideBtn_153u3_22",clickOnTitle:"_clickOnTitle_153u3_36"};import{jsx as tr,jsxs as yn}from"react/jsx-runtime";function gs({color:e="#FF430A",title:t="title",index:r=0,fontSize:o=120,isMobile:n=!1,arrowOn:i=!0}){let s=He(p=>p.activePreset),a=He(p=>p.setActivePreset),l=()=>{let p;s!==Ne.length-1?p=s+1:p=0,a(p),We(Ne[p].url)},c=()=>{let p;s!==0?p=s-1:p=Ne.length-1,a(p),We(Ne[p].url)};Yf.useEffect(()=>{f.start({opacity:1,transition:{delay:.3}}),u.start({opacity:1,transition:{delay:.3}})},[]);let u=xn(),f=xn(),m=xn(),d=xn();return tr("div",{className:it.presetWrapper,children:yn("div",{className:it.presetTitle,style:{display:r===s?"flex":"none",gap:25,flexDirection:n===!0?"column":"row"},children:[yn("div",{style:{width:"fit-content",height:"fit-content",position:"relative"},children:[yn("div",{style:{width:"100%",height:"100%",position:"absolute",display:"flex",flexDirection:"column",zIndex:10},children:[tr(vn.div,{className:it.clickOnTitle,style:{opacity:0},whileHover:{opacity:.4},animate:m,onClick:l,onMouseMove:()=>{ee.setState({hover:"arrowUp"}),u.start({opacity:1}),f.start({opacity:.4})},onMouseLeave:()=>{ee.setState({hover:"default"}),u.start({opacity:1}),f.start({opacity:1})}}),tr(vn.div,{className:it.clickOnTitle,style:{opacity:0},whileHover:{opacity:.4},animate:d,onClick:c,onMouseMove:()=>{ee.setState({hover:"arrowDown"}),f.start({opacity:1}),u.start({opacity:.4})},onMouseLeave:()=>{ee.setState({hover:"default"}),f.start({opacity:1}),u.start({opacity:1})}})]}),tr(ts,{delay:0,font:'"Lora", serif',color:e,fontSize:o,yBefore:50,content:n===!0?t.substring(3):t})]}),yn("div",{className:it.slideBtns,style:{color:e,fontSize:n===!0?22:30,display:i===!1?"none":"flex"},children:[tr(vn.div,{className:it.slideBtn,initial:{opacity:0},animate:f,onMouseOver:()=>{d.start({opacity:.4}),u.start({opacity:.4}),ee.setState({hover:"arrowDown"})},onMouseLeave:()=>{m.start({opacity:0}),d.start({opacity:0}),f.start({opacity:1}),u.start({opacity:1}),ee.setState({hover:"default"})},onClick:c,style:{width:n?35:40,height:n?35:40},children:"\u2193"}),tr(vn.div,{className:it.slideBtn,animate:u,initial:{opacity:0},onMouseOver:()=>{m.start({opacity:.4}),f.start({opacity:.4}),ee.setState({hover:"arrowUp"})},onMouseLeave:()=>{m.start({opacity:0}),d.start({opacity:0}),f.start({opacity:1}),u.start({opacity:1}),ee.setState({hover:"default"})},onClick:l,style:{width:n===!0?35:40,height:n===!0?35:40},children:"\u2191"})]})]})})}import{Fragment as r0,jsx as qf}from"react/jsx-runtime";function t0({isMobile:e=!1,fontSize:t=120,arrowOn:r=!0}){return qf(r0,{children:Ne.map((o,n)=>qf(gs,{index:n,color:o.color,title:n<10?"0"+n.toString()+" "+o.title:n.toString()+" "+o.title,isMobile:e,arrowOn:r,fontSize:t},n))})}var o0=(...e)=>e.filter(t=>!!t).join(" ");export{Vf as AllControls,an as AxisButton,m_ as Background,qh as BackgroundControls,cs as ColorControls,xt as ControlTypeTitle,un as ControlTypeTitles,$t as Feather,ms as GIFControls,l_ as Gradient,U0 as GradientCanvas,Nr as IconButtons,fs as MotionControls,Sn as PRESETS,gs as PresetTitle,t0 as PresetTitles,ls as ShapeControls,zp as TestControl,Cf as Tools,cn as ToolsBox,us as ViewControls,Jf as aboutAngles,eu as aboutPositions,tu as aboutRotations,o0 as cx,ru as mainLoading,Ys as updateGradientState,hu as useCursorStore,js as useUIStore};
